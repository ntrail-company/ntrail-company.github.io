{"version":3,"sources":["media/SVG/circles black and grey/SVG/2.svg","media/SVG/circles black and grey/SVG/4.svg","media/SVG/circles black and grey/SVG/3.svg","media/SVG/circles black and grey/SVG/1.svg","components/EntitiesPanel/EntityAvatar/lock.png","media/vkverified.svg","media/defaultAvatar.png","mobile.jpg","store/localStorage.js","constants.js","api/api.js","config.js","store/utils.js","store/searchReducer.js","store/entitiesReducer.js","api/queryStringCreators.js","utils.js","store/selectors.js","store/clustersReducer.js","store/controlsReducer.js","store/workSpaceReducer.js","store/store.js","components/PageHeader/Authorizing/Authorizing.js","components/utils/UI.js","components/utils/Modal.js","components/utils/ReduxFormComponentWrapper.js","store/actions.js","components/PageHeader/Feedback.js","components/PageHeader/PageHeader.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperty.js","components/ControlPanel/PropertiesMenu/SingleProperty.js","components/ControlPanel/ActionsPanel/ActionsPanel.js","components/ControlPanel/ActionsPanel/ActiveActions.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperties.js","components/utils/SearchIcon.js","components/Plot/Plot.js","components/ControlPanel/PropertiesMenu/AllProperties/AllProperties.js","components/ControlPanel/PropertiesMenu/PropertiesMenu.js","components/ControlPanel/FilterPanel/StringSearch.js","components/ControlPanel/FilterPanel/ServerSearch.js","components/ControlPanel/FilterPanel/FilterPanel.js","components/ControlPanel/ParamsPanel/ParamsPanel.js","components/ControlPanel/ControlPanel.js","components/utils/QuestionPopup.js","components/utils/NoContent.js","components/ClustersPanel/ImagesGroup.js","components/ClustersPanel/Cluster.js","components/ClustersPanel/Arrow.js","components/ClustersPanel/ClustersGraph.js","components/ClustersPanel/graphLogic.js","components/ClustersPanel/ClustersAnimate.js","components/ClustersPanel/ClusterLine.js","components/ClustersPanel/ClustersTree.js","components/ClustersPanel/ClustersPanel.js","components/utils/Link.js","components/EntitiesPanel/EntitiesGraph.js","components/utils/LazyImage.js","components/EntitiesPanel/EntityAvatar/Entity.js","components/EntitiesPanel/EntitiesList.js","components/EntitiesPanel/EntitiesPanel.js","components/SearchPanel/SearchHints.js","components/SearchPanel/SearchPanel.js","ErrorHandler.js","desktop.js","mobile.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","save_count","saveState","state","force","serializedState","JSON","stringify","localStorage","setItem","console","log","textConstants","server","axios","create","baseURL","executeSelectiveQuery","queryString","get","then","response","responseJson","entity","schema","Entity","mySchema","normalize","normalizeSelectiveQuery","data","executeFeedbackQuery","url","post","executeControlPostQuery","produceActionCreator","type","makeActionCreator","mergeObjectsDepth2","obj1","obj2","obj","Object","entries","key","value","getSelectedClusterID","workSpace","clusters","selectedClusterID","initialData","allHints","currentHints","isLoading","placeholder","isError","errorText","message","draw","header","body","warning","error","TYPE_SYMBOL","SELECT_HINT","CLEAR_INPUT","REMOVE_HINTS","CHANGE_MESSAGE","CLOSE_MESSAGE","ACTIVATE_LOADER","REMOVE_LOADER","makeInputPlaceholder","getStringLastToken","str","split","slice","search","action","lastToken","newHints","length","filter","item","toLowerCase","startsWith","includes","newValue","payload","showMessage","activateLoader","removeLoader","executeQuery","source","undefined","dispatch","getState","result","items","id","entities","processServerResponse","selectCluster","text","catch","query","status","selectEntities","toggleEntitySelection","setEntities","removeEntitiesLoader","setEntitiesSearchValue","setEntitiesItemsList","setSelectionMode","selectedItems","connections","searchValue","selectionMode","join","addClusters","startLoadingCluster","queryTypeCreator","queryType","queryReplaceGetWithLoad","assert","queryLOAD","extractGetQueryAction","queryList","queryGenerateAttrs","attrs","queryCreator","actionName","args","match","colorsList","colorByNumber","idx","reduce","acc","char","charCodeAt","rand","randGen","Set","prototype","difference","otherSet","differenceSet","this","elem","has","add","intersect","x","union","symmetricDifference","round","digits","Number","pow","Math","String","hashCode","i","hash","listHash","list","s","curr","getWorkingEnvironmentSettings","screen","availWidth","window","availHeight","width","height","memory","totalJSHeapSize","performance","usedJSHeapSize","jsHeapSizeLimit","stateSize","clustersCount","entitiesCount","clusterID","getObj","objType","store","objects","getObjects","indexes","map","getEntitiesItemsIDS","getClustersIDS","getSelectedItemsIDS","getActiveClusterID","getClusterParent","cluster","parent","getSelectedEntitiesURLS","createSelector","getCurrentClusterData","getCurrentClusterQuery","params","getEntities","entitiesItems","getClustersData","clustersIDS","getClusters","clustersData","array","entitiesID","randomIDS","initState","sort","photos","valid","img","count","getClustersTreeDict","clustersTree","push","getEntitiesColors","entitiesColors","a","b","removeClusters","makeClusterSelected","setHighlightedClusters","highlightedClusters","newClustersIDS","newClustersMainID","mainID","removeClustersIds","remainingClusters","SELECT_MENU","properties","important","interesting","all","activeItem","filterMode","setProperties","changeFilterMode","autoChangeMenu","newMenu","controls","name","menu","clearAll","setReduxState","initData","version","reducers","combineReducers","sourceCluster","clusterData","itemID","newSelectedItems","newAction","form","formReducer","persistedState","getItem","parse","err","loadState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","Authorizing","Dimmer","active","onClickOutside","props","handleClose","page","Grid","textAlign","verticalAlign","Column","style","maxWidth","minWidth","Header","as","color","Form","size","Segment","stacked","Input","fluid","icon","iconPosition","marginTop","inverted","Component","Button","onClick","otherProps","compact","basic","primary","padding","hexcolor","additionClasses","brightness","parseInt","substr","textColor","backgroundColor","className","e","preventDefault","UIGroup","children","UISegment","CustomModal","Modal","open","closeIcon","onClose","formInputComponent","submit","submitIcon","canSubmit","input","searchIcon","link","onKeyDown","keyCode","meta","onChange","formRadioComponent","Radio","checked","formTextComponent","TextArea","formRatingComponent","Rating","marginBottom","onRate","rating","clearable","maxRating","formComponentGenerator","TargetComponent","valueName","keyWords","transformEntities","setTransformFunc","selectedClusters","selectedClustersEntities","resultEntities","deleteSelectedCluster","clustersToDelete","childrenClusters","getClustersChildren","ids","flat","executeClusterAction","currPrefix","prefix","getCurrentClusterPrefix","entitiesIDS","messageTypes","AlertModal","margin","fontSize","float","mapDispatchToProps","onSubmit","values","feedbackData","env","options","sendAlarmerMessage","messageType","contact","selector","formValueSelector","connect","reduxForm","forceUnregisterOnUnmount","handleSubmit","useState","visibleAlert","setVisibleAlert","successMessage","setSuccessMessage","SubmissionError","_error","submitValidate","Message","Field","messType","component","label","PageHeader","Menu","secondary","Item","position","marginRight","setState","Confidence","level","filled","Array","fill","_","actionButtonsData","doNotHaveProperty","popupText","iconName","haveProperty","decreaseOrder","increaseOrder","mapDispatchToState","propertyDict","Table","Row","Cell","percent","generatePropertyNameFromDict","Icon","stopPropagation","ActionPanelButton","iconStyle","display","src","alt","alignItems","downloadWorkSpace","filename","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","URL","createObjectURL","href","download","appendChild","click","setTimeout","removeChild","revokeObjectURL","uploadWorkSpace","onchange","target","files","reader","FileReader","readAsText","onload","readerEvent","content","alert","location","reload","intersectClusters","unionClusters","subtractClusters","symDiffClusters","pickOutToCluster","selectedEntities","getFriendsAction","deleteFromCluster","allEntities","subtractedEntities","selectedClustersCount","selectedEntitiesCount","haveClusters","currentClusterEntitiesCount","clusterActions","actions","marginLeft","Group","vertical","headerMargin","iconCircleUnion","iconCircleSum","iconCircleDiff","iconCircleSymDiff","deleteSelectedClusters","actionSelectedEntities","importantProperties","description","interestingProperties","maxHeight","overflow","scrollbarWidth","selectable","fixed","HeaderCell","Body","propertyItem","moveToAll","SearchIcon","isInputStringEmpty","onSearch","CircularPlot","onSelectItem","entry","index","LinePlot","isLogMode","setLogMode","y","top","right","left","bottom","strokeDasharray","hide","dataKey","stroke","activeDot","r","Checkbox","Plot","onSelectNode","plotProps","event","activePayload","PlotPopup","Popup","pinned","trigger","on","flowing","allProperties","setInputValue","activeIDS","setActiveIDS","toggleProperty","titleProps","itemId","searchStringChange","newProperties","property","indexOf","useEffect","openedPropID","openedID","newProps","Accordion","Title","activePropertyId","plot","node","circular","Content","subProperty","PropertiesPanel","clickMenu","openAllMenuWithProp","propID","arr","pop","extractFromString","regex","exec","matches","submitFilterSearch","limit","errorMessage","commonQueryString","universalQuery","test","vkSearchQuery","initialValues","vkUsersInclude","vkGroupsInclude","vkPostsInclude","autoComplete","PageSearch","searchMode","Dropdown","selection","CopyPasteInput","condition","selectedEntitiesID","selectedEntitiesURLS","selectedClustersID","widths","selectMenu","menuName","NoContent","minHeight","noContentCss","justifyContent","QuestionPopup","popup","ClusterImages","calculatePhotoCSS","css","zIndex","Cluster","chooseCluster","selected","dragCluster","dimensions","setDimensions","clusterCss","targetRef","useRef","useLayoutEffect","current","offsetWidth","offsetHeight","clusterContainerClasses","isOverlay","ref","onMouseDown","showCheckbox","highlighted","toggleClusterHighlight","Arrow","x1","x2","y1","y2","shorten","shiftX","shiftY","lineLength","sqrt","newLength","lengthFraction","newShiftX","newShiftY","ClustersGraph","sizes","graph","onMouseMove","movementX","movementY","onMouseUp","stopDrag","onMouseLeave","nodes","pos","overlayClusterID","edges","from","to","repulsionForce","attractionForce","borderRepulsionForce","centralAttractionForce","Vector","other","mult","createVector","min","max","getDist","currLower","currUpper","targetLower","targetUpper","needBound","Node","maxSize","random","velocity","lastShift","lockedPosition","__exist","mag","distVector","parameters","direction","lowerBorder","upperBorder","minValue","coef","dist","div","forceFactor","connected","dir","copy","sub","move","toForceVector","center","sum","normalizeCoordinate","maxValue","forceVector","normalizePosition","Graph","nodesDict","edge","edgesDict","id1","id2","wasUpdated","minDist","bestNode","getDistanceWith","res","forces","node1","nodeBorderForce","calculateForceWithBorders","node2","calculateForceWith","calculateForces","applyForce","makeGraphIteration","applyForces","updateGraphWith","existingNodesDict","newNodes","getData","React","toggleOpen","opened","haveChildren","indent","containerClasses","ClustersTree","parentID","clustersID","currLevelClusters","openedClusters","setOpenedClusters","child","deleteCluster","reloadCluster","clusterQuery","haveControlButtons","haveSelectionActions","noContent","Link","rel","getNodeColorAndSize","visibleEntities","UpdateNodeProps","render","sigma","forEach","n","updateNode","assign","refresh","GraphActiveHint","Image","GraphSelectedEntity","setSelectedEntity","highlightColor","colorCluster","toggleItemSelection","visibleEntitiesIDS","activeEntity","setActiveEntity","activeEntityPos","setActiveEntityPos","selectedEntity","selectNode","onClickNode","graphID","val","renderer","firstID","secondID","settings","defaultNodeColor","defaultEdgeColor","edgeColor","drawEdges","labelThreshold","minNodeSize","maxNodeSize","onOverNode","onOutNode","worker","scalingRatio","slowDown","linLogMode","iterationsPerRender","timeout","sameColorEntities","LazyImage","showImage","show","defaultImg","createRef","prevProps","prevState","snapshot","update","onLoad","Visibility","fireOnMount","onOnScreen","Placeholder","EntityItem","baseClasses","borderColor","lockIcon","lockImg","verifyIcon","verifyImg","toggleSelection","onContextMenu","bordered","centered","title","private","verified","EntitiesList","visibleItemsCount","setVisibleItemsCount","entitiesToShow","onScroll","percents","scrollTop","scrollHeight","clientHeight","SelectionComponent","buttonAction","activeButton","setActiveButton","onMouseEnter","setSearchValue","isNotValidHidden","changeNotValidHiddenMode","isGraphView","setGraphView","currClusterID","setCurrClusterID","selectEntity","entityID","fitToSearch","username","isEntityVisible","menuItemStyle","Dimmable","blurring","clearing","dimmed","flexDirection","indeterminate","paddingRight","toggle","Loader","Hints","activeIndex","onkeydown","chooseElement","unmountHints","marginLeftSymbols","getAttribute","typeSymbol","selectHint","removeHints","closeMessage","hints","loading","isWarning","focused","setFocus","beginExecuteQueryString","onFocus","onBlur","ErrorHandler","hasError","errorInfo","clickReturn","bind","DesktopInterface","Container","columns","flexGrow","MobileInterface","mobilePicture","App","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.251e4d3e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/2.9ed51b09.svg\";","module.exports = __webpack_public_path__ + \"static/media/4.4045a540.svg\";","module.exports = __webpack_public_path__ + \"static/media/3.1a5c1687.svg\";","module.exports = __webpack_public_path__ + \"static/media/1.6d1d72e9.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTg4NzZmMy01NjM4LWI5NDItOTU0My1iM2Q3Y2JmYTIwYWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5RkU4RjkyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5RkU4RjgyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGYyN2VmM2QtYzAxOS01NDRmLTk5NmEtYjU4MDE2Mzk3YTc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NmEwMGQ2Y2YtMjY3Yi0xMWU4LTliOGEt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\"","module.exports = __webpack_public_path__ + \"static/media/vkverified.0063cefb.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/mobile.eaa46fed.jpg\";","export const loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) {\n            return undefined;\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        return undefined;\n    }\n};\nlet save_count = 0;\n\nexport const saveState = (state, force=false) => {\n    save_count += 1;\n    if (force || save_count % 10 !== 0){\n        try {\n            const serializedState = JSON.stringify(state);\n            localStorage.setItem('state', serializedState);\n        } catch {\n            console.log('Error in save state')\n            // ignore write errors\n        }\n    }\n};\n\nexport const clearLocalStorage = () => {\n    saveState('');\n};\n","export const textConstants = {\n    controlPanelExplanation: 'Тут много текста. Рассказывается о том, как пользоваться этой панелью свойств и фильтров.',\n    motivationHeaderText: 'Анализируйте прифили людей в VK, Instagram, Twitter, Facebook. Узнайте много нового о ваших друзьях и знакомых. Сравнивайте аккаунты между собой. Найдите нужную информацию о каждом!',\n    messageWrongSyntax: 'В тексте запроса допущена синтаксическая ошибка'\n}\n","import axios from \"axios\";\nimport {apiHost} from \"../config\";\nimport {normalize, schema} from \"normalizr\";\n\nconst server = axios.create(\n    {\n        baseURL: apiHost,\n    }\n);\n\n\nconst normalizeSelectiveQuery = (responseJson) => {\n    const entity = new schema.Entity('entities');\n    const cluster = new schema.Entity('clusters', {\n        'entities': {\n            'items': [entity]\n        }\n    });\n    const mySchema = {\n        'clusters': {\n            'items': [cluster]\n        }\n    };\n    return normalize(responseJson, mySchema)\n};\n\nexport const executeSelectiveQuery = (queryString) => (\n    server.get(`/query/?q=${queryString}`).then(\n        response => normalizeSelectiveQuery(response.data.data)\n    )\n);\n\nconst executeControlPostQuery = (url, data) => {\n    server.post(`/${url}/`, data).then(response=>console.log(response))\n};\n\nexport const executeFeedbackQuery = (data) => {\n    executeControlPostQuery('feedback', data);\n};\n\n\n\n\n","// export const apiHost = \"http://localhost:5050\";\nexport const apiHost = \"https://fivol.site\";\nexport const alarmerKey = '104839-00cc49-791ee0';\n\nexport const version = '1.5';","import makeActionCreator from 'make-action-creator';\n\n\nexport function produceActionCreator(type, ...keys) {\n    return makeActionCreator(type)\n}\n\nexport const mergeObjectsDepth2 = (obj1, obj2) => {\n    const obj = {...obj1};\n    for (let [key, value] of Object.entries(obj2)) {\n        if (key in obj)\n            obj[key] = {...obj[key], ...value};\n        else\n            obj[key] = value\n    }\n    return obj\n};\n\n\n\nexport const getSelectedClusterID = (state)=>{\n    return state.workSpace.clusters.selectedClusterID;\n};\n\n\nexport const reducerWrapper = (reducerFunc) => {\n    return (state, action) => {\n        const obj = reducerFunc(state, action);\n        if ('force' in obj)\n            return obj;\n        return {\n            ...state,\n            ...obj\n        }\n    }\n};\n\nexport function download(data, filename, type) {\n    let file = new Blob([data], {type: type});\n    if (window.navigator.msSaveOrOpenBlob) // IE10+\n        window.navigator.msSaveOrOpenBlob(file, filename);\n    else { // Others\n        let a = document.createElement(\"a\"),\n            url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function() {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    }\n}","import {textConstants} from \"../constants\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {addClusters, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {produceActionCreator} from \"./utils\";\n\nconst initialData = {\n    queryString: '',\n    allHints: [\"https://\",\n        \"vk.com/\",\n        \"instagram.com/\",\n        \"me\",\n        'GET',\n        'LOAD',\n        'vk.user',\n        'vk.users',\n        'ig.user',\n        'ig.users',\n        \"age\",\n        \"school\",\n        \"sex\",\n        \"city\",\n        \"search\",\n        \"net\",\n        \"internet\",\n        \"page\",\n        \"cache\",\n        \"followers\",\n        \"follows\",\n        \"friends\",\n        'clusters',\n    ],\n    currentHints: [],\n    isLoading: false,\n    placeholder: 'Введите запрос (в произвольной форме можно писать в поле \"Универсальная поисковая строка\")',\n    isError: false,\n    errorText: '',\n    message: {\n        draw: false,\n        header: '',\n        body: '',\n        warning: false,\n        error: false\n    }\n};\n\nconst TYPE_SYMBOL = 'TYPE_SYMBOL';\nconst SELECT_HINT = 'SELECT_HINT';\nconst CLEAR_INPUT = 'CLEAR_INPUT';\nconst REMOVE_HINTS = 'REMOVE_HINTS';\nconst CHANGE_MESSAGE = 'CHANGE_MESSAGE';\nconst CLOSE_MESSAGE = 'CLOSE_MESSAGE';\nconst ACTIVATE_LOADER = 'ACTIVATE_LOADER';\nconst REMOVE_LOADER = 'REMOVE_LOADER';\n\nexport const makeInputPlaceholder = produceActionCreator('make_input_placeholder')\n\nfunction isQueryStringCorrect(queryString) {\n    return !queryString.includes(\"#\");\n\n}\n\nfunction getStringLastToken(str) {\n    return str.split(/[\\s, /()[\\]]+/).slice(-1)[0];\n}\n\nexport function search(state = initialData, action) {\n    switch (action.type) {\n        case TYPE_SYMBOL:\n            const value = action.value;\n            const lastToken = getStringLastToken(value);\n            let newHints = [];\n            if (lastToken.length)\n                newHints = state.allHints.filter(\n                    item => item.toLowerCase().startsWith(lastToken.toLowerCase()) && !(lastToken === item)\n                );\n            return {\n                ...state,\n                currentHints: newHints,\n                queryString: value,\n                isError: !isQueryStringCorrect(value),\n                placeholder: initialData.placeholder\n            };\n        case SELECT_HINT:\n            const newValue =\n                state.queryString.slice(0, -getStringLastToken(state.queryString).length) + action.value;\n            return {\n                ...state,\n                currentHints: [],\n                queryString: newValue\n            };\n        case REMOVE_HINTS:\n            return {\n                ...state,\n                currentHints: []\n            };\n        case CLEAR_INPUT:\n            return {\n                ...state,\n                queryString: '',\n                placeholder: action.placeholder\n            };\n        case CHANGE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    header: action.header,\n                    draw: true,\n                    body: action.body,\n                    error: action.error,\n                    warning: action.warning\n                },\n            };\n        case CLOSE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case ACTIVATE_LOADER:\n            return {\n                ...state,\n                isLoading: true,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case REMOVE_LOADER:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case makeInputPlaceholder.type:\n            return {\n                ...state,\n                placeholder: action.payload,\n                queryString: ''\n            };\n        default:\n            return state\n    }\n}\n\nexport const typeSymbol = (value) => ({'type': TYPE_SYMBOL, 'value': value});\nexport const selectHint = (value) => ({'type': SELECT_HINT, 'value': value});\nexport const removeHints = () => ({'type': REMOVE_HINTS});\nexport const showMessage = (header, body, error = false, warning = false) => ({\n    type: CHANGE_MESSAGE,\n    header, body, error, warning\n});\nexport const closeMessage = () => ({type: CLOSE_MESSAGE});\nexport const activateLoader = () => ({type: ACTIVATE_LOADER});\nexport const removeLoader = () => ({type: REMOVE_LOADER});\n\nexport const executeQuery = (queryString, source = undefined) => (\n    (dispatch, getState) => {\n        dispatch(makeInputPlaceholder(queryString));\n        if (queryString.length === 0) {\n            let messageBody;\n            if (queryString.length === 0) {\n                messageBody = 'Введите запрос в строку. Пока она пустая';\n                dispatch(showMessage('Пустая строка', messageBody, false, true));\n            } else {\n                messageBody = 'Тут должно быть описание конкретной ошибки, но я пока не сделал разбор';\n                dispatch(showMessage(textConstants.messageWrongSyntax, messageBody, true));\n            }\n\n        } else {\n            dispatch(activateLoader());\n            executeSelectiveQuery(queryString).then(\n                response => {\n                    dispatch(removeLoader());\n                    if (response.result.clusters) {\n                        response.result.clusters.items = response.result.clusters.items.filter(\n                            id => response.entities.clusters[id].entities.items.length > 0);\n                        if (response.result.clusters.items.length === 0) {\n                            dispatch(showMessage('Ответ сервера', 'Получен пустой кластер (он не отображается)', false, true));\n                        } else {\n                            console.log('Good clusters', response);\n                            dispatch(processServerResponse({response: response, source: source}));\n                            dispatch(selectCluster(response.result.clusters.items[0]))\n                        }\n                    } else if (response.result.warning) {\n                        dispatch(showMessage('Ответ сервера', response.result.warning.text, false, true));\n                    }\n                }\n            ).catch(\n                query => {\n                    dispatch(removeLoader());\n                    const response = query.response;\n                    if (!response) {\n                        console.log(query);\n                        dispatch(showMessage(`Ошибка сети`, 'Либо у вас нету интернета, либо сервер упал, также возможно просто разраб криворукий', true))\n                    } else {\n                        dispatch(showMessage(`Ошибка выполнения зарпоса (${response.status})`, response.data.error, true))\n                    }\n                }\n            )\n        }\n    }\n);\n\n\n","import {produceActionCreator} from \"./utils\";\nimport {addClusters, startLoadingCluster} from \"./clustersReducer\";\n\nexport const selectEntities = produceActionCreator('SELECT_ENTITIES');\nexport const toggleEntitySelection = produceActionCreator('TOGGLE_ENTITY_SELECTION');\nexport const setEntities = produceActionCreator('setEntities');\nexport const removeEntitiesLoader = produceActionCreator('removeLoader');\nexport const setEntitiesSearchValue = produceActionCreator('setSearchValue');\nexport const setEntitiesItemsList = produceActionCreator('setEntitiesItemsList');\nexport const setSelectionMode = produceActionCreator('setSelectionMode');\n\nconst initialData = {\n    isLoading: false,\n    selectedItems: [],\n    items: [],\n    connections: {},\n    searchValue: '',\n    selectionMode: false\n};\n\nexport function entities(state = initialData, action) {\n    switch (action.type) {\n        case setSelectionMode.type:\n            return {\n                ...state,\n                selectionMode: action.payload\n            };\n        case setEntitiesItemsList.type:\n            return {\n                ...state,\n                searchValue: action.payload.join(', ')\n            };\n        case setEntitiesSearchValue.type:\n            return {\n                ...state,\n                searchValue: action.payload\n            };\n        case removeEntitiesLoader.type:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case addClusters.type:\n            return {\n                ...state,\n                isLoading: false,\n            };\n        case startLoadingCluster.type:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case selectEntities.type:\n            return {\n                ...state,\n                selectedItems: action.payload\n            };\n        case setEntities.type:\n            return {\n                ...state,\n                items: action.payload.items,\n                connections: action.payload.connections,\n                selectedItems: [],\n                searchValue: ''\n            };\n        default:\n            return state\n    }\n}\n\n\n","const queryTypeCreator = (queryType, queryString) => {\n    return `${queryType} ${queryString}`\n};\n\nconst extractGetQueryAction = (queryString) => {\n    return queryString.slice(4)\n};\n\nexport const queryGET = (queryString) => {\n    return queryTypeCreator('GET', queryString);\n};\n\n\nexport const queryLOAD = (queryString) => {\n    return queryTypeCreator('LOAD', queryString);\n};\n\n\nexport const queryReplaceGetWithLoad = (queryString) => {\n    console.assert(queryString.toLowerCase().startsWith('get '));\n    return queryLOAD(extractGetQueryAction(queryString))\n};\n\nexport const queryList = (items) => {\n    return `(${items.join(', ')})`\n};\n\nexport const queryGenerateParams = (params) => {\n    return `[${params.join(' ')}]`\n};\n\nconst queryGenerateAttrs = (attrs) => {\n    if (!attrs)\n        return '';\n    if (typeof attrs === 'object')\n        return attrs.join(' ');\n    return attrs;\n};\n\nexport const queryCreator = (actionName, args, attrs = null, queryType = 'GET') => {\n    if (typeof args === 'object')\n        args = queryList(args);\n\n    if(!args.match(/[a-zA-Zа-яА-Я]+/))\n        args = `\"${args}\"`;\n\n    return `${queryType} ${actionName} ${args} ${queryGenerateAttrs(attrs)}`;\n};","import randGen from 'random-seed';\nimport axios from \"axios\";\nimport {alarmerKey} from \"./config\";\n\nexport const colorsList = [\n    '#2E3F7F', '#45D09E', '#116315', '#FFD600',\n    '#F85C50', '#E85668', '#CE3D1D', '#EF2FA2', '#7C3668', '#6E36CA',\n    '#414042', '#004156', '#7AB1FF', '#002bff', '#17F1D7', '#4BB462',\n    '#8CBA51', '#d3d6b6', '#FDA371', '#BE5D77', '#EE3D48'\n];\n\nconst hashCode = function(s){\n    return s.split(\"\").reduce((acc, char) => (acc + char.charCodeAt(0)), 0);\n};\n\nexport const colorByNumber = (idx) => {\n    if(typeof idx === 'string')\n        idx = hashCode(idx);\n    return colorsList[idx % colorsList.length];\n};\n\nexport const rand = randGen.create();\n\nSet.prototype.difference = function (otherSet) {\n    const differenceSet = new Set();\n\n    for (let elem of this) {\n        if (!otherSet.has(elem))\n            differenceSet.add(elem);\n    }\n\n    return differenceSet;\n};\n\nSet.prototype.intersect = function (otherSet) {\n    return new Set([...this].filter(x => otherSet.has(x)));\n};\n\nSet.prototype.union = function (otherSet) {\n    return new Set([...this, ...otherSet]);\n};\n\nSet.prototype.symmetricDifference = function (otherSet) {\n    return this.union(otherSet).difference(this.intersect(otherSet));\n};\n\nexport function shuffle(array) {\n    rand.initState();\n    array.sort(() => (rand(1000) / 1000) - 0.5);\n}\n\nexport const round = (value, digits = 2) => {\n    if (!Number(value))\n        return value;\n    const pow = Math.pow(10, digits);\n    return Math.round(Number(value) * pow) / pow;\n};\n\nString.prototype.hashCode = function() {\n    var hash = 0, i, chr;\n    if (this.length === 0) return hash;\n    for (i = 0; i < this.length; i++) {\n        chr   = this.charCodeAt(i);\n        hash  = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport const listHash = (list)=>{\n    if(!list)\n        return -1;\n    if(typeof list[0] === typeof ''){\n        return list.join('').hashCode()\n    }\n    return list.reduce((s, curr)=>s + curr.id, '').hashCode()\n};\n\nexport function LightenDarkenColor(col,amt) {\n    var usePound = false;\n    if ( col[0] == \"#\" ) {\n        col = col.slice(1);\n        usePound = true;\n    }\n\n    var num = parseInt(col,16);\n\n    var r = (num >> 16) + amt;\n\n    if ( r > 255 ) r = 255;\n    else if  (r < 0) r = 0;\n\n    var b = ((num >> 8) & 0x00FF) + amt;\n\n    if ( b > 255 ) b = 255;\n    else if  (b < 0) b = 0;\n\n    var g = (num & 0x0000FF) + amt;\n\n    if ( g > 255 ) g = 255;\n    else if  ( g < 0 ) g = 0;\n\n    return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\n\nexport const getWorkingEnvironmentSettings = (state) => {\n    return {\n        screen: {\n            availWidth: window.screen.availWidth,\n            availHeight: window.screen.availHeight,\n            width: window.screen.width,\n            height: window.screen.height,\n        },\n        memory: {\n            totalJSHeapSize: window.performance.memory.totalJSHeapSize,\n            usedJSHeapSize: window.performance.memory.usedJSHeapSize,\n            jsHeapSizeLimit: window.performance.memory.jsHeapSizeLimit,\n        },\n        stateSize: JSON.stringify(state).length,\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        clusterID: state.workSpace.clusters.selectedClusterID,\n    }\n};\n\nexport const sendAlarmerMessage = (message) => {\n    const url = `https://alarmerbot.ru/?key=${alarmerKey}&message=${message}`;\n    axios.options(url)\n};","import {createSelector} from \"reselect\";\nimport {store} from '././store'\nimport {shuffle} from \"../utils\";\n\nconst getState = () => store.getState();\n\nexport const getObj = (objType, idx) => {\n    return getState().workSpace.objects[objType][idx]\n};\n\nexport const getObjects = (objType, indexes) => {\n    return indexes.map(id => getObj(objType, id))\n};\n\nexport const getEntitiesItemsIDS = state => state.workSpace.entities.items;\n\nexport const getClustersIDS = state => state.workSpace.clusters.items;\n\nexport const getSelectedItemsIDS = state => state.workSpace.entities.selectedItems;\n\nexport const getActiveClusterID = state => state.workSpace.clusters.selectedClusterID;\n\nexport const getCurrentClusterPrefix = state => getCurrentClusterData(state).params.prefix;\n\nexport const getCluster = (state, clusterID) => getObj('clusters', clusterID);\n\nexport const getClusterParent = cluster => {\n    if (cluster.parent)\n        return cluster.parent;\n    return null;\n};\n\nexport const getSelectedEntitiesURLS = createSelector(\n    getSelectedItemsIDS,\n    selectedItems => getObjects('entities', selectedItems).map(item => item.url)\n);\n\nexport const getCurrentClusterData = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id);\n};\n\nexport const getCurrentClusterQuery = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id).params.query;\n};\n\nexport const getEntities = createSelector(\n    getEntitiesItemsIDS,\n    (entitiesItems) => {\n        return getObjects('entities', entitiesItems);\n    },\n);\n\nexport const getClustersData = createSelector(\n    getClustersIDS,\n    clustersIDS => {\n        return getObjects('clusters', clustersIDS)\n    }\n);\n\nexport const getClusters = createSelector(\n    getClustersData,\n    clustersData => {\n        return clustersData.map(\n            data => {\n                const entitiesID = data.entities.items;\n                let randomIDS = [...entitiesID].slice(0, 9);\n                console.log('randomIDS', randomIDS)\n                shuffle(randomIDS);\n                const photos = getObjects('entities', randomIDS)\n                    .filter(item => item && item.valid)\n                    .slice(0, 3).map(item => item.img);\n                return {\n                    ...data.params,\n                    photos: photos,\n                    count: entitiesID.length\n                }\n            }\n        )\n    }\n);\n\nexport const getClustersTreeDict = createSelector(\n    getClusters,\n    (clusters) => {\n        const clustersTree = {};\n        for (let cluster of clusters) {\n            const parent = getClusterParent(cluster);\n            if (!(parent in clustersTree))\n                clustersTree[parent] = [];\n            clustersTree[parent].push(cluster);\n        }\n        return clustersTree;\n    }\n);\n\nexport const getEntitiesColors = createSelector(\n    [getClustersData],\n    (clustersData) => {\n        const entitiesColors = {};\n        clustersData = clustersData.slice();\n        clustersData.sort((a, b) => a.entities.items.length > b.entities.items.length);\n        for (let cluster of clustersData) {\n            for (let entityID of cluster.entities.items) {\n                entitiesColors[entityID] = cluster.params;\n            }\n        }\n\n        return entitiesColors;\n    }\n);","import {executeQuery, showMessage} from \"./searchReducer\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {getSelectedClusterID, produceActionCreator} from \"./utils\";\nimport {clearAll} from \"./workSpaceReducer\";\nimport {removeEntitiesLoader} from \"./entitiesReducer\";\nimport {queryReplaceGetWithLoad} from \"../api/queryStringCreators\";\nimport {getCurrentClusterQuery} from \"./selectors\";\n\nexport const addClusters = produceActionCreator('ADD_CLUSTERS');\nexport const processServerResponse = produceActionCreator('processServerResponse');\nexport const selectCluster = produceActionCreator('SELECT_CLUSTER');\nexport const removeClusters = produceActionCreator('REMOVE_CLUSTERS_FROM_PANEL');\nexport const startLoadingCluster = produceActionCreator('START_LOADING_CLUSTER');\nexport const makeClusterSelected = produceActionCreator('make_cluster_selected');\nexport const setHighlightedClusters = produceActionCreator('setHighlightedClusters');\n\nconst initialData = {\n    items: [],\n    selectedClusterID: null,\n    highlightedClusters: []\n};\n\nexport function clusters(state = initialData, action) {\n    switch (action.type) {\n        case setHighlightedClusters.type:\n            return {\n                ...state,\n                highlightedClusters: action.payload\n            };\n        case addClusters.type:\n            let newClustersIDS = action.payload.items;\n            let newClustersMainID = action.payload.mainID;\n\n\n            if (!newClustersMainID && newClustersIDS.length === 1)\n                newClustersMainID = newClustersIDS[0];\n\n\n            return {\n                ...state,\n                items: [\n                    ...new Set([...state.items, ...newClustersIDS])\n                ]\n            };\n        case makeClusterSelected.type:\n            const clusterID = action.payload;\n            return {\n                ...state,\n                selectedClusterID: clusterID,\n            };\n        case removeClusters.type:\n            let removeClustersIds = action.payload;\n            const selectedCluster = state.selectedClusterID;\n            const remainingClusters = state.items.filter(id => !removeClustersIds.includes(id));\n            return {\n                ...state,\n                items: remainingClusters,\n                highlightedClusters: state.highlightedClusters.filter(id => !removeClustersIds.includes(id))\n            };\n        default:\n            return state\n    }\n}\n\n\nexport const reloadCluster = () => (dispatch, getState) => {\n    const state = getState();\n\n    const clusterQuery = queryReplaceGetWithLoad(getCurrentClusterQuery(state));\n    dispatch(executeQuery(clusterQuery, getSelectedClusterID(state)));\n    return;\n    dispatch(startLoadingCluster());\n    executeSelectiveQuery(clusterQuery).then(\n        response => {\n            dispatch(addClusters(response));\n            dispatch(removeEntitiesLoader())\n        }\n    ).catch(\n        response => {\n            dispatch(removeEntitiesLoader());\n            dispatch(showMessage('Ошибка сети', 'Проверьте подключение к интернету', false, true))\n        }\n    )\n};\n\nexport const deleteCluster = () =>\n    (dispatch, getState) => {\n        const state = getState();\n        const clusterID = state.workSpace.clusters.selectedClusterID;\n        const remainingClusters = state.workSpace.clusters.items.filter(id => id !== clusterID);\n        if (!remainingClusters.length)\n            dispatch(clearAll());\n        else {\n            dispatch(selectCluster(remainingClusters[0]));\n            dispatch(removeClusters([clusterID]))\n        }\n    };","import {selectEntities} from \"./entitiesReducer\";\nimport {produceActionCreator} from \"./utils\";\nimport {setHighlightedClusters} from \"./clustersReducer\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\n\nconst SELECT_MENU = 'SELECT_MENU';\n\nconst initialData = {\n    properties: {\n        important: [],\n        interesting: [],\n        all: []\n    },\n    activeItem: 'filter',\n    filterMode: 'net'\n};\n\nexport const setProperties = produceActionCreator('setProperties');\nexport const changeFilterMode = produceActionCreator('changeFilterMode');\n\nconst autoChangeMenu = (state, newMenu) => {\n    if (state.activeItem === 'params')\n        return state;\n    return {\n        ...state,\n        activeItem: newMenu\n    }\n};\n\nexport function controls(state = initialData, action) {\n    switch (action.type) {\n        case SELECT_MENU:\n            return {\n                ...state,\n                activeItem: action.name\n            };\n        case selectEntities.type:\n            const entitiesSize = action.payload.length;\n            if (state.activeItem === 'params')\n                return state;\n            // if (entitiesSize > 0)\n            //     return autoChangeMenu(state, 'actions');\n            return autoChangeMenu(state, 'properties');\n        case setProperties.type:\n            return {\n                ...autoChangeMenu(state, 'properties'),\n                properties: action.payload,\n            };\n        case setHighlightedClusters.type:\n            let menu = action.payload.length ? 'actions' : 'properties';\n            return autoChangeMenu(state, menu);\n        case changeFilterMode.type:\n            return {\n                ...state,\n                filterMode: action.payload\n            };\n        default:\n            return state\n    }\n}\n\nexport const submitFilterSearch = (form) =>\n    (dispatch, getState) => {\n        const limit = Number(form.limit);\n        console.log(\"SUBMIT FORM\", form);\n        let errorMessage = \"\";\n        if(form.commonQueryString){\n            let universalQuery = form.commonQueryString;\n            if(universalQuery.split(' ').length > 1)\n                errorMessage = 'Ввод нескольких запросов за раз пока не поддерживается (обнаружен пробел в вводе)';\n            else if(universalQuery === '')\n                errorMessage = 'Поле запроса пустое :(';\n            else if(/[а-яА-ЯЁё]/.test(universalQuery))\n                errorMessage = 'В запросе обнаружена кириллица. Поиск по имени пока не поддерживается. Введите адрес страницы пользователя';\n            else{\n                console.log('Good universal query', universalQuery);\n                dispatch(executeQuery(queryCreator('query.parse', universalQuery)));\n            }\n        }\n            // dispatch(showMessage('Ошибка запроса', 'Данный тип запроса пока не поддерживается, воспользуйтесь поиском по определенной социальной сети', false, true))\n        else if(form.vkSearchQuery){\n            dispatch(executeQuery(queryCreator('vk.user', form.vkSearchQuery)));\n        }\n        else{\n            dispatch(showMessage('Ошибка запроса', 'Не найдено поисховой строки, введите необходимые данные в поля', false, true))\n        }\n\n\n        if(errorMessage.length){\n            dispatch(showMessage('Ошибка ввода данных запроса', errorMessage, true, false))\n        }\n    };\n\nexport const selectMenu = (menuName) => ({type: SELECT_MENU, name: menuName});\n\n\n\n\n","import {addClusters, clusters, makeClusterSelected, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {entities, selectEntities, setEntities, toggleEntitySelection} from \"./entitiesReducer\";\nimport {mergeObjectsDepth2, produceActionCreator} from \"./utils\";\nimport {controls, setProperties} from \"./controlsReducer\";\nimport {makeInputPlaceholder, search} from \"./searchReducer\";\nimport {version} from '../config'\nimport {saveState} from \"./localStorage\";\nexport const clearAll = produceActionCreator('CLEAR_ALL');\nexport const setReduxState = produceActionCreator('setState');\n\n\nconst initData = {\n    clusters: undefined,\n    entities: undefined,\n    controls: undefined,\n    search: undefined,\n    objects: {},\n    version: version\n};\n\nexport const workSpace = (state = initData, action) => {\n    console.log('ACTION', action, state.version);\n    switch (action.type) {\n        case clearAll.type:\n            saveState('');\n            return {\n                ...state,\n                clusters: clusters(undefined, action),\n                entities: entities(undefined, action),\n                controls: controls(undefined, action),\n                search: search(undefined, action),\n                objects: {}\n            };\n        case setReduxState.type:\n            saveState(action.payload, true);\n            return action.payload;\n        case processServerResponse.type:\n            const mainID = action.payload.response.result.clusters.mainID;\n            const source = action.payload.source;\n\n            if (source && mainID) {\n                if (mainID === source) {\n                    const sourceCluster = state.objects.clusters[source];\n                        action.payload.response.entities.clusters[mainID].params.parent = sourceCluster.params.parent;\n                } else\n                    action.payload.response.entities.clusters[mainID].params.parent = source;\n            }\n            return {\n                ...state,\n                clusters: clusters(state.clusters, addClusters({\n                    ...action.payload.response.result.clusters,\n                })),\n                objects: mergeObjectsDepth2(state.objects, action.payload.response.entities),\n            };\n        case selectCluster.type:\n            const clusterID = action.payload;\n            const clusterData = state.objects.clusters[clusterID];\n            return {\n                ...state,\n                search: search(state.search, makeInputPlaceholder(clusterData.params.query)),\n                clusters: clusters(state.clusters, makeClusterSelected(clusterID)),\n                entities: entities(state.entities, setEntities(clusterData.entities)),\n                controls: controls(state.controls, setProperties(clusterData.properties))\n            };\n        case toggleEntitySelection.type:\n            const itemID = action.payload;\n            let newSelectedItems = [];\n            const selectedItems = state.entities.selectedItems;\n            if (!state.entities.selectionMode) {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = []\n                else\n                    newSelectedItems = [itemID];\n            } else {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = selectedItems.filter(item => item !== itemID);\n                else\n                    newSelectedItems = [...selectedItems, itemID];\n            }\n\n            const newAction = selectEntities(newSelectedItems);\n            return {\n                ...state,\n                entities: entities(state.entities, newAction),\n                controls: controls(state.controls, newAction)\n            };\n        default:\n            return {\n                ...state,\n                clusters: clusters(state.clusters, action),\n                entities: entities(state.entities, action),\n                controls: controls(state.controls, action),\n                search: search(state.search, action),\n                version: version\n            }\n\n    }\n};\n\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {loadState, saveState} from \"./localStorage\";\nimport {workSpace} from \"./workSpaceReducer\";\nimport { reducer as formReducer } from 'redux-form'\n\nconst reducers = combineReducers({\n    workSpace,\n    form: formReducer\n});\n\nconst persistedState = loadState();\nconsole.log('STATE LOADED FROM LOCAL STORAGE', persistedState);\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n    reducers,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => {\n    saveState(store.getState());\n});\n\nwindow.store = store;\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// export const store = createStore(reducers, composeEnhancers(\n//     applyMiddleware(thunk)\n// ));\n\n\n\n","import React, { Component } from \"react\";\nimport { Button, Dimmer, Form, Header, Grid, Segment } from \"semantic-ui-react\";\n\nexport default class Authorizing extends Component {\n  render() {\n    return (\n      <Dimmer active={true} onClickOutside={this.props.handleClose} page>\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n          <Grid.Column style={{ maxWidth: 450, minWidth: 360 }}>\n            <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n              Войти в аккаунт\n            </Header>\n            <Form size=\"large\">\n              <Segment stacked>\n                <Form.Input\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Логин или почта\"\n                />\n                <Form.Input\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Пароль\"\n                  type=\"password\"\n                />\n\n                <Button color=\"teal\" fluid size=\"large\">\n                  Войти\n                </Button>\n              </Segment>\n            </Form>\n            <Button\n              style={{ marginTop: \"15px\" }}\n              inverted\n              color=\"teal\"\n              fluid\n              size=\"large\"\n            >\n              Зарегистрироваться\n            </Button>\n          </Grid.Column>\n        </Grid>\n      </Dimmer>\n    );\n  }\n}\n","import React from 'react';\nimport style from './uiStyle.less';\nimport {Segment} from \"semantic-ui-react\";\n\nfunction getBrightness(hexcolor) {\n    if(hexcolor[0] !== '#')\n        return null;\n    var r = parseInt(hexcolor.substr(1, 2), 16);\n    var g = parseInt(hexcolor.substr(3, 2), 16);\n    var b = parseInt(hexcolor.substr(4, 2), 16);\n    var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    // Return new color if to dark, else return the original\n    return yiq;\n}\n\n\nexport const Button = (props) => {\n    let {text, onClick, style, compact, basic, primary, ...otherProps} = props;\n    let padding = '10px 30px';\n    if (!onClick)\n        onClick = () => {\n        };\n\n    const additionClasses = [];\n    if (props.compact) {\n        padding = '5px 10px'\n    }\n    if(props.primary){\n        additionClasses.push('customButtonPrimary')\n    }else if(props.basic){\n            additionClasses.push('customButtonBasic')\n    }\n\n    if(props.color){\n        const brightness = getBrightness(props.color);\n        let textColor = 'black';\n        if (brightness && brightness < 100)\n            textColor = 'white';\n        style = {...style, backgroundColor: props.color, color: textColor}\n    }\n\n    style = {\n        padding: padding,\n        ...style\n    };\n    return (\n        <button\n            className={'customButton ' + additionClasses.join(' ')}\n            style={style}\n            onClick={e => {\n                e.preventDefault();\n                onClick(e)\n            }}\n            {...otherProps}\n        >{text}</button>\n    )\n};\n\nexport const UIGroup = (props) => {\n    return (\n        <div className={'UIGroup'}>\n            {\n                props.children\n            }\n        </div>\n    )\n};\n\n\nexport const UISegment = props => {\n    return <Segment {...props}/>\n};\n","import React, {useState} from 'react';\nimport {Modal} from \"semantic-ui-react\";\n\n\nconst CustomModal = (props) => {\n    const {handleClose} = props;\n    return (\n        <Modal\n            open\n            closeIcon\n            onClose={handleClose}\n        >\n            {\n                props.children\n            }\n        </Modal>\n    )\n};\n\nexport default CustomModal;\n","import React from \"react\";\nimport {Form, Rating} from \"semantic-ui-react\";\n\n\nexport const formInputComponent = (props) => {\n    props = {...props};\n    const submit = props.submitIcon;\n    delete props['submitIcon'];\n    const canSubmit = (props.input.value && submit);\n    const searchIcon = {\n        name: 'search', link: true, onClick: e => {\n            e.preventDefault();\n            submit()\n        }\n    };\n    return (\n        <Form.Input\n            onKeyDown={e => {\n                if (e.keyCode === 13) {\n                    submit()\n                }\n            }}\n            icon={canSubmit ? searchIcon : undefined}\n\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    if (!data)\n                        return props.input.onChange(e);\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRadioComponent = (props) => {\n    return (\n        <Form.Radio\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, {checked}) => props.input.onChange(props.input.value)\n            }}\n        />\n    )\n};\n\nexport const formTextComponent = (props) => {\n    props = {...props};\n    return (\n        <Form.TextArea\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRatingComponent = (props) => {\n    props = {...props};\n    console.log('RATING', props);\n    return (\n        <Rating\n            style={{marginBottom: '1rem'}}\n            onRate={(e, data) => {\n                e.preventDefault();\n                props.input.onChange(data.rating)\n            }}\n            clearable\n            maxRating={5}\n\n            {...{\n                ...props,\n                ...props.input,\n            }}\n        />\n    )\n};\n\nconst formComponentGenerator = (TargetComponent, submit) => {\n    return (\n        props => {\n            // console.log('Form Wrapper props', props);\n            let valueName = 'value';\n            if (typeof props.input.value === 'boolean')\n                valueName = 'checked';\n            const canSubmit = (props.input.value && submit);\n            const searchIcon = {\n                name: 'search', link: true, onClick: e => {\n                    e.preventDefault();\n                    submit()\n                }\n            };\n            return (\n                <TargetComponent\n                    onKeyDown={e => {\n                        if (e.keyCode === 13) {\n                            submit()\n                        }\n                    }}\n                    icon={canSubmit ? searchIcon : undefined}\n\n                    {...{\n                        ...props,\n                        ...props.input,\n                        value: undefined,\n                        [valueName]: props.input.value,\n                        error: props.meta.error,\n                        onChange: (e, data) => {\n                            if (!data)\n                                return props.input.onChange(e);\n                            return props.input.onChange(data[valueName])\n                        }\n                    }}\n                />\n            )\n        }\n    )\n};\n\n\nexport default formComponentGenerator;","import {SubmissionError} from \"redux-form\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {download, getSelectedClusterID} from \"./utils\";\nimport {saveState} from \"./localStorage\";\nimport {removeClusters, selectCluster} from \"./clustersReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\nimport {\n    getActiveClusterID,\n    getClusterParent,\n    getClusters,\n    getClustersData, getClustersIDS, getCurrentClusterData, getCurrentClusterPrefix,\n    getCurrentClusterQuery,\n    getEntitiesItemsIDS, getSelectedItemsIDS\n} from \"./selectors\";\nimport {getWorkingEnvironmentSettings, sendAlarmerMessage} from \"../utils\";\nimport {executeFeedbackQuery} from \"../api/api\";\nimport {clearAll, setReduxState} from \"./workSpaceReducer\";\nimport {version} from '../config'\n\nconst keyWords = new Set(['group', 'feed', 'news', 'music', 'edit', 'settings', 'im', 'friends', 'groups', 'video', 'apps', 'vkpay', 'market', 'docs', 'blog', 'dev', \"biz\", \"about\", \"jobs\", \"legal\", \"data_protection\", \"safety\", \"exilemusic\", \"exilemusic\", \"verify\", \"exile_music\"]);\n\nexport const extractFromString = (values) => {\n    return (dispatch, getState) => {\n        const text = values.text;\n        if (!text) {\n            throw new SubmissionError({text: 'Пустое поле'});\n        }\n        const regex = /href=\"\\/(\\w+)\"/g;\n        let match = regex.exec(text);\n        if (!match) {\n            throw new SubmissionError({text: 'Не найдено полезных данных'});\n        }\n        let matches = new Set();\n        while (match) {\n            matches.add(match[1]);\n            match = regex.exec(text);\n        }\n        matches = [...matches.difference(keyWords)];\n        const queryString = queryCreator('vk.users', matches);\n        dispatch(executeQuery(queryString));\n    }\n};\n\nexport const downloadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const filename = `NTrail workspace (${getState().workSpace.clusters.items.length} clusters) version ${getState().workSpace.version}`;\n        download(JSON.stringify(getState()), filename, '')\n    }\n};\n\nexport const uploadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.onchange = e => {\n            const file = e.target.files[0];\n\n            const reader = new FileReader();\n            reader.readAsText(file, 'UTF-8');\n\n            reader.onload = readerEvent => {\n                const content = readerEvent.target.result;\n                console.log('File loaded');\n                try {\n                    const state = JSON.parse(content);\n                    if (Number(state.workSpace.version.split('.')[0]) !== Number(version.split('.')[0])) {\n                        alert('Вы выбрали файл с устаревшей версией рабочего пространства. Возможно возникнут непредвиденные ошибки');\n                    }\n                    saveState(state);\n\n                } catch (e) {\n                    alert('Не корректный файл данных NTrail пространства! (Загружать можно только файлы, ранее сохраненные с помощью опции \"Сохранить рабочее пространство\") Попробуйте выбрать другой файл')\n                }\n                window.location.reload(true);\n            }\n        };\n        input.click();\n    }\n};\n\nconst transformEntities = (dispatch, getState, setTransformFunc) => {\n    const state = getState();\n    const selectedClusters = state.workSpace.clusters.highlightedClusters;\n    if (selectedClusters.length >= 2) {\n        const selectedClustersEntities = selectedClusters.map(\n            id => state.workSpace.objects.clusters[id].entities\n        );\n        let resultEntities = new Set(selectedClustersEntities[0]);\n        for (let entities of selectedClustersEntities.slice(1)) {\n            resultEntities = resultEntities[setTransformFunc](new Set(entities));\n        }\n        const entitiesID = [...resultEntities];\n        if (entitiesID.length === 0) {\n            dispatch(showMessage('Результат операции', 'Получен пустой кластер', false, true))\n        } else {\n            const queryString = queryCreator('vk.users', entitiesID);\n            dispatch(executeQuery(queryString));\n        }\n    }\n};\n\nexport const intersectClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'intersect')\n    }\n};\n\nexport const unionClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'union')\n    }\n};\n\nexport const subtractClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'difference')\n    }\n};\n\nexport const symDiffClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'symmetricDifference')\n    }\n};\n\nexport const pickOutToCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const selectedEntities = state.workSpace.entities.selectedItems;\n        if (selectedEntities.length > 0) {\n            const queryString = queryCreator('vk.users', selectedEntities);\n            dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n        }\n    }\n};\n\nexport const deleteFromCluster = () => (dispatch, getState) => {\n    const state = getState();\n    const selectedEntities = state.workSpace.entities.selectedItems;\n    const allEntities = state.workSpace.entities.items;\n    const subtractedEntities = [...new Set(allEntities).difference(new Set(selectedEntities))];\n    if (selectedEntities.length > 0) {\n        const queryString = queryCreator('vk.users', subtractedEntities);\n        dispatch(executeQuery(queryString));\n    }\n};\nconst getClustersChildren = (state, ids) => {\n    if (ids.length === 0)\n        return [];\n    const children = getClusters(state).filter(cluster => ids.includes(getClusterParent(cluster))).map(cluster => cluster.id).flat();\n    return children + getClustersChildren(state, children);\n};\nexport const deleteSelectedCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        let selectedClusters = [state.workSpace.clusters.selectedClusterID];\n        if (state.workSpace.clusters.highlightedClusters.length > 0)\n            selectedClusters = state.workSpace.clusters.highlightedClusters;\n        console.log('selectedClusters', selectedClusters);\n        let clustersToDelete = selectedClusters;\n        if (selectedClusters.length === 1) {\n            const childrenClusters = getClustersChildren(state, selectedClusters);\n            if (childrenClusters.length > 0)\n                clustersToDelete = childrenClusters;\n\n        }\n        console.log(clustersToDelete.length, clustersToDelete);\n        dispatch(removeClusters(clustersToDelete));\n        if (clustersToDelete.includes(getActiveClusterID(state))) {\n            const remainClusters = getClustersIDS(state).filter(id => !clustersToDelete.includes(id));\n            if (remainClusters.length === 0)\n                dispatch(clearAll());\n            else\n                dispatch(selectCluster(getClustersIDS(state).filter(id => !clustersToDelete.includes(id))[0]));\n        }\n    }\n};\n\nexport const getFriendsAction = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const selectedEntities = state.workSpace.entities.selectedItems;\n        if (selectedEntities.length >= 1) {\n            let queryString;\n            if (selectedEntities.length > 1) {\n                queryString = queryCreator('vk.users', selectedEntities, 'friends');\n            } else {\n                queryString = queryCreator('vk.user', selectedEntities[0], 'friends');\n            }\n            dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n        }\n    }\n};\n\n\nexport const submitFeedback = (values) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const feedbackData = {\n            values: values,\n            env: getWorkingEnvironmentSettings(state)\n        };\n\n        console.log('FeedBack', values);\n        const alarmerMessage = `NTrail feedback:%0Atype: ${values.messageType}%0Acontact: ${values.contact}%0Arate: ${values.rating}%0Amessage: ${values.message}`;\n        sendAlarmerMessage(alarmerMessage);\n        executeFeedbackQuery(feedbackData);\n    }\n};\n\nexport const executeClusterAction = (action) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        console.log('EXECUTE CLUSTER ACTION', action);\n        const currPrefix = getCurrentClusterPrefix(state);\n        let entitiesIDS = getSelectedItemsIDS(state);\n        let queryString;\n        if(entitiesIDS.length > 0) {\n            queryString = queryCreator(currPrefix, entitiesIDS, action.value);\n        }else {\n            queryString = getCurrentClusterQuery(state) + ' ' + action.value;\n        }\n\n        dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n    }\n};\n","import React, {useState} from 'react';\nimport {Form, Header, Icon, Message, Radio, Rating} from \"semantic-ui-react\";\nimport {Button} from \"../utils/UI\";\nimport {Field, formValueSelector, reduxForm, SubmissionError} from \"redux-form\";\nimport CustomModal from \"../utils/Modal\";\nimport formComponentGenerator, {\n    formInputComponent,\n    formRadioComponent, formRatingComponent,\n    formTextComponent\n} from \"../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFeedback} from \"../../store/actions\";\n\nconst messageTypes = [\n    {\n        name: 'review',\n        text: 'Написать отзыв'\n    },\n    {\n        name: 'question',\n        text: 'Задать вопрос'\n    },\n    {\n        name: 'critical',\n        text: 'Сообщить о критической проблеме'\n    },\n    {\n        name: 'warning',\n        text: 'Предупредить о небольшой ошибке'\n    },\n    {\n        name: 'idea',\n        text: 'Предложить идею / интересную фичу / новый функционал'\n    },\n    {\n        name: 'offer',\n        text: 'Сотрудничество / работа'\n    },\n];\n\n\nconst submitValidate = (values) => {\n    let error = null;\n    if (!values.messageType)\n        error = 'Выберите тип обращения';\n\n    if (values.messageType === 'question' && !values.contact)\n        error = 'Укажите контакт, чтобы мы могли вам ответить';\n\n    if (values.messageType === 'offer' && !values.contact)\n        error = 'Укажите контакт, чтобы мы смогли с вами связаться';\n\n    if (!values.message)\n        error = 'Поле с сообщением не заполнено';\n\n    if (error)\n        throw new SubmissionError({\n            _error: error\n        });\n};\n\n\nconst AlertModal = (props) => {\n    const {handleClose, header, text} = props;\n\n    return (\n        <CustomModal handleClose={handleClose}>\n            <Header>{header}</Header>\n            <div style={{margin: '20px'}}>\n                <p style={{fontSize: '1.2rem'}}>{text}</p>\n                <Button basic style={{float: 'right', marginBottom: '10px'}} text={'Закрыть'} onClick={handleClose}/>\n            </div>\n        </CustomModal>\n    )\n};\n\n\nconst Feedback = (props) => {\n    let {handleSubmit, handleClose} = props;\n    console.log('props', props);\n    const [visibleAlert, setVisibleAlert] = useState(false);\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const onSubmit = (values) => {\n        submitValidate(values);\n        setVisibleAlert(true);\n        let message = 'Спасибо за обращение!';\n\n        if (values.messageType === 'question')\n            message = 'Мы постараемся ответить в ближайшее время!';\n        if (values.messageType === 'review')\n            message = 'Спасибо за отзыв!';\n        if (values.messageType === 'warning')\n            message = 'Постараемся исправить баг как можно быстрее!';\n        if (values.messageType === 'critical')\n            message = 'Вся команда уже взялась за исправление ошибки!';\n        if (values.messageType === 'offer')\n            message = 'Мы с вами свяжемся в ближайшее время!';\n        if (values.messageType === 'idea')\n            message = 'Спасибо за ваше предложение. Самые лучшие идеи будут воплащены в ближайшее время!';\n\n        props.onSubmit(values);\n        setSuccessMessage(message);\n    };\n\n    handleSubmit = handleSubmit(onSubmit);\n    return (\n        <>\n            {\n                visibleAlert ?\n                    <AlertModal handleClose={handleClose}\n                                header={'Сообщение отправлено'}\n                                text={successMessage}/> :\n                    <CustomModal handleClose={handleClose}>\n                        <Header>Написать разработчикам</Header>\n                        {\n                            props.error &&\n                            <Message\n                                style={{margin: '10px'}}\n                                error\n                            >{props.error}</Message>\n                        }\n                        <div style={{margin: '30px'}}>\n                            <Form>\n                                <Form.Field>\n                                    <label>Цель обращения</label>\n                                </Form.Field>\n                                {\n                                    messageTypes.map(messType => (\n                                        <Field\n                                            name={'messageType'}\n                                            key={messType.name}\n                                            type={'radio'}\n                                            component={formRadioComponent}\n                                            label={messType.text}\n                                            value={messType.name}\n                                        />\n                                    ))\n                                }\n                                <Field component={formInputComponent}\n                                       label={'Можете указать свой контакт для ответа'}\n                                       name={'contact'}\n                                       placeholder={'Иван Иванович example@gmail.com'}\n                                />\n                                {\n                                    props.messageType === 'review' &&\n                                    <>\n                                        <Form.Field>\n                                            <label>Оцените сервис</label>\n                                        </Form.Field>\n                                        <Field\n                                            name={'rating'}\n                                            component={formRatingComponent}\n                                        />\n                                    </>\n                                }\n\n                                <Field\n                                    name={'message'}\n                                    component={formTextComponent}\n                                    label={'Ваше сообщение'}\n                                />\n                                <Button onClick={handleSubmit} basic text={'Отправить'}/>\n                            </Form>\n                        </div>\n                    </CustomModal>\n            }\n        </>\n    )\n};\n\nconst mapDispatchToProps = ({\n    onSubmit: submitFeedback\n});\n\nconst selector = formValueSelector('Feedback');\n\nconst mapStateToProps = state => {\n    return {\n        messageType: selector(state, 'messageType')\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'Feedback',\n            forceUnregisterOnUnmount: true\n        }\n    )(Feedback));\n","import React, {Component} from \"react\";\nimport {Header, Menu} from \"semantic-ui-react\";\nimport Authorizing from \"./Authorizing/Authorizing\";\nimport {Button} from \"../utils/UI\";\nimport Feedback from \"./Feedback\";\n\nexport default class PageHeader extends Component {\n    state = {\n        status: \"base\"\n    };\n\n    render() {\n        return (\n            <div>\n                <Menu secondary>\n                    <Menu.Item style={{padding: 0}}>\n                        <Header as=\"h1\">NTrail</Header>\n                    </Menu.Item>\n\n                    <Menu.Item position=\"right\" style={{padding: 0}}>\n                        <Button basic style={{marginRight: \"0.5em\"}} onClick={() => this.setState({status: 'feedback'})}\n                                text={'Обратная связь'}/>\n                        {/*<Button basic style={{marginRight: \"0.5em\"}} text={'Как пользоваться?'}/>*/}\n                        {/*<Button primary onClick={() => this.setState({status: \"auth\"})} text={'Войти'}/>*/}\n                        {this.state.status === \"auth\" && (\n                            <Authorizing\n                                handleClose={() => this.setState({status: \"base\"})}\n                            />\n                        )}\n                        {\n                            this.state.status === 'feedback' &&\n                            <Feedback handleClose={() => this.setState({status: \"base\"})}/>\n                        }\n                    </Menu.Item>\n                </Menu>\n                <p style={{fontSize: \"1.23em\"}}>Ваш проводник по миру соцсетей</p>\n            </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { Table, Icon, Popup } from \"semantic-ui-react\";\nimport \"./style.less\";\n\nfunction Confidence({ level }) {\n  const maxFilled = 5;\n  const filled = level * maxFilled;\n  const items = Array(maxFilled)\n    .fill()\n    .map((_, i) => (\n      <div\n        key={i}\n        className={\n          \"confidenceLevel \" + (maxFilled - i <= filled ? \"levelFilled\" : \"\")\n        }\n      />\n    ));\n\n  return <div>{items}</div>;\n}\n\nconst actionButtonsData = {\n  doNotHaveProperty: {\n    popupText: \"Показать людей, не обладающих этим свойством\",\n    iconName: \"arrow alternate circle left outline\"\n  },\n  haveProperty: {\n    popupText: \"Показать только людей с данным свойством\",\n    iconName: \"arrow alternate circle right outline\"\n  },\n  decreaseOrder: {\n    popupText: \"Отсортировать в порядке убывания\",\n    iconName: \"angle double right\"\n  },\n  increaseOrder: {\n    popupText: \"Отсортировать в порядке возрастания\",\n    iconName: \"angle double left\"\n  }\n};\n\nexport default class InterestingProperty extends Component {\n  state = {\n    active: false\n  };\n  render() {\n    const propertyItem = this.props.propertyItem;\n    let actionNames = [];\n    if (propertyItem.type === \"show\")\n      actionNames = [\"haveProperty\", \"doNotHaveProperty\"];\n    else if (propertyItem.type === \"order\")\n      actionNames = [\"decreaseOrder\", \"increaseOrder\"];\n    const actionButtons = actionNames.map(actionName => (\n      <Popup\n        key={actionName}\n        mouseEnterDelay={500}\n        position=\"top right\"\n        content={actionButtonsData[actionName].popupText}\n        trigger={\n          <Icon\n            color=\"grey\"\n            className=\"actionButton\"\n            name={actionButtonsData[actionName].iconName}\n          />\n        }\n      />\n    ));\n    const moveToAllProperties = (allPropID) => {\n      this.props.moveToAll(allPropID);\n    };\n    return (\n      <Table.Row\n        onMouseOver={() => this.setState({ active: true })}\n        onMouseLeave={() => this.setState({ active: false })}\n        onClick={()=>moveToAllProperties(propertyItem.id.split('.')[0])}\n        className=\"property\"\n      >\n        <Table.Cell width=\"10\">{propertyItem.name}</Table.Cell>\n        <Table.Cell width=\"5\" style={{ wordWrap: \"break-word\" }}>\n          {propertyItem.value}\n        </Table.Cell>\n        <Table.Cell width=\"2\" className=\"confidenceCell\">\n          {this.state.active\n            ? actionButtons\n            : \"confidence\" in propertyItem && (\n                <Confidence level={propertyItem.confidence} />\n              )}\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n","import React from 'react';\nimport {Icon, Table} from \"semantic-ui-react\";\nimport {round} from \"../../../utils\";\nimport {setEntitiesItemsList} from \"../../../store/entitiesReducer\";\nimport {connect} from \"react-redux\";\n\n\nconst generatePropertyNameFromDict = (value) => {\n    // console.log(value);\n    let name = value.value;\n    if(value.percent)\n        name += ` (${round(value.percent, 0)} %)`;\n\n    return name;\n};\n\n\nconst SingleProperty = (props) => {\n    const {id, value, name, ids} = props.propertyDict;\n    return (\n        <Table.Row\n            onClick={() => props.onClick ? props.onClick(id) : null}\n            key={id}>\n            <Table.Cell width=\"10\">{name}</Table.Cell>\n            <Table.Cell width=\"5\">{generatePropertyNameFromDict(value)}</Table.Cell>\n            <Table.Cell width=\"2\">\n                {\n                    ids &&\n                    <Icon link\n                          name=\"eye\"\n                          color=\"grey\"\n                          onClick={\n                              (e) => {\n                                  e.stopPropagation();\n                                  props.setEntitiesItemsList(ids)\n                              }\n                          }\n                    />\n                }\n            </Table.Cell>\n        </Table.Row>\n    )\n};\n\nconst mapDispatchToState = ({\n    setEntitiesItemsList\n});\n\nexport default connect(undefined, mapDispatchToState)(SingleProperty);\n","import React from 'react';\nimport {Button, Header, Icon} from \"semantic-ui-react\";\nimport iconCircleSum from '../../../media/SVG/circles black and grey/SVG/2.svg'\nimport iconCircleDiff from '../../../media/SVG/circles black and grey/SVG/4.svg'\nimport iconCircleSymDiff from '../../../media/SVG/circles black and grey/SVG/3.svg'\nimport iconCircleUnion from '../../../media/SVG/circles black and grey/SVG/1.svg'\nimport {connect} from \"react-redux\";\nimport {\n    deleteFromCluster, deleteSelectedCluster,\n    downloadWorkSpace, executeClusterAction, getFriendsAction,\n    intersectClusters, pickOutToCluster,\n    subtractClusters, symDiffClusters,\n    unionClusters,\n    uploadWorkSpace\n} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getCurrentEntitiesActions,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\nimport ActiveActions from \"./ActiveActions\";\n\n\nexport const ActionPanelButton = (props) => {\n    const style = {\n        display: 'flex',\n        alignItems: 'center',\n    };\n    const imgSize = '1.5rem';\n    const iconStyle = {\n        display: 'inline-block',\n        marginRight: '5px',\n        width: imgSize,\n        height: 'auto'\n    };\n    const icon = typeof props.icon === 'object' ? props.icon : <img src={props.icon} alt={'afs'} style={iconStyle}/>;\n    return (\n        <Button basic onClick={props.onClick}>\n            <div style={style}>\n                {/*<div style={{width: '1rem'}}>{icon}</div>*/}\n                <div style={{margin: 'auto'}}>{props.text}</div>\n            </div>\n        </Button>\n    )\n};\n\n\nconst ActionsPanel = (props) => {\n    const headerMargin = '0.2rem';\n    // console.log('ActionsPanel', props);\n    return <div>\n        <Header size={'small'} style={{marginLeft: headerMargin, marginTop: '1rem'}}>Холст</Header>\n        <Button.Group vertical basic style={{width: '100%'}}>\n            {\n                props.haveClusters &&\n                <ActionPanelButton onClick={props.downloadWorkSpace} text={'Сохранить рабочее пространсто'}\n                                   icon={<Icon name={'download'}/>}/>\n            }\n            <ActionPanelButton onClick={props.uploadWorkSpace} text={'Загрузить рабочее пространство'}\n                               icon={<Icon name={'upload'}/>}/>\n        </Button.Group>\n        <ActiveActions header={true} headerMargin={headerMargin}/>\n        {/*{*/}\n        {/*    props.selectedEntitiesCount > 0 &&*/}\n        {/*    <>*/}\n        {/*        <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные объекты</Header>*/}\n        {/*        <Button.Group vertical basic style={{width: '100%'}}>*/}\n        {/*            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}*/}\n        {/*                               icon={<Icon name={'dot circle outline'}/>}/>*/}\n        {/*            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}*/}\n        {/*                               icon={<Icon name={'remove circle'}/>}/>*/}\n        {/*            {*/}\n        {/*                props.entitiesActions &&*/}\n        {/*                props.entitiesActions.map(*/}\n        {/*                    action => (*/}\n        {/*                        <ActionPanelButton key={action.id} onClick={() => props.executeClusterAction(action)}*/}\n        {/*                                           text={action.name}*/}\n        {/*                                           icon={<Icon name={'circle outline'}/>}*/}\n        {/*                        />*/}\n        {/*                    )*/}\n        {/*                )*/}\n        {/*            }*/}\n\n        {/*        </Button.Group>*/}\n        {/*    </>*/}\n        {/*}*/}\n\n        {\n            props.selectedClustersCount > 0 &&\n            <>\n                <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные кластеры</Header>\n                <Button.Group basic compact vertical style={{width: '100%'}}>\n                    {/*{*/}\n                    {/*    props.selectedClustersCount === 2 &&*/}\n                    {/*    <ActionPanelButton text={'Сравнить'} icon={<Icon name={'sun outline'}/>}/>*/}\n                    {/*}*/}\n                    {\n                        props.selectedClustersCount >= 2 &&\n                        <>\n                            <ActionPanelButton onClick={props.intersectClusters} text={'Пересечение'}\n                                               icon={iconCircleUnion}/>\n                            <ActionPanelButton onClick={props.unionClusters} text={'Объединение'} icon={iconCircleSum}/>\n                            <ActionPanelButton onClick={props.subtractClusters} text={'Разность'}\n                                               icon={iconCircleDiff}/>\n                            <ActionPanelButton onClick={props.symDiffClusters} text={'Симметрическая разность'}\n                                               icon={iconCircleSymDiff}/>\n                        </>\n                    }\n                    <ActionPanelButton onClick={props.deleteSelectedClusters} text={'Удалить выделенные'}\n                                       icon={<Icon name={'trash alternate outline'}/>}/>\n                </Button.Group>\n            </>\n        }\n\n\n    </div>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        clusterActions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = {\n    executeClusterAction,\n    downloadWorkSpace,\n    uploadWorkSpace,\n    intersectClusters,\n    unionClusters,\n    subtractClusters,\n    symDiffClusters,\n    pickOutToCluster,\n    deleteSelectedCluster,\n    getFriendsAction,\n    deleteFromCluster\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionsPanel)","import {Button, Header, Icon} from \"semantic-ui-react\";\nimport React from \"react\";\nimport {ActionPanelButton} from \"./ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {executeClusterAction} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\n\nconst ActiveActions = props => {\n    if(!props.actions)\n        return <></>;\n    let header = props.header;\n    let selectedEntities = props.selectedEntitiesCount;\n    if (!selectedEntities)\n        selectedEntities = props.currentClusterEntitiesCount;\n\n    console.log('selectedEntities', selectedEntities, props.actions);\n\n    let actions = [];\n    for (let action of props.actions) {\n        const actionSelectedEntities = action.selectedEntities;\n        console.log(actionSelectedEntities);\n        if (!actionSelectedEntities || actionSelectedEntities === 'any')\n            actions.push(action);\n        else if (selectedEntities === 1 && actionSelectedEntities === 'one')\n            actions.push(action);\n        else if (selectedEntities > 1 && actionSelectedEntities === 'many')\n            actions.push(action);\n        else if (props.selectedEntitiesCount === 0 && actionSelectedEntities === 'cluster')\n            actions.push(action);\n    }\n    return <>\n        {\n            (actions.length > 0 || props.selectedEntitiesCount) &&\n            <>{\n                header &&\n                <Header size={'small'} style={{marginLeft: props.headerMargin}}>Активный кластер</Header>\n\n            }\n                <Button.Group vertical basic style={{width: '100%', marginBottom: '1rem'}}>\n                    {\n                        actions.map(action => (\n\n                            <ActionPanelButton key={action.id}\n                                               onClick={() => props.executeClusterAction(action)} text={action.name}\n                                               icon={<Icon name={'object ungroup outline'}/>}/>\n                        ))\n                    }\n                    {\n                        props.selectedEntitiesCount > 0 && props.selectedEntitiesCount !== props.currentClusterEntitiesCount &&\n                        <>\n                            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}\n                                               icon={<Icon name={'dot circle outline'}/>}/>\n                            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}\n                                               icon={<Icon name={'remove circle'}/>}/>\n                        </>\n                    }\n                </Button.Group>\n            </>\n        }\n    </>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        actions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = ({\n    executeClusterAction\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveActions)","import React from \"react\";\nimport {Table, TextArea} from \"semantic-ui-react\";\nimport \"./style.less\";\n\nimport InterestingProperty from \"./InterestingProperty\";\nimport {connect} from \"react-redux\";\nimport SingleProperty from \"../SingleProperty\";\nimport ActiveActions from \"../../ActionsPanel/ActiveActions\";\n\n\nconst InterestingProperties = (props) => {\n    return (\n        <div style={{maxHeight: '65vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n            {/*<Table columns={props.importantProperties.length}>*/}\n            {/*    <Table.Header>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.HeaderCell*/}\n            {/*                    key={item.name}*/}\n            {/*                    className=\"propertyTableHeader\"*/}\n            {/*                >*/}\n            {/*                    {item.name}*/}\n            {/*                </Table.HeaderCell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Header>*/}\n            {/*    <Table.Body>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.Cell key={item.id}>{item.value}</Table.Cell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Body>*/}\n            {/*</Table>*/}\n            <ActiveActions header={false}/>\n            {\n                props.description.length > 0 &&\n                <div style={{marginRight: '0.5rem', marginLeft: '0.5rem'}}>\n                    {\n                        props.description\n                    }\n                </div>\n            }\n            <Table selectable fixed>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={10}>\n                            Название\n                        </Table.HeaderCell>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={5}>\n                            Значение\n                        </Table.HeaderCell>\n                        <Table.HeaderCell width={2}/>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {props.interestingProperties.map((propertyItem) => (\n                        <SingleProperty key={propertyItem.id} propertyDict={propertyItem} onClick={props.moveToAll}/>\n                    ))}\n                </Table.Body>\n            </Table>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n        importantProperties: state.workSpace.controls.properties.important,\n        description: state.workSpace.controls.properties.description,\n        interestingProperties: state.workSpace.controls.properties.interesting\n    }\n);\n\nexport default connect(mapStateToProps)(InterestingProperties)\n","import {Icon} from \"semantic-ui-react\";\nimport React from \"react\";\n\nconst SearchIcon = ({isInputStringEmpty, onClose, onSearch}) => {\n    if (onClose === undefined) onClose = () => {\n    };\n    if (onSearch === undefined) onSearch = () => {\n    };\n    return <Icon\n        name={isInputStringEmpty ? 'search' : 'close'}\n        onClick={\n            () => {\n                isInputStringEmpty ? onSearch() : onClose()\n            }\n        }\n        link\n    />\n};\n\nexport default SearchIcon;","import React, {useState} from 'react';\nimport {\n    CartesianGrid,\n    Cell,\n    Line,\n    LineChart,\n    Pie,\n    PieChart,\n    Tooltip,\n    XAxis,\n    YAxis,\n} from 'recharts';\nimport './style.less';\nimport {Checkbox, Popup} from \"semantic-ui-react\";\nimport {round} from \"../../utils\";\n\nfunction getBaseLog(x, y) {\n    return round(Math.log(y) / Math.log(x), 2);\n}\n\nconst CircularPlot = ({onSelectItem, width, height, data}) => {\n    return (\n        <PieChart width={width} height={height}>\n            <Pie onClick={onSelectItem} data={data} fill=\"#8884d8\" label={entry => entry.name}>\n                {\n                    data.map((entry, index) => <Cell key={`cell-${index}`}\n                                                     fill={entry.color ? entry.color : '#000000'}/>)\n                }\n            </Pie>\n            <Tooltip/>\n        </PieChart>\n    )\n};\n\nconst LinePlot = ({width, height, data, onSelectItem}) => {\n\n    const [isLogMode, setLogMode] = useState(false);\n\n    const logModeChange = (e, data) => {\n        setLogMode(data.checked)\n    };\n\n    if (isLogMode) {\n        data = data.map(item => ({...item, value: getBaseLog(1.1,item.value + 1)}))\n    }\n\n    return (\n        <>\n            <LineChart\n                onClick={onSelectItem}\n                width={width}\n                height={height}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 10, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <YAxis/>\n                <XAxis hide dataKey={'name'}/>\n                <Tooltip/>\n                <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" activeDot={{r: 8}}/>\n            </LineChart>\n            <Checkbox onChange={logModeChange} checked={isLogMode} label={'Логорифмический режим'}/>\n        </>\n    )\n};\n\nconst Plot = ({type, data, onSelectNode}) => {\n\n    const onSelectItem = (event) => {\n        console.log(event);\n        if (event && event.activePayload)\n            onSelectNode(event.activePayload[0].payload);\n        else if (event && event.payload && event.payload.payload)\n            onSelectNode(event.payload.payload);\n\n    };\n\n    const width = 500;\n    const height = 300;\n    const plotProps = {\n        width,\n        height,\n        data,\n        onSelectItem\n    };\n    return (\n        <div className={'plotWidget'} onClick={e => e.stopPropagation()}>\n            {\n                type === 'line' &&\n                <LinePlot {...plotProps}/>\n            }\n            {\n                type === 'circular' &&\n                <CircularPlot {...plotProps}/>\n            }\n        </div>\n    );\n};\n\n\nexport const PlotPopup = (props) => {\n\n    return (\n        <Popup pinned\n               basic\n               trigger={props.trigger} on={'click'}\n               flowing\n               position={'top right'}>\n            <div style={{textAlign: 'center', marginBottom: '0.5rem'}}>{props.header}</div>\n            <Plot {...props}/>\n        </Popup>\n    )\n};\n\nexport default Plot;","import React, {useEffect, useState} from \"react\";\nimport {Accordion, Icon, Input, Table} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport SearchIcon from \"../../../utils/SearchIcon\";\nimport {PlotPopup} from \"../../../Plot/Plot\";\nimport {setEntitiesItemsList} from \"../../../../store/entitiesReducer\";\nimport SingleProperty from \"../SingleProperty\";\n\nconst AllProperties = (props) => {\n    const [searchValue, setInputValue] = useState('');\n    const [activeIDS, setActiveIDS] = useState([]);\n    const [properties, setProperties] = useState(props.allProperties);\n\n    const toggleProperty = (e, titleProps) => {\n        const itemId = titleProps.index;\n\n        if (activeIDS.includes(itemId))\n            setActiveIDS(activeIDS.filter(item => item !== itemId));\n        else\n            setActiveIDS([...activeIDS, itemId])\n    };\n\n    const searchStringChange = (value) => {\n        const newProperties = [];\n        for (let property of props.allProperties) {\n            const {name} = property;\n            if (name.toLowerCase().indexOf(value.toLowerCase()) !== -1) {\n                newProperties.push(property);\n            }\n        }\n        setInputValue(value);\n        if (!value) {\n            setProperties(props.allProperties);\n            setActiveIDS([]);\n        } else {\n            setProperties(newProperties);\n            if (newProperties.length)\n                setActiveIDS([newProperties[0].id]);\n        }\n    };\n    useEffect(() => {\n        if (props.allProperties !== properties) {\n            console.log('properties effect')\n\n            searchStringChange(searchValue)\n        }\n        if (props.openedPropID) {\n            const openedID = props.openedPropID;\n            setActiveIDS([props.openedPropID]);\n            const newProps = [...props.allProperties];\n            newProps.sort((a, b) => (b.id === openedID ? 1 : -1));\n            setProperties(newProps);\n        }\n    }, [props.allProperties, props.openedPropID]);\n    return (\n        <>\n            <Input fluid\n                   icon={<SearchIcon isInputStringEmpty={!searchValue.length} onClose={() => searchStringChange('')}/>}\n                   value={searchValue}\n                   placeholder={'Грамотность, 12, школа, общественные статус'}\n                   onChange={(e, data) => {\n                       searchStringChange(data.value)\n                   }}\n            />\n            <Accordion style={{maxHeight: '61.5vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n                {properties.map((property) => {\n                    return (\n                        <Accordion.Accordion key={property.id}>\n                            <Accordion.Title\n                                index={property.id}\n                                active={activeIDS.includes(property.id)}\n                                onClick={toggleProperty}\n                            >\n                                <Icon name=\"dropdown\"/>\n                                {props.activePropertyId === property.id ? <b>{property.name}</b> : property.name}\n                                {\n                                    property.plot &&\n                                    <PlotPopup data={property.plot.data}\n                                               type={property.plot.type}\n                                               onSelectNode={(node) => props.setEntitiesItemsList(node.ids)}\n                                               header={property.name}\n                                               trigger={<Icon\n                                                   link\n                                                   onClick={e => e.stopPropagation()}\n                                                   circular\n                                                   style={{float: \"right\"}}\n                                                   name=\"chart line\"\n                                               />}/>\n                                }\n                            </Accordion.Title>\n                            <Accordion.Content active={activeIDS.includes(property.id)}>\n                                <Table selectable>\n                                    <Table.Body>\n                                        {property.values.map(subProperty => (\n                                            <SingleProperty key={subProperty.id} propertyDict={subProperty}/>\n                                        ))}\n                                    </Table.Body>\n                                </Table>\n                            </Accordion.Content>\n                        </Accordion.Accordion>\n                    )\n                })}\n            </Accordion>\n        </>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    allProperties: state.workSpace.controls.properties.all,\n});\n\nconst mapDispatchToProps = ({\n    setEntitiesItemsList\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProperties)\n","import React, {Component} from \"react\";\nimport {Menu} from \"semantic-ui-react\";\n\nimport InterestingProperties from \"./InterestingProperties/InterestingProperties\";\nimport AllProperties from \"./AllProperties/AllProperties\";\n\nexport default class PropertiesPanel extends Component {\n    state = {\n        activeItem: \"interesting\",\n        openedPropID: null\n    };\n    clickMenu = (e, {name}) => {\n        this.setState({activeItem: name});\n    };\n\n    openAllMenuWithProp = (propID) => {\n        console.log(propID);\n        const arr = propID.split('.');\n        arr.pop();\n        this.setState({\n            activeItem: 'all',\n            openedPropID: arr.join('.')\n        })\n    };\n\n    render() {\n        const {activeItem} = this.state;\n        return (\n            <div>\n                <Menu secondary size=\"tiny\">\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"interesting\"}\n                        name=\"interesting\"\n                        content=\"Интересные свойства\"\n                    />\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"all\"}\n                        name=\"all\"\n                        content=\"Все свойства\"\n                    />\n                </Menu>\n                {activeItem === \"interesting\" ? (\n                    <InterestingProperties moveToAll={this.openAllMenuWithProp}/>\n                ) : (\n                    <AllProperties openedPropID={this.state.openedPropID}/>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Button, Form} from \"semantic-ui-react\";\nimport formComponentGenerator from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {extractFromString} from \"../../../store/actions\";\n\n\nconst StringSearch = props => {\n    return (\n        <Form onSubmit={props.handleSubmit(props.extractFromString)}>\n            <p>Можете сделать <b>поиск</b> с помощью вк, нажать правой кнопкой мыши на странице, затем <b>Page\n                source</b>, скопировать весь текст и вставить сюда (или просто ctrl + U)</p>\n            <Field name={'text'}\n                   component={formComponentGenerator(Form.TextArea)}\n            />\n            <Button type={'submit'} content={'Извлечь'}\n                    style={{marginTop: '0.2rem'}} fluid basic/>\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    extractFromString\n});\nexport default connect(() => ({}), mapDispatchToProps)(reduxForm(\n    {\n        form: 'StringSearch',\n    }\n)(StringSearch));\n","import React, {useState} from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Accordion, Form, Icon} from \"semantic-ui-react\";\nimport formComponentGenerator, {formInputComponent} from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFilterSearch} from \"../../../store/controlsReducer\";\n\n\nconst maxAmount1000Validation = (value) => Number(value) > 1000 ? 'Максимальное значение: 1000' : undefined;\n\nconst ServerSearch = ({handleSubmit, ...props}) => {\n    handleSubmit = handleSubmit(props.submitFilterSearch);\n    const [activeItem, setActiveItem] = useState('vk');\n    const toggleActiveItem = (value) => {\n        setActiveItem(activeItem === value ? '' : value)\n    };\n    return (\n        <Form autoComplete={'off'}>\n            {/*<Field*/}\n            {/*    name={'limit'}*/}\n            {/*    normalize={(value, previousValue) => {*/}\n            {/*        if (Number(value))*/}\n            {/*            return Number(value).toString();*/}\n            {/*        if(!value)*/}\n            {/*            return '0';*/}\n            {/*        return previousValue;*/}\n            {/*    }}*/}\n            {/*    component={formComponentGenerator(Form.Input)}*/}\n            {/*    validate={maxAmount1000Validation}*/}\n            {/*    label={'Максимальное количество объектов'}*/}\n            {/*/>*/}\n            <Field component={formInputComponent}\n                   name={'commonQueryString'}\n                   submitIcon={handleSubmit}\n                   label={'Универсальная поисковая строка'}\n                   placeholder={'https://vk.com/durov, nagibator666'}/>\n\n            {/*<Accordion>*/}\n            {/*    <Accordion.Accordion>*/}\n            {/*        <Accordion.Title onClick={() => toggleActiveItem('vk')} active={activeItem === 'vk'}>*/}\n            {/*            <Icon name=\"dropdown\"/>*/}\n            {/*            ВК*/}\n            {/*        </Accordion.Title>*/}\n            {/*        <Accordion.Content active={activeItem === 'vk'}>*/}\n            {/*            <Field component={formInputComponent}*/}\n            {/*                   submitIcon={handleSubmit}*/}\n            {/*                   name={'vkSearchQuery'}*/}\n            {/*                   label={'Поиск в социальной сети ВКонтакте'}*/}\n            {/*                   placeholder={'Иван Иванов, artur97, мемы'}/>*/}\n            {/*            <Form.Group>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkUsersInclude'}*/}\n            {/*                       label={'Люди'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkGroupsInclude'}*/}\n            {/*                       label={'Группы'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkPostsInclude'}*/}\n            {/*                       label={'Посты'}/>*/}\n            {/*            </Form.Group>*/}\n            {/*        </Accordion.Content>*/}\n            {/*    </Accordion.Accordion>*/}\n            {/*</Accordion>*/}\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    submitFilterSearch\n});\n\nexport default connect(null, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'ServerSearch',\n            initialValues: {\n                limit: 1000,\n                vkUsersInclude: true,\n                vkGroupsInclude: false,\n                vkPostsInclude: false\n            },\n        }\n    )(ServerSearch));\n","import React from \"react\";\nimport {Dropdown} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport StringSearch from \"./StringSearch\";\nimport {changeFilterMode} from \"../../../store/controlsReducer\";\nimport ServerSearch from \"./ServerSearch\";\n\n\nconst PageSearch = props => {\n    return (\n        <></>\n    )\n};\n\n\nconst FilterPanel = ({searchMode, ...props}) => {\n    const searchModeOptions = [\n        {key: 'net', text: 'Из интернета (обращаться к API различных сервисов)', value: 'net'},\n        // {key: 'cache', text: 'Из баз данных NTrail (закешированные запросы)', value: 'cache'},\n        // {key: 'page', text: 'С данной страницы (уже полученное с сервера)', value: 'page'},\n        {key: 'text', text: 'Извлечь данные из строки', value: 'text'},\n    ];\n    return (\n        <div\n            style={{marginTop: '1rem'}}>\n            <b>Откуда брать информацию</b>\n            <Dropdown\n                value={searchMode}\n                onChange={(e, data) => props.changeFilterMode(data.value)}\n                fluid selection\n                options={searchModeOptions}\n                style={{marginBottom: '1rem'}}\n            />\n            {\n                searchMode === 'text' &&\n                <StringSearch/>\n            }\n            {\n                (searchMode === 'net' || searchMode === 'cache') &&\n                <ServerSearch/>\n            }\n            {\n                (searchMode === 'page') &&\n                <PageSearch/>\n            }\n        </div>\n    );\n};\n\nconst mapStateToProps = state => {\n    return {\n        searchMode: state.workSpace.controls.filterMode\n    }\n};\nconst mapDispatchToProps = ({\n    changeFilterMode\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterPanel)\n","import React from 'react';\nimport {Form} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport {getSelectedEntitiesURLS} from \"../../../store/selectors\";\n\nconst CopyPasteInput = ({value, label, component, condition}) => {\n    if (condition === undefined)\n        condition = true;\n    if (!value || !condition)\n        return <></>;\n    let Component = Form.Input;\n    if (component)\n        Component = component;\n\n    return <Component value={value} label={label}/>;\n};\n\n\nconst ParamsPanel = (props) => {\n    return (\n        <Form style={{marginTop: '1rem'}}>\n            <CopyPasteInput label={'Текущая версия'} value={props.version}/>\n            <CopyPasteInput label={'ID текущего кластера'} value={props.clusterID}/>\n            <CopyPasteInput component={Form.TextArea} label={'ID выделенных кластеров'}\n                            value={props.selectedClustersID.join('\\n')}/>\n\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'Количество Кластеров'} value={props.clustersCount}/>\n                <CopyPasteInput label={'Размер текущего кластера'} value={props.entitiesCount}/>\n            </Form.Group>\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'ID выбранных сущностей'} value={props.selectedEntitiesID.join(', ')}/>\n                <CopyPasteInput label={'К-во выбранных сущностей'} value={props.selectedEntitiesID.length}/>\n            </Form.Group>\n\n\n            <CopyPasteInput component={Form.TextArea}\n                            label={'Ссылки на выбранные сущности'}\n                            value={props.selectedEntitiesURLS.join('\\n')}/>\n        </Form>\n    )\n};\n\nconst mapStateToProps = state => {\n    return {\n        clusterID: state.workSpace.clusters.selectedClusterID,\n        version: state.workSpace.version,\n        selectedEntitiesID: state.workSpace.entities.selectedItems,\n        selectedEntitiesURLS: getSelectedEntitiesURLS(state),\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        selectedClustersID: state.workSpace.clusters.highlightedClusters\n    }\n};\n\nexport default connect(mapStateToProps)(ParamsPanel);\n","import React from \"react\";\nimport {Segment, Menu} from \"semantic-ui-react\";\nimport './style.less'\n\nimport PropertiesMenu from \"./PropertiesMenu/PropertiesMenu\";\nimport FilterPanel from \"./FilterPanel/FilterPanel\";\nimport ActionsPanel from \"./ActionsPanel/ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {selectMenu} from \"../../store/controlsReducer\";\nimport ParamsPanel from \"./ParamsPanel/ParamsPanel\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ControlPanel = (props) => {\n    const {activeItem} = props;\n    let menu = <PropertiesMenu/>;\n    if (activeItem === 'actions')\n        menu = <ActionsPanel/>;\n    else if (activeItem === 'filter')\n        menu = <FilterPanel/>;\n    else if (activeItem === 'params')\n        menu = <ParamsPanel/>;\n    return (\n        <UISegment>\n            <Menu secondary\n                  widths={props.haveClusters ? 4 : 3}\n                  style={{marginBottom: \"0.2rem\"}}\n            >\n                {\n                    props.haveClusters &&\n                    <Menu.Item\n                        active={activeItem === \"properties\"}\n                        name=\"properties\"\n                        content='Главное'\n                        onClick={() => props.selectMenu('properties')}\n                    />\n                }\n                <Menu.Item\n                    onClick={() => props.selectMenu('filter')}\n                    active={activeItem === \"filter\"}\n                    name=\"filter\"\n                    className={'controlMenu'}\n                    content=\"Фильтр\"\n                />\n                <Menu.Item\n                    onClick={() => props.selectMenu('actions')}\n                    active={activeItem === \"actions\"}\n                    name=\"actions\"\n                    content=\"Действия\"\n                />\n                {\n                    <Menu.Item\n                        onClick={() => props.selectMenu('params')}\n                        active={activeItem === \"params\"}\n                        name=\"params\"\n                        content=\"Параметры\"\n                    />\n                }\n\n            </Menu>\n            {menu}\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    activeItem: state.workSpace.controls.activeItem,\n    haveClusters: state.workSpace.clusters.items.length > 0\n});\nconst mapDispatchToProps = {\n    selectMenu\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel)\n","import React from \"react\";\nimport { Popup, Icon } from \"semantic-ui-react\";\n\nexport default ({ text, position }) => {\n  return (\n    <Popup\n      position={position}\n      content={text}\n      trigger={<Icon color=\"grey\" name=\"question circle\" />}\n    />\n  );\n};\n","import React from 'react';\nimport QuestionPopup from \"./QuestionPopup\";\n\n\nconst NoContent = (props) => {\n    let minHeight = 300;\n    if (props.height)\n        minHeight = props.height;\n    const noContentCss = {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        minHeight: minHeight + \"px\",\n        width: '100%'\n    };\n    return (\n        <div style={noContentCss}>\n            <div style={{float: \"left\"}}>{props.text}</div>\n            &nbsp;&nbsp;\n            <QuestionPopup\n                text={props.popup}\n            />\n        </div>\n    );\n}\n\nexport default NoContent;\n","import React from \"react\";\n\n\nfunction ClusterImages(props) {\n    const photos = props.photos;\n    const calculatePhotoCSS = (size, idx) => {\n        const css = {\n            zIndex: -idx + 100\n        };\n        if (size === 1)\n            return css;\n        if (size === 2)\n            return {...css, left: 10 + 60 / size * idx + '%'};\n        return {...css, left: 75 / size * idx + '%'};\n    };\n\n\n    return (\n        <div className=\"imagesContainer\">\n            {photos.map((url, idx) => (\n                <img\n                    key={idx}\n                    style={calculatePhotoCSS(photos.length, idx)}\n                    className=\"previewClusterImage\"\n                    src={url}\n                    alt=\"\"\n                />\n            ))}\n        </div>\n    )\n}\n\nexport default ClusterImages;","import React, {useLayoutEffect, useRef, useState} from \"react\";\nimport \"./style.less\";\nimport {Checkbox} from \"semantic-ui-react\";\nimport ClusterImages from \"./ImagesGroup\";\n\n\nconst Cluster = ({clusterData, chooseCluster, selected, x, y, dragCluster, ...props}) => {\n    const {photos} = clusterData;\n    const [dimensions, setDimensions] = useState({width: 0, height: 0});\n\n    const clusterCss = {\n        // transition: 'left 0.07s, top 0.07s',\n        zIndex: selected ? 100 : 0,\n        left: x - dimensions['width'] / 2 + 'px',\n        top: y - dimensions['height'] / 2 + 'px',\n        width: clusterData.size + \"rem\",\n    };\n    const targetRef = useRef();\n\n    useLayoutEffect(() => {\n        if (targetRef.current) {\n            setDimensions({\n                width: targetRef.current.offsetWidth,\n                height: targetRef.current.offsetHeight\n            });\n        }\n    }, []);\n\n    const clusterContainerClasses = [\n        'clusterObject',\n        selected && 'selectedCluster',\n        props.isOverlay && 'overlayCluster'\n    ];\n    return (\n        <div\n            ref={targetRef}\n            onMouseDown={(e) => {\n                e.preventDefault();\n                chooseCluster(clusterData.id)\n            }}\n            style={clusterCss} className={clusterContainerClasses.join(' ')}>\n            {(selected || props.showCheckbox) &&\n            <Checkbox checked={props.highlighted}\n                      onMouseDown={e => e.stopPropagation()}\n                      onClick={e => e.stopPropagation()}\n                      onChange={(e) => {\n                          props.toggleClusterHighlight(clusterData.id)\n                      }}\n                      style={{zIndex: '103', position: 'absolute', right: '0.5rem', top: '0.5rem'}}/>}\n            <ClusterImages\n                photos={photos}/>\n\n            <div style={{display: 'flex', justifyContent: 'center', textAlign: 'center', alignItems: 'center'}}>\n                <div>{clusterData.name} </div>\n\n            </div>\n\n        </div>\n    );\n\n}\nexport default Cluster\n","import React from 'react';\n\n\nconst Arrow = ({x1, x2, y1, y2, shorten}) => {\n    // shorten - значение, на которое надо сократить срелку с обеих сторон\n    const shiftX = x2 - x1;\n    const shiftY = y2 - y1;\n    if (!shorten) shorten = 0;\n    const lineLength = Math.sqrt(shiftX*shiftX + shiftY*shiftY);\n    const newLength = lineLength - shorten * 2;\n    const minLength = 20;\n    if(shorten && (lineLength < minLength || newLength < minLength)){\n        return <line/>\n    }\n    const lengthFraction = newLength / lineLength;\n    const newShiftX = shiftX * lengthFraction;\n    const newShiftY = shiftY * lengthFraction;\n    x1 += (shiftX - newShiftX) / 2;\n    y1 += (shiftY - newShiftY) / 2;\n    x2 = x1 + newShiftX;\n    y2 = y1 + newShiftY;\n\n    // debugger\n    return (\n        <line x1={x1 + 'px'} y1={y1 + 'px'} x2={x2 + 'px'} y2={y2 + 'px'} stroke=\"black\"/>\n    )\n}\n\nexport default Arrow;\n","import React from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\n\n\nconst ClustersGraph = (props) => {\n    const {sizes: {width, height}, graph} = props;\n    if (!graph)\n        return null;\n    return (\n        <div\n            onMouseMove={(e) => {\n                e.preventDefault();\n                props.dragCluster(e.movementX, e.movementY)\n            }}\n            onMouseUp={() => props.stopDrag()}\n            onMouseLeave={() => {\n                props.stopDrag()\n            }}\n            className={'clustersAnimationsContainer'}>\n            <div className=\"clustersField\" style={{height: height, width: width}}>\n                {graph.nodes.map(node => (\n                    <Cluster\n                        chooseCluster={() => props.selectCluster(node.id)}\n                        selected={props.selectedClusterID === node.id}\n                        highlighted={props.highlightedClusters.includes(node.id)}\n                        x={node.pos.x}\n                        y={node.pos.y}\n                        key={node.id}\n                        clusterData={node.data}\n                        isOverlay={node.id === props.overlayClusterID}\n                        toggleClusterHighlight={props.toggleClusterHighlight}\n                        showCheckbox={props.highlightedClusters.length > 0}\n                    />\n                ))}\n            </div>\n            <svg width={width} height={height}>\n                {\n                    graph.edges.map(item => {\n                            let x1, x2, y1, y2;\n                            x1 = item.from.pos.x;\n                            y1 = item.from.pos.y;\n                            x2 = item.to.pos.x;\n                            y2 = item.to.pos.y;\n\n                            return (\n                                <Arrow\n                                    key={item.from.id + '__' + item.to.id}\n                                    x1={x1}\n                                    y1={y1}\n                                    x2={x2}\n                                    y2={y2}\n                                    shorten={50}\n                                />\n                            )\n                        }\n                    )\n                }\n            </svg>\n        </div>\n    )\n};\n\n\nexport default ClustersGraph;\n\n","const repulsionForce = [-2.4, 1, 10, 80, 25];\nconst attractionForce = [2, 0, 4, 2, 2];\nconst borderRepulsionForce = [-1, 0.5, 10, 20, 0.1];\nconst centralAttractionForce = [1, 1, 2, 2, 0.01 * 0];\n\nconst moveStrength = 5;\n\nclass Vector {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    copy() {\n        return new Vector(this.x, this.y);\n    }\n\n    add(other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    }\n\n    mult(value) {\n        this.x *= value;\n        this.y *= value;\n        return this;\n    }\n\n    div(value) {\n        return this.mult(1 / value);\n    }\n\n    sub(other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this\n    }\n\n    mag() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n}\n\nconst createVector = (x, y) => {\n    return new Vector(x, y);\n};\n\nconst min = (...values) => Math.min(...values);\nconst max = (...values) => Math.max(...values);\n\nexport const getDist = (x, y) => {\n    return Math.sqrt(x*x + y*y);\n};\n\nconst map = (value, currLower, currUpper, targetLower, targetUpper, needBound = false) => {\n    if (needBound)\n        value = min(max(value, currLower), currUpper);\n    value -= currLower;\n    value /= (currUpper - currLower);\n    value *= (targetUpper - targetLower);\n    value += targetLower;\n    return value;\n};\n\n\nclass Node {\n    constructor(node, sizes) {\n        this.id = node.id;\n        this.data = node;\n        this.sizes = sizes;\n        this.maxSize = max(sizes.width, sizes.height);\n        let x, y;\n        if (node['__exist']) {\n            x = node.pos.x;\n            y = node.pos.y;\n        } else {\n            x = Math.random() * sizes.width;\n            y = Math.random() * sizes.height;\n        }\n        this.pos = createVector(x, y);\n        this.velocity = createVector(0, 0);\n        this.lastShift = null;\n        this.lockedPosition = false\n    }\n\n    getData() {\n        return {\n            ...this.data,\n            __exist: true,\n            pos: {\n                x: this.pos.x,\n                y: this.pos.y\n            }\n        }\n    }\n\n    getDistanceWith(x, y) {\n        return createVector(x - this.pos.x, y - this.pos.y).mag()\n    }\n\n    shiftBy(x, y) {\n        this.pos.add(createVector(x, y))\n    }\n\n    moveTo(x, y) {\n        this.pos = createVector(x, y)\n    }\n\n    lockMovement() {\n        this.lockedPosition = true\n    }\n\n    unlockMovement() {\n        this.lockedPosition = false\n    }\n\n    toForceVector(distVector, parameters, direction = 1) {\n        let [pow, lowerBorder, upperBorder, minValue, coef] = parameters;\n\n        let dist = distVector.mag();\n        distVector.div(dist);\n\n        dist = map(dist, minValue, this.maxSize, lowerBorder, upperBorder, true);\n\n        let forceFactor = Math.pow(dist, pow);\n        return distVector.mult(forceFactor * coef * direction)\n    }\n\n    calculateForceWith(other, connected) {\n        let dir = other.pos.copy().sub(this.pos);\n\n        let move = this.toForceVector(dir.copy(), repulsionForce, -1);\n        if (connected)\n            return this.toForceVector(dir, attractionForce).add(move);\n\n        return move\n    }\n\n    calculateForceWithBorders() {\n        let top = createVector(0, max(1, this.pos.y));\n        let left = createVector(max(1, this.pos.x), 0);\n        let bottom = createVector(0, min(-1, this.pos.y - this.sizes.height));\n        let right = createVector(min(-1, this.pos.x - this.sizes.width), 0);\n\n        let center = createVector(this.sizes.width / 2 - this.pos.x, this.sizes.height / 2 - this.pos.y);\n\n        let sum = this.toForceVector(center, centralAttractionForce);\n        sum.add(this.toForceVector(top, borderRepulsionForce));\n        sum.add(this.toForceVector(left, borderRepulsionForce));\n        sum.add(this.toForceVector(bottom, borderRepulsionForce));\n        sum.add(this.toForceVector(right, borderRepulsionForce));\n        return sum;\n    }\n\n    normalizePosition() {\n        const normalizeCoordinate = (value, maxValue) => {\n            return max(min(value, maxValue), 0)\n        };\n\n        this.pos = createVector(\n            normalizeCoordinate(this.pos.x, this.sizes.width),\n            normalizeCoordinate(this.pos.y, this.sizes.height)\n        );\n    }\n\n    applyForce(forceVector) {\n        if (this.lockedPosition)\n            return;\n\n        forceVector.mult(moveStrength);\n\n        this.lastShift = forceVector;\n        this.pos.add(forceVector);\n\n        this.normalizePosition()\n    }\n}\n\n\nexport class Graph {\n    constructor(nodes, edges, sizes) {\n        this.nodes = nodes.map(node => new Node(node, sizes));\n        const nodesDict = {};\n        for (const node of this.nodes)\n            nodesDict[node.id] = node;\n\n        this.nodesDict = nodesDict;\n        this.edges = edges.map(edge => ({from: nodesDict[edge.from], to: nodesDict[edge.to]}));\n        this.sizes = sizes;\n        const edgesDict = {};\n        for (let node of this.nodes)\n            edgesDict[node.id] = [];\n\n        for (let edge of this.edges) {\n            let id1 = edge.from.id;\n            let id2 = edge.to.id;\n            edgesDict[id1].push(id2);\n            edgesDict[id2].push(id1);\n        }\n        this.edgesDict = edgesDict;\n        this.wasUpdated = false;\n    }\n\n    getNearestNode(x, y) {\n        let minDist = 9999999;\n        let bestNode = this.nodes[0];\n        for (let node of this.nodes) {\n            let dist = node.getDistanceWith(x, y);\n            if (dist < minDist) {\n                minDist = dist;\n                bestNode = node;\n            }\n        }\n        return bestNode\n    }\n\n    wornToChange(){\n        this.wasUpdated = false\n    }\n\n    getCompletePercents() {\n        if (!this.wasUpdated){\n            return 0;\n        }\n        let res = 0;\n        for (let node of this.nodes) {\n            res += node.lastShift.mag();\n        }\n        res /= this.nodes.length;\n        res = Math.pow(res, 0.5);\n        return 100 - map(res, 0, 3, 0, 100, true)\n    }\n\n    calculateForces() {\n        let forces = {};\n        for (let node1 of this.nodes) {\n            let id1 = node1.id;\n            let nodeBorderForce = node1.calculateForceWithBorders();\n\n            forces[id1] = createVector(0, 0);\n\n            for (let node2 of this.nodes) {\n                let id2 = node2.id;\n                if (id1 === id2)\n                    continue;\n\n                let connected = false;\n\n                if (this.edgesDict[id1].includes(id2))\n                    connected = true;\n\n                forces[id1].add(node1.calculateForceWith(node2, connected));\n            }\n\n            forces[id1].div(this.nodes.length).add(nodeBorderForce)\n        }\n        return forces;\n    }\n\n    applyForces() {\n        let forces = this.calculateForces();\n        for (let node of this.nodes) {\n            node.applyForce(forces[node.id])\n        }\n        this.wasUpdated = true;\n    }\n}","import React, {createRef} from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\nimport {rand} from '../../utils'\nimport ClustersGraph from \"./ClustersGraph\";\nimport {getDist, Graph} from \"./graphLogic\";\n\n\nconst makeGraphIteration = (graph) => {\n    if (!graph)\n        return;\n    graph.applyForces();\n    return graph\n};\n\nconst updateGraphWith = (graph, clusters, connections, sizes) => {\n    let existingNodesDict = {};\n    if (graph)\n        existingNodesDict = graph.nodesDict;\n\n    const newClustersIDS = clusters.map(item => item.id);\n\n    const newNodes = clusters.map(\n        cluster => (cluster.id in existingNodesDict) ? existingNodesDict[cluster.id].getData() : cluster\n    ).filter(node => newClustersIDS.includes(node.id));\n    return new Graph(newNodes, connections, sizes)\n};\n\n\nconst updateClustersPositionsTimeout = 25;\nconst stopUpdateGraphCutoff = 90;\n\nclass ClustersAnimate extends React.Component {\n    state = {\n        graph: null,\n        sizes: {\n            width: 0,\n            height: 0\n        },\n        overlayClusterID: null,\n        selectedCluster: null,\n        mousePressed: false,\n        liveUpdate: false,\n        selectedClusterObject: null,\n        trajectory: 0\n    };\n\n    updateGraphFrame() {\n        this.setState({\n            graph: makeGraphIteration(this.state.graph)\n        });\n    }\n\n    calculateHeight(){\n        return (this.props.clusters.length - this.props.connections.length / 2 + 5) * 40;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.clustersID !== this.props.clustersID) {\n            const width = this.containerRef.current.offsetWidth;\n            const height = this.calculateHeight();\n            this.setState({\n                    sizes: {\n                        width, height\n                    },\n                    liveUpdate: true,\n                    mousePressed: false,\n                    overlayClusterID: false,\n                    selectedCluster: this.props.selectedClusterID,\n                    graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height})\n                }\n            )\n        } else if (this.state.liveUpdate) {\n            if (this.state.graph.getCompletePercents() >= stopUpdateGraphCutoff)\n                this.setState({liveUpdate: false});\n            else\n                setTimeout(this.updateGraphFrame.bind(this), updateClustersPositionsTimeout);\n        }\n    }\n\n    componentDidMount() {\n        const width = this.containerRef.current.offsetWidth;\n        const height = this.calculateHeight();\n        this.setState({\n            sizes: {width, height},\n            graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height}),\n            liveUpdate: true\n        });\n    }\n\n    selectCluster(id) {\n        let nearestNode = this.state.graph.nodesDict[id];\n        nearestNode.lockMovement();\n        this.state.graph.wornToChange();\n        this.setState({\n            mousePressed: true,\n            selectedCluster: id,\n            selectedClusterObject: nearestNode,\n            trajectory: 0\n        });\n    }\n\n    stopDrag() {\n        if(this.state.selectedClusterObject){\n            if(this.state.trajectory < 5){\n                this.props.selectCluster(this.state.selectedCluster)\n            }\n            this.state.selectedClusterObject.unlockMovement();\n            this.setState({\n                mousePressed: false,\n                selectedClusterObject: null,\n                liveUpdate: true\n            });\n        }\n    }\n\n    dragCluster(x, y){\n        if (this.state.selectedClusterObject) {\n            this.state.selectedClusterObject.shiftBy(x, y);\n            this.setState({\n                graph: this.state.graph,\n                trajectory: this.state.trajectory + getDist(x, y)\n            })\n        }\n    }\n\n    toggleClusterHighlight(id) {\n        if (!this.props.highlightedClusters.includes(id))\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters,\n                id\n            ]);\n        else\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters.filter(item => item !== id)\n            ]);\n    }\n\n    render() {\n        this.containerRef = createRef();\n        return (\n            <div ref={this.containerRef} style={{margin: '35px'}}>\n                <ClustersGraph\n                    graph={this.state.graph}\n                    sizes={this.state.sizes}\n                    dragCluster={this.dragCluster.bind(this)}\n                    stopDrag={this.stopDrag.bind(this)}\n                    selectCluster={this.selectCluster.bind(this)}\n                    selectedClusterID={this.props.selectedClusterID}\n                    highlightedClusters={this.props.highlightedClusters}\n                    toggleClusterHighlight={this.toggleClusterHighlight.bind(this)}\n                />\n            </div>\n        )\n    }\n}\n\nexport default ClustersAnimate;\n","import React from 'react';\nimport ClusterImages from \"./ImagesGroup\";\nimport {Icon} from \"semantic-ui-react\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {connect} from \"react-redux\";\nimport {getEntitiesColors, getSelectedItemsIDS} from \"../../store/selectors\";\n\n\nconst ClusterLine = (props) => {\n    const {toggleOpen, cluster, opened, haveChildren, selected, selectCluster, indent} = props;\n    const {name, count, photos, id} = cluster;\n    let containerClasses = ['clusterLine'];\n    if(props.selectedEntities.map(id=>props.entitiesColors[id].id).includes(id))\n        containerClasses.push('highlightedClusterLine');\n    if(selected)\n        containerClasses.push('selectedClusterLine');\n    return (\n        <div\n            style={{marginLeft: indent * 10 + 'px'}}\n            className={containerClasses.join(' ')}\n            onClick={e => {\n                e.stopPropagation();\n                selectCluster(cluster.id)\n            }}\n        >\n            {\n                haveChildren ?\n                    <Icon style={{marginLeft: 'auto'}} onClick={e => {\n                        e.stopPropagation();\n                        toggleOpen()\n                    }} link name={opened ? 'caret down' : 'caret right'}/>\n                    : <div/>\n            }\n            <div className={'clusterName'}>{name}</div>\n            <ClusterImages photos={photos}/>\n            <div style={{margin: 'auto'}}>{count}</div>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    selectedEntities: getSelectedItemsIDS(state),\n    entitiesColors: getEntitiesColors(state)\n});\n\nexport default connect(mapStateToProps)(ClusterLine);\n","import React, {useEffect, useState} from 'react';\nimport ClusterLine from \"./ClusterLine\";\nimport {connect} from \"react-redux\";\nimport {getClusterParent, getClustersTreeDict} from \"../../store/selectors\";\n\nconst getAllChildrenIDS = (clustersTree, parentID, withParent = false) => {\n    if (!(parentID in clustersTree)) {\n        if (withParent)\n            return [parentID];\n        return [];\n    }\n\n    return clustersTree[parentID].map(child => getAllChildrenIDS(clustersTree, child.id, true)).flat();\n};\n\nconst ClustersTree = (props) => {\n    let {clusters, clustersID, parentID, level, selectedClusterID, selectCluster, clustersTree} = props;\n    if (!level)\n        level = 0;\n    let currLevelClusters = clustersTree[parentID];\n\n    const [openedClusters, setOpenedClusters] = useState(currLevelClusters.map(item=>item.id));\n\n\n    const toggleOpen = (clusterID) => {\n        if (openedClusters.includes(clusterID))\n            setOpenedClusters(openedClusters.filter(item => item !== clusterID));\n        else\n            setOpenedClusters([...openedClusters, clusterID]);\n    };\n\n    return (\n        <div>\n            {\n                currLevelClusters.map(cluster => (\n                    <div key={cluster.id}>\n                        <ClusterLine\n                            indent={level}\n                            selectCluster={selectCluster}\n                            cluster={cluster}\n                            selected={cluster.id === selectedClusterID}\n                            opened={openedClusters.includes(cluster.id)}\n                            toggleOpen={() => toggleOpen(cluster.id)}\n                            haveChildren={clusters.filter(child => getClusterParent(child) === cluster.id).length > 0}\n                        />\n                        {\n                            openedClusters.includes(cluster.id) && clustersTree[cluster.id] &&\n                            <ClustersTree\n                                {...props} level={level + 1}\n                                parentID={cluster.id}\n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n};\n\n\n\n\nconst ClustersTreeWrapper = (props) => {\n\n    return (\n        <div style={{maxHeight: '70vh', overflow: 'auto', padding: '3px'}}>\n            <ClustersTree {...props} parentID={null}/>\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state, props) => {\n\n    return {\n        clustersTree: getClustersTreeDict(state)\n    }\n};\n\nconst mapDispatchToProps = ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersTreeWrapper);\n","import React from \"react\";\nimport {Button, Segment} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport NoContent from \"../utils/NoContent\";\nimport {deleteCluster, reloadCluster, selectCluster, setHighlightedClusters} from \"../../store/clustersReducer\";\nimport {clearAll} from \"../../store/workSpaceReducer\";\nimport ClustersAnimate from \"./ClustersAnimate\";\nimport {shuffle} from \"../../utils\";\nimport ClustersTree from \"./ClustersTree\";\nimport {getClusters, getClustersIDS} from \"../../store/selectors\";\nimport {deleteSelectedCluster} from \"../../store/actions\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ClustersPanel = (props) => {\n    const noContent = <NoContent\n        popup={\"Создайте объект в рабочем поле (центральное), чтобы добавить кластер\"}\n        text={'Кластеров пока нет'}\n    />;\n\n    return (\n        <UISegment className={'clustersPanel'}\n\n        >{\n            props.haveControlButtons &&\n            (<Button.Group compact size={'tiny'} widths='3' style={{marginBottom: '1rem'}}>\n                <Button onClick={props.clearAll} basic color={'red'} icon={'delete'} content={'Очистить'}/>\n                <Button onClick={props.deleteCluster} basic color={'orange'} icon={'trash alternate outline'}\n                        content={'Удалить'}/>\n                <Button onClick={props.reloadCluster} basic color={'blue'} icon={'sync alternate'}\n                        content={'Обновить'}/>\n            </Button.Group>)\n        }\n\n            {props.clusters.length === 0\n                ? noContent\n                : <ClustersTree {...props}/>\n            }\n            {\n                props.haveSelectionActions &&\n                (<Button.Group compact size={'tiny'} widths='2' style={{marginBottom: '0rem'}}>\n                    <Button onClick={() => props.setHighlightedClusters([])} color={'grey'} basic\n                            icon={'circle outline'}\n                            content={'Снять выделение'}/>\n                    <Button onClick={() => props.setHighlightedClusters(props.clustersID)} color={'grey'} basic\n                            icon={'circle'}\n                            content={'Выделить все'}/>\n                </Button.Group>)\n            }\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => {\n\n    return {\n        clusters: getClusters(state),\n        clustersID: getClustersIDS(state),\n        connections: state.workSpace.clusters.connections,\n        selectedClusterID: state.workSpace.clusters.selectedClusterID,\n        haveControlButtons: state.workSpace.clusters.items.length > 0,\n        highlightedClusters: state.workSpace.clusters.highlightedClusters,\n        haveSelectionActions: state.workSpace.clusters.highlightedClusters.length > 0\n    }\n};\n\nconst mapDispatchToProps = {\n    selectCluster,\n    deleteCluster: deleteSelectedCluster,\n    reloadCluster,\n    clearAll,\n    setHighlightedClusters\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersPanel)","import React from 'react';\nimport style from './style.less'\n\n\nconst Link = (props) => {\n    const {text, url, style} = props;\n    return (\n        <a\n            style={style}\n            onMouseDown={e=>e.stopPropagation()}\n            onClick={e=>e.stopPropagation()}\n            className=\"customLink\"\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n        >\n            <div>{text}</div>\n        </a>\n    )\n};\n\nexport default Link;\n","import React, {useEffect, useState} from 'react';\nimport {\n    Sigma,\n    RandomizeNodePositions,\n    ForceAtlas2, SigmaEnableWebGL\n} from 'react-sigma';\nimport {connect} from \"react-redux\";\nimport {colorByNumber, listHash} from \"../../utils\";\nimport {getEntities, getEntitiesColors} from \"../../store/selectors\";\nimport {Icon, Image} from \"semantic-ui-react\";\nimport Link from \"../utils/Link\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {Button, UIGroup} from \"../utils/UI\";\n\nconst getNodeColorAndSize = (entity, selectedEntities, visibleEntities, entitiesColors) => {\n    let size = 5;\n    if (selectedEntities.includes(entity.id))\n        size = 8;\n    return {\n        size: size,\n        color: colorByNumber(entitiesColors[entity.id].id)\n    };\n    let color = entity.properties.sex === 1 ? '#ff5555' : '#5555ff';\n    if (!entity.valid)\n        color = '#aaa';\n    if (!visibleEntities.includes(entity.id)) {\n        // color = LightenDarkenColor(color, -40);\n        color = '#777';\n        size = 4\n    }\n    if (selectedEntities.includes(entity.id)) {\n        color = '#0a0';\n    }\n\n    return {\n        color: color,\n        size: size\n    };\n};\n\nclass UpdateNodeProps extends React.Component {\n\n    componentWillReceiveProps({sigma, selectedEntities, visibleEntities, entitiesColors}) {\n\n        sigma.graph.nodes().forEach(n => {\n            const updateNode = {\n                ...getNodeColorAndSize(n.entity, selectedEntities, visibleEntities, entitiesColors),\n            };\n            Object.assign(n, updateNode)\n        });\n        sigma.refresh();\n\n    }\n\n    render = () => null\n}\n\n\nconst GraphActiveHint = (props) => {\n    const {x, y, entity, onClick} = props;\n\n    const style = {\n        left: x - 55,\n        top: y - 150\n    };\n    return (\n        <div className={'graphActiveEntity'} style={style} onClick={e => {\n            e.stopPropagation();\n            onClick(entity)\n        }}>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link text={entity.name} url={entity.url}/>\n        </div>\n    )\n};\n\nconst GraphSelectedEntity = (props) => {\n    const {entity, setSelectedEntity, highlightColor, selectCluster} = props;\n\n    if (!entity) return null;\n    return (\n        <div className={'graphActiveEntity'} style={{position: 'absolute', left: 10, top: 10}}>\n            <Icon onClick={() => setSelectedEntity(null)} link style={{position: 'absolute', top: 0, right: 20}}\n                  name={'close'}/>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link style={{marginBottom: '1rem'}} text={entity.name} url={entity.url}/>\n            <UIGroup>\n                <Button color={colorByNumber(entity.colorCluster.id)}\n                        onClick={() => selectCluster(entity.colorCluster.id)}\n                        text={'Перейти'}/>\n                <Button color={colorByNumber(entity.colorCluster.id)} onClick={() => highlightColor(entity.id)}\n                        text={'Выделить цвет'}/>\n            </UIGroup>\n        </div>\n\n    )\n};\n\n\nconst EntitiesGraph = (props) => {\n    const {selectedEntities, connections, toggleItemSelection, entities, entitiesColors} = props;\n    const visibleEntitiesIDS = props.visibleEntities.map(item => item.id);\n    const [activeEntity, setActiveEntity] = useState(null);\n    const [activeEntityPos, setActiveEntityPos] = useState({});\n    const [selectedEntity, setSelectedEntity] = useState(null);\n\n    useEffect(() => {\n        setActiveEntity(null);\n        setSelectedEntity(null);\n    }, [listHash(entities)]);\n\n    const generateGraph = () => {\n        return {\n            nodes: entities.map(entity => ({\n                id: entity.id,\n                // label: entity.name,\n                ...getNodeColorAndSize(entity, selectedEntities, visibleEntitiesIDS, entitiesColors),\n                entity: {...entity, colorCluster: entitiesColors[entity.id]}\n            }))\n            ,\n            edges: Object.entries(connections).map(([firstID, connectedIDS]) =>\n                connectedIDS.map(secondID => ({\n                    id: firstID + secondID,\n                    source: firstID,\n                    target: secondID,\n                }))).flat()\n        }\n    };\n\n    const highlightColor = (id) => {\n        const color = entitiesColors[id];\n        const sameColorEntities = entities.filter(entity => entitiesColors[entity.id] === color).map(item => item.id);\n        props.selectEntities(sameColorEntities);\n    };\n\n    const graphSettings = {\n        defaultNodeColor: '#ec5148',\n        defaultEdgeColor: '#ccc',\n        edgeColor: 'default',\n        drawEdges: true,\n        labelThreshold: 100,\n        minNodeSize: 0,\n        maxNodeSize: 0\n    };\n\n    const graphStyle = {\n        height: '700px'\n    };\n\n    const selectNode = entity => {\n        if (!entity) {\n            setActiveEntity(null);\n            setSelectedEntity(null);\n            return;\n        }\n        setSelectedEntity(entity);\n        toggleItemSelection(entity.id);\n    };\n\n    const onClickNode = (node) => {\n        selectNode(node.entity);\n    };\n\n    const onOverNode = (node) => {\n        setActiveEntityPos({x: node['cam0:x'], y: node['cam0:y']});\n        setActiveEntity(node.entity)\n    };\n\n    const onOutNode = (node) => {\n        setActiveEntity(null)\n    };\n\n    const graphID = entities.reduce((acc, val) => acc + val.id, '').hashCode();\n\n    return (\n        <div\n            key={graphID}\n        >\n            <Sigma\n                renderer=\"webgl\"\n                graph={generateGraph()}\n                settings={graphSettings}\n                style={graphStyle}\n                onClickNode={(e) => {\n                    onClickNode(e.data.node)\n                }}\n                onOverNode={(e) => onOverNode(e.data.node)}\n                onOutNode={(e) => onOutNode(e.data.node)}\n            >\n                <SigmaEnableWebGL/>\n                <RandomizeNodePositions>\n                    <ForceAtlas2 worker\n                                 scalingRatio={1}\n                                 slowDown={10}\n                                 linLogMode={false}\n                                 iterationsPerRender={1}\n                                 timeout={entities.length / 100 * 1000}\n                    />\n\n                    <UpdateNodeProps entitiesColors={entitiesColors}\n                                     visibleEntities={visibleEntitiesIDS}\n                                     selectedEntities={selectedEntities}/>\n                </RandomizeNodePositions>\n            </Sigma>\n            {\n                activeEntityPos && activeEntity &&\n                <GraphActiveHint x={activeEntityPos.x} y={activeEntityPos.y} entity={activeEntity}\n                                 onClick={onClickNode}/>\n            }\n            {\n                selectedEntity &&\n                <GraphSelectedEntity\n                    highlightColor={highlightColor}\n                    setSelectedEntity={selectNode}\n                    selectCluster={props.selectCluster}\n                    entity={selectedEntity}/>\n            }\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state) => {\n    return {\n        connections: state.workSpace.entities.connections,\n        entities: getEntities(state),\n        entitiesColors: getEntitiesColors(state)\n    }\n};\n\nconst mapDispatchToProps = ({\n    selectCluster\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesGraph);\n","import {Visibility, Image, Placeholder} from 'semantic-ui-react'\nimport React from 'react';\nimport defaultImg from '../../media/defaultAvatar.png'\n\nexport default class LazyImage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            src: defaultImg\n        };\n        this.ref = React.createRef();\n    }\n\n    showImage = () => {\n        this.setState({\n            show: true,\n        })\n    };\n\n    // checkImageOnScreen() {\n    //     const inRange = (value, min, max) => {\n    //         return (value >= min) && (value <= max);\n    //     };\n    //     const {x, y} = this.ref.current.getBoundingClientRect();\n    //     if (inRange(x, 0, window.screen.width) && inRange(y, 0, window.screen.height)) {\n    //         console.log('show avatar');\n    //\n    //         this.setState({show: true})\n    //     }\n    // }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.ref.current)\n            this.ref.current.update()\n    }\n\n    render() {\n        const {src} = this.props;\n        if (!this.state.show) {\n            return (\n                <div>\n                    <Visibility ref={this.ref} fireOnMount onOnScreen={this.showImage}>\n                        <Placeholder style={{height: 100, width: 90}}>\n                            <Placeholder.Image/>\n                        </Placeholder>\n                    </Visibility>\n                </div>\n            )\n        }\n        return <Image {...this.props} src={this.state.src} onLoad={() => this.setState({src})}/>\n    }\n}","import React from \"react\";\nimport \"./style.less\";\nimport lockImg from \"./lock.png\";\nimport verifyImg from \"../../../media/vkverified.svg\";\nimport LazyImage from \"../../utils/LazyImage\";\nimport Link from \"../../utils/Link\";\n\nexport default function EntityItem(props) {\n    const entity = props.entity;\n    let baseClasses = [\"userContainer \"];\n    if (props.selected) baseClasses.push(\"choosed\");\n    const borderColor = entity.properties.color;\n    const lockIcon = <img src={lockImg} className=\"lock\" alt=\"lock\"/>;\n    const verifyIcon = <img src={verifyImg} className=\"verified\" alt=\"verified\"/>;\n    let name = entity.name;\n    const maxNameLength = 16;\n    if(name.length > maxNameLength){\n        name = name.slice(0, maxNameLength);\n        name += '...'\n    }\n    return (\n        <div\n            onClick={props.toggleSelection}\n            onContextMenu={\n                e => {\n                    e.preventDefault();\n                    props.toggleSelection();\n                }\n            }\n            className={baseClasses.join(\" \")}>\n            <LazyImage\n                onMouseMove={e => e.preventDefault()}\n                onMouseDown={e => e.preventDefault()}\n                style={{borderColor: borderColor}}\n                size={'tiny'}\n                circular\n                bordered={false}\n                centered\n                className=\"avatar\"\n                title={entity.name}\n                src={entity.img}\n                alt=\"\"\n            />\n            {entity.private === 1 && lockIcon}\n            {entity.verified === 1 && verifyIcon}\n            <Link url={entity.url} text={name}/>\n\n        </div>\n    );\n}\n","import React, {useEffect, useState} from 'react';\nimport EntityItem from \"./EntityAvatar/Entity\";\nimport {listHash} from \"../../utils\";\n\nconst baseRenderedItemsCount = 40;\n\nconst EntitiesList = ({visibleEntities, toggleItemSelection, ...props}) => {\n    const [visibleItemsCount, setVisibleItemsCount] = useState(baseRenderedItemsCount);\n    console.log('DRAW ENTITIES');\n    const onScroll = (percents) => {\n        if (percents > 0.7) {\n            if (visibleEntities.length > visibleItemsCount) {\n                console.log(percents);\n                setVisibleItemsCount(Math.max(visibleItemsCount + 15, parseInt(visibleItemsCount * 1.2)))\n            }\n        }\n    };\n    useEffect(() => {\n        setVisibleItemsCount(baseRenderedItemsCount);\n    }, [listHash(visibleEntities)]);\n\n    const entitiesToShow = visibleEntities.slice(0, visibleItemsCount);\n    return (\n        <div className=\"entitiesContainer\" style={{maxHeight: '70vh', overflow: 'auto'}}\n             onMouseMove={e => e.preventDefault()}\n             onScroll={(e) => onScroll(e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight))}>\n\n\n            {entitiesToShow.map((obj) => (\n                <EntityItem\n                    entity={obj}\n                    key={obj.id}\n                    selected={props.selectedEntities.includes(obj.id)}\n                    toggleSelection={() => toggleItemSelection(obj.id)}\n                />\n            ))}\n        </div>\n    )\n};\n\nexport default EntitiesList;\n","import React, {useEffect, useState} from \"react\";\nimport {Checkbox, Dimmer, Input, Loader, Radio, Segment} from \"semantic-ui-react\";\n\nimport {connect} from \"react-redux\";\nimport './style.less'\nimport NoContent from \"../utils/NoContent\";\nimport {\n    selectEntities,\n    setEntitiesSearchValue,\n    setSelectionMode,\n    toggleEntitySelection\n} from \"../../store/entitiesReducer\";\nimport SearchIcon from \"../utils/SearchIcon\";\nimport EntitiesGraph from \"./EntitiesGraph\";\nimport EntitiesList from \"./EntitiesList\";\nimport {getEntities} from \"../../store/selectors\";\nimport {Button, UISegment} from \"../utils/UI\";\n\n\nconst SelectionComponent = ({buttonAction}) => {\n    const [activeButton, setActiveButton] = useState(false);\n    return (\n        <>{\n            activeButton ?\n                <Button onClick={buttonAction}\n                        onMouseLeave={() => setActiveButton(false)}\n                        text={'Обычный режим'} compact basic/> :\n                <div onMouseEnter={() => setActiveButton(true)}>{'Выделение'}</div>\n        }\n\n        </>\n    )\n};\n\n\nconst EntitiesPanel = ({searchValue, selectEntities, entitiesIDS, entities, isLoading, setSearchValue, ...props}) => {\n    const noContent = <NoContent height={500} text={'Тут будут пользователи, группы, посты или прочая медиа информация'}\n                                 popup={'Введите запрос в поисковую строку сверху'}/>;\n    const selectedEntities = props.selectedEntities;\n    const [isNotValidHidden, changeNotValidHiddenMode] = useState(true);\n    const [isGraphView, setGraphView] = useState(false);\n    const [currClusterID, setCurrClusterID] = useState(props.clusterID);\n    console.log('DRAW ENTITIES');\n\n    const isEntityVisible = (entity) => {\n        const fitToSearch = (search, value) => {\n            if (!search)\n                return true;\n            if (!value)\n                return false;\n            return String(value).toLowerCase().includes(search.toLowerCase());\n        };\n        const ids = searchValue.split(', ');\n        if (ids.length > 1) {\n            return (!isNotValidHidden || entity.valid) && ids.includes(entity.id);\n        }\n        return (!isNotValidHidden || entity.valid) && (\n            fitToSearch(searchValue, entity.name) ||\n            fitToSearch(searchValue, entity.username) ||\n            fitToSearch(searchValue, entity.id)\n        );\n    };\n\n    const selectEntity = (entityID) => {\n        props.toggleEntitySelection(entityID);\n    };\n    useEffect(()=> {\n        if(currClusterID !== props.clusterID){\n            setCurrClusterID(props.clusterID);\n            setGraphView(false);\n        }\n    }, [props.clusterID])\n\n\n\n    const visibleEntities = entities.filter(item => isEntityVisible(item));\n\n    // if (!visibleEntities.length && isNotValidHidden)\n    //     changeNotValidHiddenMode(false);\n\n    const menuItemStyle = {display: 'flex', alignItems: 'center'};\n    return (\n        <Dimmer.Dimmable blurring as={UISegment} clearing dimmed={false}\n                         style={{display: 'flex', flexDirection: 'column', maxHeight: '100%'}}>\n            {\n                entities.length > 0 ?\n                    <>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            marginBottom: '1rem',\n                            marginLeft: '0.5rem',\n                            marginRight: '0.5rem',\n                            justifyContent: 'space-between'\n                        }}>\n                            <Input value={searchValue}\n                                   onChange={(e, data) => setSearchValue(data.value)}\n                                   size={'mini'}\n                                   icon={<SearchIcon isInputStringEmpty={!searchValue.length}\n                                                     onClose={() => setSearchValue('')}/>}\n                            />\n                            <div style={menuItemStyle}>\n                                {\n                                    !props.selectionMode ?\n                                        <Button text={'Режим выделения'} onClick={() => props.setSelectionMode(true)} compact\n                                                basic/> :\n                                        <>\n                                            <SelectionComponent buttonAction={() => props.setSelectionMode(false)}/>\n                                            <Checkbox\n                                                style={{marginLeft: '0.5rem'}}\n                                                indeterminate={\n                                                    selectedEntities.length > 0 && (visibleEntities.length !== selectedEntities.length)\n                                                }\n                                                checked={visibleEntities.length === selectedEntities.length}\n                                                onChange={(e, data) => {\n                                                    const selected = data.checked;\n                                                    if (selected)\n                                                        selectEntities(visibleEntities.map(item => item.id));\n                                                    else\n                                                        selectEntities([]);\n                                                }}\n                                            />\n                                        </>\n                                }\n                            </div>\n                            <div style={menuItemStyle}>\n                                <div style={{paddingRight: '0.5rem'}}>Скрыть невалид</div>\n                                <Checkbox onClick={((e, data) => changeNotValidHiddenMode(data.checked))}\n                                          checked={isNotValidHidden}\n                                />\n                            </div>\n                            <div style={menuItemStyle}>\n\n                                <div style={{marginRight: '1rem'}}>Список</div>\n                                <Radio checked={isGraphView}\n                                       onChange={(e, data) => setGraphView(data.checked)} toggle/>\n                                <div style={{marginLeft: '1rem'}}>Граф</div>\n                            </div>\n                            <Dimmer inverted active={isLoading}>\n                                <Loader style={{top: '150px'}} active/>\n                            </Dimmer>\n\n                        </div>\n                        {isGraphView ?\n                            <EntitiesGraph\n                                visibleEntities={visibleEntities} toggleItemSelection={selectEntity}\n                                selectedEntities={selectedEntities}\n                                selectEntities={selectEntities}\n                            /> :\n                            <EntitiesList visibleEntities={visibleEntities}\n                                          toggleItemSelection={selectEntity}\n                                          selectedEntities={selectedEntities}/>\n                        }\n                    </> : noContent\n            }\n\n        </Dimmer.Dimmable>\n    )\n\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        entitiesIDS: state.workSpace.entities.items,\n        entities: getEntities(state),\n        isLoading: state.workSpace.entities.isLoading,\n        selectedEntities: state.workSpace.entities.selectedItems,\n        searchValue: state.workSpace.entities.searchValue,\n        selectionMode: state.workSpace.entities.selectionMode,\n        clusterID: state.workSpace.clusters.selectedClusterID\n    }\n};\n\nconst mapDispatchToProps = {\n    setSelectionMode,\n    selectEntities,\n    toggleEntitySelection,\n    setSearchValue: setEntitiesSearchValue\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesPanel);\n","import React, {Component} from \"react\";\nimport \"./style.less\";\n\n\nexport default class Hints extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeIndex: 0\n        };\n        document.onkeydown = e => {\n            switch (e.keyCode) {\n                case 13:\n                    this.props.chooseElement(this.props.values[this.state.activeIndex]);\n                    break;\n                case 27:\n                    this.props.unmountHints();\n                    break;\n                case 38:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.max(this.state.activeIndex - 1, 0)\n                    });\n                    break;\n                case 40:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.min(\n                            this.state.activeIndex + 1,\n                            this.props.values.length - 1\n                        )\n                    });\n                    break;\n                default:\n                    break;\n            }\n        };\n    }\n\n    componentWillUnmount() {\n        document.onkeydown = undefined;\n    }\n\n    render() {\n        const {values} = this.props;\n        return (\n            <div\n                style={{marginLeft: this.props.marginLeftSymbols * 7 + \"px\"}}\n                id=\"hintsList\"\n            >\n                {values.map((name, idx) => (\n                    <div\n                        onMouseDown={e => {\n                            this.props.chooseElement(\n                                this.props.values[Number(e.target.getAttribute(\"index\"))]\n                            );\n                        }}\n                        key={name}\n                        index={idx}\n                        className={\n                            \"hintsListItem \" +\n                            (this.state.activeIndex === idx && \"activeHint\")\n                        }\n                    >\n                        {name}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport {Segment, Input, Message, Icon} from \"semantic-ui-react\";\nimport \"./style.less\";\nimport {connect} from \"react-redux\";\nimport {closeMessage, executeQuery, removeHints, selectHint, typeSymbol} from \"../../store/searchReducer\";\nimport Hints from \"./SearchHints\";\n\nconst SearchPanel = (props) => {\n    const [focused, setFocus] = React.useState(false);\n    const value = (focused && !props.placeholder.startsWith('Введите') && !props.value.length) ?\n        props.placeholder :\n        props.value;\n    const beginExecuteQueryString = (query) => {\n        if(!props.error){\n            props.executeQuery(query);\n        }\n    };\n    return (\n        <Segment basic style={{marginBottom: \"1rem\", padding: 0}}>\n            {\n                props.message.draw &&\n                <Message\n                    error={props.message.error}\n                    warning={props.message.warning}\n                >\n                    <Icon onClick={props.closeMessage} name='close'/>\n                    <Message.Header>{props.message.header}</Message.Header>\n                    <p>\n                        {props.message.body}\n                    </p>\n                </Message>\n            }\n            <Input\n                onChange={(e, data) => props.typeSymbol(data.value)}\n                fluid\n                onFocus={(e) => {\n                    setFocus(true)\n                }}\n                onBlur={() => {\n                    props.removeHints();\n                    setFocus(false);\n                }}\n                loading={props.loading}\n                error={props.error}\n                value={value}\n                icon={{\n                    name: \"search\",\n                    link: true,\n                    onClick: e => beginExecuteQueryString(props.value)\n                }}\n                placeholder={props.placeholder}\n                onKeyDown={e => {\n                    if (e.keyCode === 13 && !props.hints.length) {\n                        beginExecuteQueryString(value)\n                    }\n                }}\n            />\n            {props.hints.length > 0 && (\n                <Hints\n                    marginLeftSymbols={props.value.length}\n                    chooseElement={props.selectHint}\n                    unmountHints={props.removeHints}\n                    values={props.hints}\n                />\n            )}\n        </Segment>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    hints: state.workSpace.search.currentHints,\n    value: state.workSpace.search.queryString,\n    loading: state.workSpace.search.isLoading,\n    placeholder: state.workSpace.search.placeholder,\n    error: state.workSpace.search.isError,\n    warning: state.workSpace.search.isWarning,\n    message: state.workSpace.search.message,\n});\nconst mapDispatchToProps = {\n    executeQuery,\n    typeSymbol,\n    selectHint,\n    removeHints,\n    closeMessage\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPanel)\n","import React from \"react\";\nimport {clearLocalStorage, loadState} from \"./store/localStorage\";\nimport {Button} from \"./components/utils/UI\";\nimport {clearAll} from \"./store/workSpaceReducer\";\nimport {connect} from \"react-redux\";\n\nclass ErrorHandler extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false};\n    }\n\n    static getDerivedStateFromError(error) {\n        // Обновить состояние с тем, чтобы следующий рендер показал запасной UI.\n\n        return {hasError: true};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Можно также сохранить информацию об ошибке в соответствующую службу журнала ошибок\n        console.log('FRONT ERROR has occurred!')\n        // this.setState({hasError: true})\n    }\n\n    clickReturn() {\n        this.setState({hasError: false});\n        this.props.clearAll();\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // Можно отрендерить запасной UI произвольного вида\n            return <>\n                <div style={{margin: '3rem'}}>\n                    <h1>Что-то пошло не так!</h1>\n                    <h2> Опишите пожалуйста сценарий, который привел к данной ошибке (что вы делали в этот момент) в\n                        сообщении обратной связи (кнопка справа сверху на сайте), это поможет предотвратить появление\n                        данной ошибки впредь.</h2>\n                    <Button text={'Вернуться на сайт'} onClick={this.clickReturn.bind(this)}/>\n                    <h3>Внимание! После нажатия на кнопку все данные на сайте будут сброшены. Это никак не повлияет на\n                        ваш\n                        аккаунт</h3>\n                    <h3>Нужно будет заново зарегистрироваться или ввести все запросы по новой (если вы не\n                        авторизованы)</h3>\n                </div>\n            </>;\n        }\n\n        return this.props.children;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n\n    }\n};\n\nconst mapDispatchToProps = ({\n    clearAll\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorHandler);","import React from \"react\";\nimport \"./_variables.less\";\nimport \"semantic-ui-less/semantic.less\";\nimport './utils'\n\nimport {Container, Grid} from \"semantic-ui-react\";\n\nimport PageHeader from \"./components/PageHeader/PageHeader\";\nimport ControlPanel from \"./components/ControlPanel/ControlPanel\";\nimport ClustersPanel from \"./components/ClustersPanel/ClustersPanel\";\nimport EntitiesPanel from \"./components/EntitiesPanel/EntitiesPanel\";\nimport SearchPanel from \"./components/SearchPanel/SearchPanel\";\nimport ErrorHandler from \"./ErrorHandler\";\n\n\nfunction DesktopInterface() {\n    return (\n        <ErrorHandler>\n            <Container\n                style={{padding: \"3rem\", width: '90vw', height: '100vh', display: 'flex', flexDirection: 'column'}}>\n                <PageHeader/>\n                <SearchPanel/>\n\n                <Grid columns=\"equal\" style={{flexGrow: '1'}}>\n                    <Grid.Column width={4}>\n                        <ClustersPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={7}>\n                        <EntitiesPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={5}>\n                        <ControlPanel/>\n                    </Grid.Column>\n                </Grid>\n            </Container>\n        </ErrorHandler>\n    );\n}\n\nexport default DesktopInterface;\n","import React from 'react';\nimport mobilePicture from './mobile.jpg'\n\nconst MobileInterface = (props) => {\n\n    return (\n        <div className={'mobileScreen'}>\n            <h3>NTrail</h3>\n            <div >К сожалению сайт пока не имеет мобильной версии. Зайтиде с компа...</div>\n            <img style={{margin:'1rem'}} src={mobilePicture} alt={''}/>\n        </div>\n    )\n};\n\nexport default MobileInterface;\n","import React from \"react\";\n\nimport {\n    BrowserView,\n    MobileView,\n    isBrowser,\n    isMobile\n} from \"react-device-detect\";\nimport DesktopInterface from \"./desktop\";\nimport MobileInterface from \"./mobile\";\nimport style from './style.less'\n\nfunction App() {\n    return (\n        <>\n           <BrowserView>\n               <DesktopInterface/>\n           </BrowserView>\n            <MobileView>\n                <MobileInterface/>\n            </MobileView>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {store} from './store/store.js'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}