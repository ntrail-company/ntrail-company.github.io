{"version":3,"sources":["media/SVG/circles black and grey/SVG/2.svg","media/SVG/circles black and grey/SVG/4.svg","media/SVG/circles black and grey/SVG/3.svg","media/SVG/circles black and grey/SVG/1.svg","components/EntitiesPanel/EntityAvatar/lock.png","media/vkverified.svg","media/defaultAvatar.png","mobile.jpg","store/localStorage.js","constants.js","config.js","api/api.js","store/utils.js","api/queryStringCreators.js","store/searchReducer.js","store/entitiesReducer.js","utils.js","store/selectors.js","store/clustersReducer.js","store/controlsReducer.js","store/workSpaceReducer.js","store/store.js","components/PageHeader/Authorizing/Authorizing.js","components/utils/UI.js","components/utils/Modal.js","components/utils/ReduxFormComponentWrapper.js","store/actions.js","components/PageHeader/Feedback.js","components/PageHeader/Authorizing/Login.js","components/PageHeader/PageHeader.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperty.js","components/ControlPanel/PropertiesMenu/SingleProperty.js","components/ControlPanel/ActionsPanel/ActionsPanel.js","components/ControlPanel/ActionsPanel/ActiveActions.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperties.js","components/utils/SearchIcon.js","components/Plot/Plot.js","components/ControlPanel/PropertiesMenu/AllProperties/AllProperties.js","components/ControlPanel/PropertiesMenu/PropertiesMenu.js","components/ControlPanel/FilterPanel/StringSearch.js","components/ControlPanel/FilterPanel/ServerSearch.js","components/ControlPanel/FilterPanel/FilterPanel.js","components/ControlPanel/ParamsPanel/ParamsPanel.js","components/ControlPanel/ControlPanel.js","components/utils/QuestionPopup.js","components/utils/NoContent.js","components/ClustersPanel/ImagesGroup.js","components/ClustersPanel/Cluster.js","components/ClustersPanel/Arrow.js","components/ClustersPanel/ClustersGraph.js","components/ClustersPanel/graphLogic.js","components/ClustersPanel/ClustersAnimate.js","components/ClustersPanel/ClusterLine.js","components/ClustersPanel/ClustersTree.js","components/ClustersPanel/ClustersPanel.js","components/utils/Link.js","components/EntitiesPanel/EntitiesGraph.js","components/utils/LazyImage.js","components/EntitiesPanel/EntityAvatar/Entity.js","components/EntitiesPanel/EntitiesList.js","components/utils/Scrolling.js","components/EntitiesPanel/EntitiesConnections.js","components/EntitiesPanel/EntitiesPanel.js","components/SearchPanel/SearchHints.js","components/SearchPanel/SearchPanel.js","ErrorHandler.js","desktop.js","mobile.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","save_count","saveState","state","force","serializedState","JSON","stringify","localStorage","setItem","console","log","textConstants","apiHost","server","axios","create","baseURL","interceptors","request","use","config","headers","String","window","getItem","response","undefined","token","handle_response","error","Promise","reject","executeSelectiveQuery","queryString","get","then","responseJson","entity","schema","Entity","mySchema","normalize","normalizeSelectiveQuery","data","authorizationCheckQuery","executeFeedbackQuery","url","post","executeControlPostQuery","produceActionCreator","type","makeActionCreator","mergeObjectsDepth2","obj1","obj2","obj","Object","entries","key","value","getSelectedClusterID","workSpace","clusters","selectedClusterID","queryTypeCreator","queryType","queryReplaceGetWithLoad","assert","toLowerCase","startsWith","queryLOAD","slice","extractGetQueryAction","queryList","items","join","queryGenerateAttrs","attrs","queryCreator","actionName","args","match","initialData","allHints","currentHints","isLoading","placeholder","isError","errorText","message","draw","header","body","warning","TYPE_SYMBOL","SELECT_HINT","CLEAR_INPUT","REMOVE_HINTS","CHANGE_MESSAGE","CLOSE_MESSAGE","ACTIVATE_LOADER","REMOVE_LOADER","makeInputPlaceholder","getStringLastToken","str","split","search","action","lastToken","newHints","length","filter","item","includes","newValue","payload","showMessage","activateLoader","removeLoader","executeQuery","source","dispatch","getState","result","id","entities","processServerResponse","selectCluster","text","catch","query","status","selectEntities","toggleEntitySelection","setEntities","removeEntitiesLoader","setEntitiesSearchValue","setEntitiesItemsList","setSelectionMode","selectedItems","connections","searchValue","selectionMode","addClusters","startLoadingCluster","colorsList","colorByNumber","idx","reduce","acc","char","charCodeAt","rand","randGen","Set","prototype","difference","otherSet","differenceSet","this","elem","has","add","intersect","x","union","symmetricDifference","round","digits","Number","pow","Math","hashCode","i","hash","listHash","list","s","curr","getWorkingEnvironmentSettings","screen","availWidth","availHeight","width","height","memory","totalJSHeapSize","performance","usedJSHeapSize","jsHeapSizeLimit","stateSize","clustersCount","entitiesCount","clusterID","getObj","objType","store","objects","getObjects","indexes","map","getEntitiesItemsIDS","getClustersIDS","getSelectedItemsIDS","getActiveClusterID","getCurrentClusterPrefix","getCurrentClusterData","params","prefix","getClusterParent","cluster","parent","getSelectedEntitiesURLS","createSelector","getCurrentClusterQuery","getEntities","entitiesItems","getClustersData","clustersIDS","getClusters","clustersData","array","entitiesID","randomIDS","initState","sort","photos","valid","img","count","getClustersTreeDict","clustersTree","push","getEntitiesColors","entitiesColors","a","b","removeClusters","makeClusterSelected","setHighlightedClusters","highlightedClusters","newClustersIDS","newClustersMainID","mainID","removeClustersIds","remainingClusters","SELECT_MENU","properties","important","interesting","all","activeItem","filterMode","setProperties","changeFilterMode","autoChangeMenu","newMenu","controls","name","menu","clearAll","setReduxState","initData","version","reducers","combineReducers","sourceCluster","clusterData","itemID","newSelectedItems","newAction","form","formReducer","persistedState","parse","err","loadState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","Authorizing","Dimmer","active","onClickOutside","props","handleClose","page","Grid","textAlign","verticalAlign","Column","style","maxWidth","minWidth","Header","as","color","Form","size","Segment","stacked","Input","fluid","icon","iconPosition","marginTop","inverted","Component","Button","onClick","otherProps","compact","basic","primary","padding","hexcolor","additionClasses","brightness","parseInt","substr","textColor","backgroundColor","className","e","preventDefault","UIGroup","children","UISegment","CustomModal","Modal","open","closeIcon","onClose","formInputComponent","submit","submitIcon","canSubmit","input","searchIcon","link","onKeyDown","keyCode","meta","onChange","formRadioComponent","Radio","checked","formTextComponent","TextArea","formRatingComponent","Rating","marginBottom","onRate","rating","clearable","maxRating","formComponentGenerator","TargetComponent","valueName","keyWords","transformEntities","setTransformFunc","selectedClusters","selectedClustersEntities","resultEntities","pickOutToCluster","selectedEntities","deleteFromCluster","allEntities","subtractedEntities","deleteSelectedCluster","clustersToDelete","childrenClusters","getClustersChildren","ids","flat","concat","executeClusterAction","currPrefix","entitiesIDS","messageTypes","AlertModal","margin","fontSize","float","mapDispatchToProps","onSubmit","values","feedbackData","env","options","sendAlarmerMessage","messageType","contact","selector","formValueSelector","connect","reduxForm","forceUnregisterOnUnmount","handleSubmit","useState","visibleAlert","setVisibleAlert","successMessage","setSuccessMessage","SubmissionError","_error","submitValidate","Message","Field","messType","component","label","OauthPopup","createPopup","title","onCode","left","screenX","outerWidth","top","screenY","outerHeight","windowFeatures","externalWindow","setTimeout","checkWindowStatus","closed","addEventListener","storageListener","close","removeEventListener","defaultProps","PageHeader","checkAuthorized","setState","authorized","authorizeMe","authorize","redirect_uri","Menu","secondary","Item","position","marginRight","innerWidth","innerHeight","Confidence","level","filled","Array","fill","_","actionButtonsData","doNotHaveProperty","popupText","iconName","haveProperty","decreaseOrder","increaseOrder","mapDispatchToState","propertyDict","Table","Row","Cell","percent","generatePropertyNameFromDict","Icon","stopPropagation","ActionPanelButton","iconStyle","display","src","alt","alignItems","downloadWorkSpace","filename","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","URL","createObjectURL","href","download","appendChild","click","removeChild","revokeObjectURL","uploadWorkSpace","onchange","target","files","reader","FileReader","readAsText","onload","readerEvent","content","alert","location","reload","intersectClusters","unionClusters","subtractClusters","symDiffClusters","selectedClustersCount","selectedEntitiesCount","haveClusters","currentClusterEntitiesCount","clusterActions","actions","marginLeft","Group","vertical","headerMargin","iconCircleUnion","iconCircleSum","iconCircleDiff","iconCircleSymDiff","deleteSelectedClusters","selectionTarget","importantProperties","description","interestingProperties","maxHeight","overflow","scrollbarWidth","selectable","fixed","HeaderCell","Body","propertyItem","moveToAll","SearchIcon","isInputStringEmpty","onSearch","CircularPlot","onSelectItem","entry","index","LinePlot","isLogMode","setLogMode","y","right","bottom","strokeDasharray","hide","dataKey","stroke","activeDot","r","Checkbox","Plot","onSelectNode","plotProps","event","activePayload","PlotPopup","Popup","pinned","trigger","on","flowing","allProperties","setInputValue","activeIDS","setActiveIDS","toggleProperty","titleProps","itemId","searchStringChange","newProperties","property","indexOf","useEffect","openedPropID","openedID","newProps","Accordion","Title","activePropertyId","plot","node","circular","Content","subProperty","PropertiesPanel","clickMenu","openAllMenuWithProp","propID","arr","pop","extractFromString","regex","exec","matches","submitFilterSearch","limit","errorMessage","commonQueryString","universalQuery","test","vkSearchQuery","initialValues","vkUsersInclude","vkGroupsInclude","vkPostsInclude","autoComplete","PageSearch","searchMode","Dropdown","selection","CopyPasteInput","condition","selectedEntitiesID","selectedEntitiesURLS","selectedClustersID","widths","selectMenu","menuName","NoContent","minHeight","noContentCss","justifyContent","QuestionPopup","popup","ClusterImages","calculatePhotoCSS","css","zIndex","Cluster","chooseCluster","selected","dragCluster","dimensions","setDimensions","clusterCss","targetRef","useRef","useLayoutEffect","current","offsetWidth","offsetHeight","clusterContainerClasses","isOverlay","ref","onMouseDown","showCheckbox","highlighted","toggleClusterHighlight","Arrow","x1","x2","y1","y2","shorten","shiftX","shiftY","lineLength","sqrt","newLength","lengthFraction","newShiftX","newShiftY","ClustersGraph","sizes","graph","onMouseMove","movementX","movementY","onMouseUp","stopDrag","onMouseLeave","nodes","pos","overlayClusterID","edges","from","to","repulsionForce","attractionForce","borderRepulsionForce","centralAttractionForce","Vector","other","mult","createVector","min","max","getDist","currLower","currUpper","targetLower","targetUpper","needBound","Node","maxSize","random","velocity","lastShift","lockedPosition","__exist","mag","distVector","parameters","direction","lowerBorder","upperBorder","minValue","coef","dist","div","forceFactor","connected","dir","copy","sub","move","toForceVector","center","sum","normalizeCoordinate","maxValue","forceVector","normalizePosition","Graph","nodesDict","edge","edgesDict","id1","id2","wasUpdated","minDist","bestNode","getDistanceWith","res","forces","node1","nodeBorderForce","calculateForceWithBorders","node2","calculateForceWith","calculateForces","applyForce","makeGraphIteration","applyForces","updateGraphWith","existingNodesDict","newNodes","getData","React","toggleOpen","opened","haveChildren","indent","containerClasses","ClustersTree","parentID","clustersID","currLevelClusters","openedClusters","setOpenedClusters","child","deleteCluster","reloadCluster","clusterQuery","haveControlButtons","haveSelectionActions","noContent","Link","rel","getNodeColorAndSize","visibleEntities","UpdateNodeProps","render","sigma","forEach","n","updateNode","assign","refresh","GraphActiveHint","Image","GraphSelectedEntity","setSelectedEntity","highlightColor","colorCluster","toggleItemSelection","visibleEntitiesIDS","activeEntity","setActiveEntity","activeEntityPos","setActiveEntityPos","selectedEntity","selectNode","onClickNode","graphID","val","renderer","firstID","secondID","settings","defaultNodeColor","defaultEdgeColor","edgeColor","drawEdges","labelThreshold","minNodeSize","maxNodeSize","onOverNode","onOutNode","worker","scalingRatio","slowDown","linLogMode","iterationsPerRender","timeout","sameColorEntities","LazyImage","showImage","show","defaultImg","createRef","prevProps","prevState","snapshot","update","onLoad","Visibility","fireOnMount","onOnScreen","Placeholder","EntityItem","baseClasses","borderColor","lockIcon","lockImg","verifyIcon","verifyImg","toggleSelection","onContextMenu","bordered","centered","private","verified","EntitiesList","visibleItemsCount","setVisibleItemsCount","entitiesToShow","onScroll","percents","scrollTop","scrollHeight","clientHeight","Scrolling","ConnectionItem","first","second","EntitiesConnections","SelectionComponent","buttonAction","activeButton","setActiveButton","onMouseEnter","setSearchValue","isNotValidHidden","changeNotValidHiddenMode","isGraphView","setGraphView","currClusterID","setCurrClusterID","representType","selectEntity","entityID","fitToSearch","username","isEntityVisible","menuItemStyle","Dimmable","blurring","clearing","dimmed","flexDirection","indeterminate","paddingRight","toggle","Loader","Hints","activeIndex","onkeydown","chooseElement","unmountHints","marginLeftSymbols","getAttribute","toUpperCase","doesQueryFormatted","typeSymbol","selectHint","removeHints","closeMessage","hints","loading","isWarning","focused","setFocus","beginExecuteQueryString","onFocus","onBlur","ErrorHandler","hasError","errorInfo","clickReturn","bind","DesktopInterface","Container","columns","flexGrow","MobileInterface","mobilePicture","App","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.58e52e37.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/2.9ed51b09.svg\";","module.exports = __webpack_public_path__ + \"static/media/4.4045a540.svg\";","module.exports = __webpack_public_path__ + \"static/media/3.1a5c1687.svg\";","module.exports = __webpack_public_path__ + \"static/media/1.6d1d72e9.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTg4NzZmMy01NjM4LWI5NDItOTU0My1iM2Q3Y2JmYTIwYWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5RkU4RjkyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5RkU4RjgyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGYyN2VmM2QtYzAxOS01NDRmLTk5NmEtYjU4MDE2Mzk3YTc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NmEwMGQ2Y2YtMjY3Yi0xMWU4LTliOGEt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\"","module.exports = __webpack_public_path__ + \"static/media/vkverified.0063cefb.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/mobile.eaa46fed.jpg\";","export const loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) {\n            return undefined;\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        return undefined;\n    }\n};\nlet save_count = 0;\n\nexport const saveState = (state, force=false) => {\n    save_count += 1;\n    if (force || save_count % 10 !== 0){\n        try {\n            const serializedState = JSON.stringify(state);\n            localStorage.setItem('state', serializedState);\n        } catch {\n            console.log('Error in save state')\n            // ignore write errors\n        }\n    }\n};\n\nexport const clearLocalStorage = () => {\n    saveState('');\n};\n","export const textConstants = {\n    controlPanelExplanation: 'Тут много текста. Рассказывается о том, как пользоваться этой панелью свойств и фильтров.',\n    motivationHeaderText: 'Анализируйте прифили людей в VK, Instagram, Twitter, Facebook. Узнайте много нового о ваших друзьях и знакомых. Сравнивайте аккаунты между собой. Найдите нужную информацию о каждом!',\n    messageWrongSyntax: 'В тексте запроса допущена синтаксическая ошибка'\n}\n","// export const apiHost = \"http://localhost:5000\";\nexport const apiHost = \"https://ntrail.fivol.space/\";\nexport const alarmerKey = '104839-00cc49-791ee0';\n\nexport const version = '2.2';\n\n\n// config according vk auth flow\n// https://vk.com/dev/authcode_flow_user\n\nexport const vkAppID = '7777394';\n","import axios from \"axios\";\nimport {apiHost} from \"../config\";\nimport {normalize, schema} from \"normalizr\";\n\nconst tokenHeaderName = 'authorization'\n\nconst server = axios.create(\n    {\n        baseURL: apiHost,\n    }\n);\n\nconst handle_response = (response) => {\n    // Любой ответ от сервера пропускается через эту функцию\n    // Она считывает из хедеров или из тела необходимую информацию\n    // Сохраняет token пользователя\n    if (response === undefined) {\n        console.log('Response without headers')\n        return response\n    }\n    console.log('response', response)\n    console.log('headers', response.headers)\n    const token = response.headers[tokenHeaderName];\n    if (!!token) {\n        window.localStorage.setItem(\"token\", token)\n    }\n    return response\n}\n\n\n// Обработчики запросов. Пропускают через себя и запросы и ответы\nserver.interceptors.request.use(function (config) {\n    config.headers['authorization'] = String(window.localStorage.getItem(\"token\"));\n    return config;\n}, null);\n\nserver.interceptors.response.use(function (response) {\n\n    return handle_response(response);\n}, function (error) {\n    return Promise.reject(error);\n});\n\nconst normalizeSelectiveQuery = (responseJson) => {\n    const entity = new schema.Entity('entities');\n    const cluster = new schema.Entity('clusters', {\n        'entities': {\n            'items': [entity]\n        }\n    });\n    const mySchema = {\n        'clusters': {\n            'items': [cluster]\n        }\n    };\n    return normalize(responseJson, mySchema)\n};\n\nexport const executeSelectiveQuery = (queryString) => (\n    server.get(`/query/?q=${queryString}`).then(response => {\n            return normalizeSelectiveQuery(response.data.data)\n        }\n    )\n);\n\nexport const authorizationCheckQuery = () => {\n    return server.get(`/auth/vk/check/`).then(response => {\n            return response.data\n        }\n    )\n};\n\nexport const initialQuery = () => {\n    return server.get(`/auth/init/`).then(response => {\n            return response.data.data\n        }\n    )\n};\n\n\n// To accept auth token. Initial request. Do nothing. Executed on site open\n// Now component PageHeader have check query in componentDidMount\n// (Deprecated)\n// initialQuery().then(() => {\n// })\n\n\nconst executeControlPostQuery = (url, data) => {\n    server.post(`/${url}/`, data).then(response => console.log(response))\n};\n\nexport const executeFeedbackQuery = (data) => {\n    executeControlPostQuery('feedback', data);\n};\n\n\n\n\n","import makeActionCreator from 'make-action-creator';\n\n\nexport function produceActionCreator(type, ...keys) {\n    return makeActionCreator(type)\n}\n\nexport const mergeObjectsDepth2 = (obj1, obj2) => {\n    const obj = {...obj1};\n    for (let [key, value] of Object.entries(obj2)) {\n        if (key in obj)\n            obj[key] = {...obj[key], ...value};\n        else\n            obj[key] = value\n    }\n    return obj\n};\n\n\nexport const getSelectedClusterID = (state) => {\n    return state.workSpace.clusters.selectedClusterID;\n};\n\n\nexport const reducerWrapper = (reducerFunc) => {\n    return (state, action) => {\n        const obj = reducerFunc(state, action);\n        if ('force' in obj)\n            return obj;\n        return {\n            ...state,\n            ...obj\n        }\n    }\n};\n\nexport function download(data, filename, type) {\n    let file = new Blob([data], {type: type});\n    if (window.navigator.msSaveOrOpenBlob) // IE10+\n        window.navigator.msSaveOrOpenBlob(file, filename);\n    else { // Others\n        let a = document.createElement(\"a\"),\n            url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function () {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    }\n}","const queryTypeCreator = (queryType, queryString) => {\n    return `${queryType} ${queryString}`\n};\n\nconst extractGetQueryAction = (queryString) => {\n    return queryString.slice(4)\n};\n\nexport const queryGET = (queryString) => {\n    return queryTypeCreator('GET', queryString);\n};\n\n\nexport const queryLOAD = (queryString) => {\n    return queryTypeCreator('LOAD', queryString);\n};\n\n\nexport const queryReplaceGetWithLoad = (queryString) => {\n    console.assert(queryString.toLowerCase().startsWith('get '));\n    return queryLOAD(extractGetQueryAction(queryString))\n};\n\nexport const queryList = (items) => {\n    return `(${items.join(', ')})`\n};\n\nexport const queryGenerateParams = (params) => {\n    return `[${params.join(' ')}]`\n};\n\nconst queryGenerateAttrs = (attrs) => {\n    if (!attrs)\n        return '';\n    if (typeof attrs === 'object')\n        return attrs.join(' ');\n    return attrs;\n};\n\nexport const queryCreator = (actionName, args, attrs = null, queryType = 'GET') => {\n    if (typeof args === 'object')\n        args = queryList(args);\n\n    if(!args.match(/[a-zA-Zа-яА-Я]+/))\n        args = `\"${args}\"`;\n\n    return `${queryType} ${actionName} ${args} ${queryGenerateAttrs(attrs)}`;\n};\n\nexport const doesQueryFormatted = (queryString) => {\n    queryString = queryString.toUpperCase();\n    return queryString.startsWith('GET') || queryString.startsWith('LOAD');\n};","import {textConstants} from \"../constants\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {addClusters, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {produceActionCreator} from \"./utils\";\nimport {doesQueryFormatted, queryCreator} from \"../api/queryStringCreators\";\n\nconst initialData = {\n    queryString: '',\n    allHints: [\"https://\",\n        \"vk.com/\",\n        \"instagram.com/\",\n        \"me\",\n        'GET',\n        'LOAD',\n        'vk.user',\n        'vk.users',\n        'ig.user',\n        'ig.users',\n        \"age\",\n        \"school\",\n        \"sex\",\n        \"city\",\n        \"search\",\n        \"net\",\n        \"internet\",\n        \"page\",\n        \"cache\",\n        \"followers\",\n        \"follows\",\n        \"friends\",\n        'clusters',\n    ],\n    currentHints: [],\n    isLoading: false,\n    placeholder: 'Введите запрос: ссылка на аккаунт или имя',\n    isError: false,\n    errorText: '',\n    message: {\n        draw: false,\n        header: '',\n        body: '',\n        warning: false,\n        error: false\n    }\n};\n\nconst TYPE_SYMBOL = 'TYPE_SYMBOL';\nconst SELECT_HINT = 'SELECT_HINT';\nconst CLEAR_INPUT = 'CLEAR_INPUT';\nconst REMOVE_HINTS = 'REMOVE_HINTS';\nconst CHANGE_MESSAGE = 'CHANGE_MESSAGE';\nconst CLOSE_MESSAGE = 'CLOSE_MESSAGE';\nconst ACTIVATE_LOADER = 'ACTIVATE_LOADER';\nconst REMOVE_LOADER = 'REMOVE_LOADER';\n\nexport const makeInputPlaceholder = produceActionCreator('make_input_placeholder')\n\nfunction isQueryStringCorrect(queryString) {\n    return !queryString.includes(\"#\");\n\n}\n\nfunction getStringLastToken(str) {\n    return str.split(/[\\s, /()[\\]]+/).slice(-1)[0];\n}\n\nexport function search(state = initialData, action) {\n    switch (action.type) {\n        case TYPE_SYMBOL:\n            const value = action.value;\n            const lastToken = getStringLastToken(value);\n            let newHints = [];\n            if (lastToken.length)\n                newHints = state.allHints.filter(\n                    item => item.toLowerCase().startsWith(lastToken.toLowerCase()) && !(lastToken === item)\n                );\n            return {\n                ...state,\n                currentHints: newHints,\n                queryString: value,\n                isError: !isQueryStringCorrect(value),\n                placeholder: initialData.placeholder\n            };\n        case SELECT_HINT:\n            const newValue =\n                state.queryString.slice(0, -getStringLastToken(state.queryString).length) + action.value;\n            return {\n                ...state,\n                currentHints: [],\n                queryString: newValue\n            };\n        case REMOVE_HINTS:\n            return {\n                ...state,\n                currentHints: []\n            };\n        case CLEAR_INPUT:\n            return {\n                ...state,\n                queryString: '',\n                placeholder: action.placeholder\n            };\n        case CHANGE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    header: action.header,\n                    draw: true,\n                    body: action.body,\n                    error: action.error,\n                    warning: action.warning\n                },\n            };\n        case CLOSE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case ACTIVATE_LOADER:\n            return {\n                ...state,\n                isLoading: true,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case REMOVE_LOADER:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case makeInputPlaceholder.type:\n            return {\n                ...state,\n                placeholder: action.payload,\n                queryString: ''\n            };\n        default:\n            return state\n    }\n}\n\nexport const typeSymbol = (value) => ({'type': TYPE_SYMBOL, 'value': value});\nexport const selectHint = (value) => ({'type': SELECT_HINT, 'value': value});\nexport const removeHints = () => ({'type': REMOVE_HINTS});\nexport const showMessage = (header, body, error = false, warning = false) => ({\n    type: CHANGE_MESSAGE,\n    header, body, error, warning\n});\nexport const closeMessage = () => ({type: CLOSE_MESSAGE});\nexport const activateLoader = () => ({type: ACTIVATE_LOADER});\nexport const removeLoader = () => ({type: REMOVE_LOADER});\n\nexport const executeMainScreenQuery = (queryString) => (dispatch) => {\n    if (!doesQueryFormatted(queryString))\n        queryString = queryCreator('query.parse', '\"' + queryString + '\"');\n\n    dispatch(executeQuery(queryString));\n};\n\nexport const executeQuery = (queryString, source = undefined) => (\n    (dispatch, getState) => {\n        dispatch(makeInputPlaceholder(queryString));\n        if (queryString.length === 0) {\n            let messageBody;\n            if (queryString.length === 0) {\n                messageBody = 'Введите запрос в строку. Пока она пустая';\n                dispatch(showMessage('Пустая строка', messageBody, false, true));\n            } else {\n                messageBody = 'Тут должно быть описание конкретной ошибки, но я пока не сделал разбор';\n                dispatch(showMessage(textConstants.messageWrongSyntax, messageBody, true));\n            }\n\n        } else {\n            dispatch(activateLoader());\n            executeSelectiveQuery(queryString).then(\n                response => {\n                    dispatch(removeLoader());\n                    if (response.result.clusters) {\n                        response.result.clusters.items = response.result.clusters.items.filter(\n                            id => response.entities.clusters[id].entities.items.length > 0);\n                        if (response.result.clusters.items.length === 0) {\n                            dispatch(showMessage('Ответ сервера', 'Получен пустой кластер (он не отображается)', false, true));\n                        } else {\n                            console.log('Good clusters', response);\n                            dispatch(processServerResponse({response: response, source: source}));\n                            dispatch(selectCluster(response.result.clusters.items[0]))\n                        }\n                    } else if (response.result.warning) {\n                        dispatch(showMessage('Ответ сервера', response.result.warning.text, false, true));\n                    }\n                }\n            ).catch(\n                query => {\n                    dispatch(removeLoader());\n                    const response = query.response;\n                    if (!response) {\n                        console.log(query);\n                        dispatch(showMessage(`Ошибка сети`, 'Либо у вас нету интернета, либо сервер упал, также возможно просто разраб криворукий', true))\n                    } else {\n                        dispatch(showMessage(`Ошибка выполнения зарпоса (${response.status})`, response.data.error, true))\n                    }\n                }\n            )\n        }\n    }\n);\n\n\n","import {produceActionCreator} from \"./utils\";\nimport {addClusters, startLoadingCluster} from \"./clustersReducer\";\n\nexport const selectEntities = produceActionCreator('SELECT_ENTITIES');\nexport const toggleEntitySelection = produceActionCreator('TOGGLE_ENTITY_SELECTION');\nexport const setEntities = produceActionCreator('setEntities');\nexport const removeEntitiesLoader = produceActionCreator('removeLoader');\nexport const setEntitiesSearchValue = produceActionCreator('setSearchValue');\nexport const setEntitiesItemsList = produceActionCreator('setEntitiesItemsList');\nexport const setSelectionMode = produceActionCreator('setSelectionMode');\n\nconst initialData = {\n    isLoading: false,\n    selectedItems: [],\n    items: [],\n    connections: {},\n    searchValue: '',\n    selectionMode: false\n};\n\nexport function entities(state = initialData, action) {\n    switch (action.type) {\n        case setSelectionMode.type:\n            return {\n                ...state,\n                selectionMode: action.payload\n            };\n        case setEntitiesItemsList.type:\n            return {\n                ...state,\n                searchValue: action.payload.join(', ')\n            };\n        case setEntitiesSearchValue.type:\n            return {\n                ...state,\n                searchValue: action.payload\n            };\n        case removeEntitiesLoader.type:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case addClusters.type:\n            return {\n                ...state,\n                isLoading: false,\n            };\n        case startLoadingCluster.type:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case selectEntities.type:\n            return {\n                ...state,\n                selectedItems: action.payload\n            };\n        case setEntities.type:\n            return {\n                ...state,\n                items: action.payload.items,\n                connections: action.payload.connections,\n                selectedItems: [],\n                searchValue: ''\n            };\n        default:\n            return state\n    }\n}\n\n\n","import randGen from 'random-seed';\nimport axios from \"axios\";\nimport {alarmerKey} from \"./config\";\n\nexport const colorsList = [\n    '#2E3F7F', '#45D09E', '#116315', '#FFD600',\n    '#F85C50', '#E85668', '#CE3D1D', '#EF2FA2', '#7C3668', '#6E36CA',\n    '#414042', '#004156', '#7AB1FF', '#002bff', '#17F1D7', '#4BB462',\n    '#8CBA51', '#d3d6b6', '#FDA371', '#BE5D77', '#EE3D48'\n];\n\nconst hashCode = function(s){\n    return s.split(\"\").reduce((acc, char) => (acc + char.charCodeAt(0)), 0);\n};\n\nexport const colorByNumber = (idx) => {\n    if(typeof idx === 'string')\n        idx = hashCode(idx);\n    return colorsList[idx % colorsList.length];\n};\n\nexport const rand = randGen.create();\n\nSet.prototype.difference = function (otherSet) {\n    const differenceSet = new Set();\n\n    for (let elem of this) {\n        if (!otherSet.has(elem))\n            differenceSet.add(elem);\n    }\n\n    return differenceSet;\n};\n\nSet.prototype.intersect = function (otherSet) {\n    return new Set([...this].filter(x => otherSet.has(x)));\n};\n\nSet.prototype.union = function (otherSet) {\n    return new Set([...this, ...otherSet]);\n};\n\nSet.prototype.symmetricDifference = function (otherSet) {\n    return this.union(otherSet).difference(this.intersect(otherSet));\n};\n\nexport function shuffle(array) {\n    rand.initState();\n    array.sort(() => (rand(1000) / 1000) - 0.5);\n}\n\nexport const round = (value, digits = 2) => {\n    if (!Number(value))\n        return value;\n    const pow = Math.pow(10, digits);\n    return Math.round(Number(value) * pow) / pow;\n};\n\nString.prototype.hashCode = function() {\n    var hash = 0, i, chr;\n    if (this.length === 0) return hash;\n    for (i = 0; i < this.length; i++) {\n        chr   = this.charCodeAt(i);\n        hash  = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport const listHash = (list)=>{\n    if(!list)\n        return -1;\n    if(typeof list[0] === typeof ''){\n        return list.join('').hashCode()\n    }\n    return list.reduce((s, curr)=>s + curr.id, '').hashCode()\n};\n\nexport function LightenDarkenColor(col,amt) {\n    var usePound = false;\n    if ( col[0] == \"#\" ) {\n        col = col.slice(1);\n        usePound = true;\n    }\n\n    var num = parseInt(col,16);\n\n    var r = (num >> 16) + amt;\n\n    if ( r > 255 ) r = 255;\n    else if  (r < 0) r = 0;\n\n    var b = ((num >> 8) & 0x00FF) + amt;\n\n    if ( b > 255 ) b = 255;\n    else if  (b < 0) b = 0;\n\n    var g = (num & 0x0000FF) + amt;\n\n    if ( g > 255 ) g = 255;\n    else if  ( g < 0 ) g = 0;\n\n    return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\n\nexport const getWorkingEnvironmentSettings = (state) => {\n    return {\n        screen: {\n            availWidth: window.screen.availWidth,\n            availHeight: window.screen.availHeight,\n            width: window.screen.width,\n            height: window.screen.height,\n        },\n        memory: {\n            totalJSHeapSize: window.performance.memory.totalJSHeapSize,\n            usedJSHeapSize: window.performance.memory.usedJSHeapSize,\n            jsHeapSizeLimit: window.performance.memory.jsHeapSizeLimit,\n        },\n        stateSize: JSON.stringify(state).length,\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        clusterID: state.workSpace.clusters.selectedClusterID,\n    }\n};\n\nexport const sendAlarmerMessage = (message) => {\n    const url = `https://alarmerbot.ru/?key=${alarmerKey}&message=${message}`;\n    axios.options(url)\n};","import {createSelector} from \"reselect\";\nimport {store} from '././store'\nimport {shuffle} from \"../utils\";\n\nconst getState = () => store.getState();\n\nexport const getObj = (objType, idx) => {\n    if (idx === null) return undefined;\n    return getState().workSpace.objects[objType][idx]\n};\n\nexport const getObjects = (objType, indexes) => {\n    return indexes.map(id => getObj(objType, id))\n};\n\nexport const getEntitiesItemsIDS = state => state.workSpace.entities.items;\n\nexport const getClustersIDS = state => state.workSpace.clusters.items;\n\nexport const getSelectedItemsIDS = state => state.workSpace.entities.selectedItems;\n\nexport const getActiveClusterID = state => state.workSpace.clusters.selectedClusterID;\n\nexport const getCurrentClusterPrefix = state => getCurrentClusterData(state).params.prefix;\n\nexport const getCluster = (state, clusterID) => getObj('clusters', clusterID);\n\nexport const getClusterParent = cluster => {\n    if (cluster.parent)\n        return cluster.parent;\n    return null;\n};\n\nexport const getSelectedEntitiesURLS = createSelector(\n    getSelectedItemsIDS,\n    selectedItems => getObjects('entities', selectedItems).map(item => item.url)\n);\n\nexport const getCurrentClusterData = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id);\n};\n\nexport const getCurrentClusterQuery = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id).params.query;\n};\n\nexport const getEntities = createSelector(\n    getEntitiesItemsIDS,\n    (entitiesItems) => {\n        return getObjects('entities', entitiesItems);\n    },\n);\n\nexport const getClustersData = createSelector(\n    getClustersIDS,\n    clustersIDS => {\n        return getObjects('clusters', clustersIDS)\n    }\n);\n\nexport const getClusters = createSelector(\n    getClustersData,\n    clustersData => {\n        return clustersData.map(\n            data => {\n                const entitiesID = data.entities.items;\n                let randomIDS = [...entitiesID].slice(0, 9);\n                shuffle(randomIDS);\n                const photos = getObjects('entities', randomIDS)\n                    .filter(item => item && item.valid && item.img)\n                    .slice(0, 3).map(item => item.img);\n                return {\n                    ...data.params,\n                    photos: photos,\n                    count: entitiesID.length\n                }\n            }\n        )\n    }\n);\n\nexport const getClustersTreeDict = createSelector(\n    getClusters,\n    (clusters) => {\n        const clustersTree = {};\n        for (let cluster of clusters) {\n            const parent = getClusterParent(cluster);\n            if (!(parent in clustersTree))\n                clustersTree[parent] = [];\n            clustersTree[parent].push(cluster);\n        }\n        return clustersTree;\n    }\n);\n\nexport const getEntitiesColors = createSelector(\n    [getClustersData],\n    (clustersData) => {\n        const entitiesColors = {};\n        clustersData = clustersData.slice();\n        const compare = (a, b)=>{\n            if(a.entities.items.length < b.entities.items.length)\n                return 1;\n            else if(a.entities.items.length > b.entities.items.length)\n                return -1;\n            return 0\n        };\n        clustersData.sort(compare);\n        for (let cluster of clustersData) {\n            for (let entityID of cluster.entities.items) {\n                entitiesColors[entityID] = cluster.params;\n            }\n        }\n\n        return entitiesColors;\n    }\n);","import {executeQuery, showMessage} from \"./searchReducer\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {getSelectedClusterID, produceActionCreator} from \"./utils\";\nimport {clearAll} from \"./workSpaceReducer\";\nimport {removeEntitiesLoader} from \"./entitiesReducer\";\nimport {queryReplaceGetWithLoad} from \"../api/queryStringCreators\";\nimport {getCurrentClusterQuery} from \"./selectors\";\n\nexport const addClusters = produceActionCreator('ADD_CLUSTERS');\nexport const processServerResponse = produceActionCreator('processServerResponse');\nexport const selectCluster = produceActionCreator('SELECT_CLUSTER');\nexport const removeClusters = produceActionCreator('REMOVE_CLUSTERS_FROM_PANEL');\nexport const startLoadingCluster = produceActionCreator('START_LOADING_CLUSTER');\nexport const makeClusterSelected = produceActionCreator('make_cluster_selected');\nexport const setHighlightedClusters = produceActionCreator('setHighlightedClusters');\n\nconst initialData = {\n    items: [],\n    selectedClusterID: null,\n    highlightedClusters: []\n};\n\nexport function clusters(state = initialData, action) {\n    switch (action.type) {\n        case setHighlightedClusters.type:\n            return {\n                ...state,\n                highlightedClusters: action.payload\n            };\n        case addClusters.type:\n            let newClustersIDS = action.payload.items;\n            let newClustersMainID = action.payload.mainID;\n\n\n            if (!newClustersMainID && newClustersIDS.length === 1)\n                newClustersMainID = newClustersIDS[0];\n\n\n            return {\n                ...state,\n                items: [\n                    ...new Set([...state.items, ...newClustersIDS])\n                ]\n            };\n        case makeClusterSelected.type:\n            const clusterID = action.payload;\n            return {\n                ...state,\n                selectedClusterID: clusterID,\n            };\n        case removeClusters.type:\n            let removeClustersIds = action.payload;\n            console.log('removeClustersIds', removeClustersIds)\n            const remainingClusters = state.items.filter(id => !removeClustersIds.includes(id));\n            return {\n                ...state,\n                items: remainingClusters,\n                highlightedClusters: state.highlightedClusters.filter(id => !removeClustersIds.includes(id))\n            };\n        default:\n            return state\n    }\n}\n\n\nexport const reloadCluster = () => (dispatch, getState) => {\n    const state = getState();\n\n    const clusterQuery = queryReplaceGetWithLoad(getCurrentClusterQuery(state));\n    dispatch(executeQuery(clusterQuery, getSelectedClusterID(state)));\n    return;\n    dispatch(startLoadingCluster());\n    executeSelectiveQuery(clusterQuery).then(\n        response => {\n            dispatch(addClusters(response));\n            dispatch(removeEntitiesLoader())\n        }\n    ).catch(\n        response => {\n            dispatch(removeEntitiesLoader());\n            dispatch(showMessage('Ошибка сети', 'Проверьте подключение к интернету', false, true))\n        }\n    )\n};\n\nexport const deleteCluster = () =>\n    (dispatch, getState) => {\n        const state = getState();\n        const clusterID = state.workSpace.clusters.selectedClusterID;\n        const remainingClusters = state.workSpace.clusters.items.filter(id => id !== clusterID);\n        if (!remainingClusters.length)\n            dispatch(clearAll());\n        else {\n            dispatch(selectCluster(remainingClusters[0]));\n            dispatch(removeClusters([clusterID]))\n        }\n    };","import {selectEntities} from \"./entitiesReducer\";\nimport {produceActionCreator} from \"./utils\";\nimport {setHighlightedClusters} from \"./clustersReducer\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\n\nconst SELECT_MENU = 'SELECT_MENU';\n\nconst initialData = {\n    properties: {\n        important: [],\n        interesting: [],\n        all: []\n    },\n    activeItem: 'filter',\n    filterMode: 'net'\n};\n\nexport const setProperties = produceActionCreator('setProperties');\nexport const changeFilterMode = produceActionCreator('changeFilterMode');\n\nconst autoChangeMenu = (state, newMenu) => {\n    if (state.activeItem === 'params')\n        return state;\n    return {\n        ...state,\n        activeItem: newMenu\n    }\n};\n\nexport function controls(state = initialData, action) {\n    switch (action.type) {\n        case SELECT_MENU:\n            return {\n                ...state,\n                activeItem: action.name\n            };\n        case selectEntities.type:\n            const entitiesSize = action.payload.length;\n            if (state.activeItem === 'params')\n                return state;\n            // if (entitiesSize > 0)\n            //     return autoChangeMenu(state, 'actions');\n            return autoChangeMenu(state, 'properties');\n        case setProperties.type:\n            return {\n                ...autoChangeMenu(state, 'properties'),\n                properties: action.payload,\n            };\n        case setHighlightedClusters.type:\n            let menu = action.payload.length ? 'actions' : 'properties';\n            return autoChangeMenu(state, menu);\n        case changeFilterMode.type:\n            return {\n                ...state,\n                filterMode: action.payload\n            };\n        default:\n            return state\n    }\n}\n\nexport const submitFilterSearch = (form) =>\n    (dispatch, getState) => {\n        const limit = Number(form.limit);\n        console.log(\"SUBMIT FORM\", form);\n        let errorMessage = \"\";\n        if(form.commonQueryString){\n            let universalQuery = form.commonQueryString;\n            if(universalQuery.split(' ').length > 1)\n                errorMessage = 'Ввод нескольких запросов за раз пока не поддерживается (обнаружен пробел в вводе)';\n            else if(universalQuery === '')\n                errorMessage = 'Поле запроса пустое :(';\n            else if(/[а-яА-ЯЁё]/.test(universalQuery))\n                errorMessage = 'В запросе обнаружена кириллица. Поиск по имени пока не поддерживается. Введите адрес страницы пользователя';\n            else{\n                console.log('Good universal query', universalQuery);\n                dispatch(executeQuery(queryCreator('query.parse', universalQuery)));\n            }\n        }\n            // dispatch(showMessage('Ошибка запроса', 'Данный тип запроса пока не поддерживается, воспользуйтесь поиском по определенной социальной сети', false, true))\n        else if(form.vkSearchQuery){\n            dispatch(executeQuery(queryCreator('vk.user', form.vkSearchQuery)));\n        }\n        else{\n            dispatch(showMessage('Ошибка запроса', 'Не найдено поисховой строки, введите необходимые данные в поля', false, true))\n        }\n\n\n        if(errorMessage.length){\n            dispatch(showMessage('Ошибка ввода данных запроса', errorMessage, true, false))\n        }\n    };\n\nexport const selectMenu = (menuName) => ({type: SELECT_MENU, name: menuName});\n\n\n\n\n","import {addClusters, clusters, makeClusterSelected, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {entities, selectEntities, setEntities, toggleEntitySelection} from \"./entitiesReducer\";\nimport {mergeObjectsDepth2, produceActionCreator} from \"./utils\";\nimport {controls, setProperties} from \"./controlsReducer\";\nimport {makeInputPlaceholder, search} from \"./searchReducer\";\nimport {version} from '../config'\nimport {saveState} from \"./localStorage\";\nexport const clearAll = produceActionCreator('CLEAR_ALL');\nexport const setReduxState = produceActionCreator('setState');\n\n\nconst initData = {\n    clusters: undefined,\n    entities: undefined,\n    controls: undefined,\n    search: undefined,\n    objects: {},\n    version: version\n};\n\nexport const workSpace = (state = initData, action) => {\n    console.log('ACTION', action, state.version);\n    switch (action.type) {\n        case clearAll.type:\n            saveState('');\n            return {\n                ...state,\n                clusters: clusters(undefined, action),\n                entities: entities(undefined, action),\n                controls: controls(undefined, action),\n                search: search(undefined, action),\n                objects: {}\n            };\n        case setReduxState.type:\n            saveState(action.payload, true);\n            return action.payload;\n        case processServerResponse.type:\n            const mainID = action.payload.response.result.clusters.mainID;\n            const source = action.payload.source;\n\n            if (source && mainID) {\n                if (mainID === source) {\n                    const sourceCluster = state.objects.clusters[source];\n                        action.payload.response.entities.clusters[mainID].params.parent = sourceCluster.params.parent;\n                } else\n                    action.payload.response.entities.clusters[mainID].params.parent = source;\n            }\n            return {\n                ...state,\n                clusters: clusters(state.clusters, addClusters({\n                    ...action.payload.response.result.clusters,\n                })),\n                objects: mergeObjectsDepth2(state.objects, action.payload.response.entities),\n            };\n        case selectCluster.type:\n            const clusterID = action.payload;\n            const clusterData = state.objects.clusters[clusterID];\n            return {\n                ...state,\n                search: search(state.search, makeInputPlaceholder(clusterData.params.query)),\n                clusters: clusters(state.clusters, makeClusterSelected(clusterID)),\n                entities: entities(state.entities, setEntities(clusterData.entities)),\n                controls: controls(state.controls, setProperties(clusterData.properties))\n            };\n        case toggleEntitySelection.type:\n            const itemID = action.payload;\n            let newSelectedItems = [];\n            const selectedItems = state.entities.selectedItems;\n            if (!state.entities.selectionMode) {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = []\n                else\n                    newSelectedItems = [itemID];\n            } else {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = selectedItems.filter(item => item !== itemID);\n                else\n                    newSelectedItems = [...selectedItems, itemID];\n            }\n\n            const newAction = selectEntities(newSelectedItems);\n            return {\n                ...state,\n                entities: entities(state.entities, newAction),\n                controls: controls(state.controls, newAction)\n            };\n        default:\n            return {\n                ...state,\n                clusters: clusters(state.clusters, action),\n                entities: entities(state.entities, action),\n                controls: controls(state.controls, action),\n                search: search(state.search, action),\n                version: version\n            }\n\n    }\n};\n\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {loadState, saveState} from \"./localStorage\";\nimport {workSpace} from \"./workSpaceReducer\";\nimport { reducer as formReducer } from 'redux-form'\n\nconst reducers = combineReducers({\n    workSpace,\n    form: formReducer\n});\n\nconst persistedState = loadState();\nconsole.log('STATE LOADED FROM LOCAL STORAGE', persistedState);\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n    reducers,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => {\n    saveState(store.getState());\n});\n\nwindow.store = store;\n\n\n\n// Аутентификация. Данные конкретного пользователя\n// token - авторизационныей токен, передается при каждом запросе в хедерах\n// приходит при авторизации или при первом запросе на сервер\n// id - user id (необязательный параметр)\n\n\n// Подключение расширения для браузера для удобной разработки\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// export const store = createStore(reducers, composeEnhancers(\n//     applyMiddleware(thunk)\n// ));\n\n\n\n","import React, { Component } from \"react\";\nimport { Button, Dimmer, Form, Header, Grid, Segment } from \"semantic-ui-react\";\n\nexport default class Authorizing extends Component {\n  render() {\n    return (\n      <Dimmer active={true} onClickOutside={this.props.handleClose} page>\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n          <Grid.Column style={{ maxWidth: 450, minWidth: 360 }}>\n            <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n              Войти в аккаунт\n            </Header>\n            <Form size=\"large\">\n              <Segment stacked>\n                <Form.Input\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Логин или почта\"\n                />\n                <Form.Input\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Пароль\"\n                  type=\"password\"\n                />\n\n                <Button color=\"teal\" fluid size=\"large\">\n                  Войти\n                </Button>\n              </Segment>\n            </Form>\n            <Button\n              style={{ marginTop: \"15px\" }}\n              inverted\n              color=\"teal\"\n              fluid\n              size=\"large\"\n            >\n              Зарегистрироваться\n            </Button>\n          </Grid.Column>\n        </Grid>\n      </Dimmer>\n    );\n  }\n}\n","import React from 'react';\nimport style from './uiStyle.less';\nimport {Segment} from \"semantic-ui-react\";\n\nfunction getBrightness(hexcolor) {\n    if(hexcolor[0] !== '#')\n        return null;\n    var r = parseInt(hexcolor.substr(1, 2), 16);\n    var g = parseInt(hexcolor.substr(3, 2), 16);\n    var b = parseInt(hexcolor.substr(4, 2), 16);\n    var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    // Return new color if to dark, else return the original\n    return yiq;\n}\n\n\nexport const Button = (props) => {\n    let {text, onClick, style, compact, basic, primary, ...otherProps} = props;\n    let padding = '10px 30px';\n    if (!onClick)\n        onClick = () => {\n        };\n\n    const additionClasses = [];\n    if (props.compact) {\n        padding = '5px 10px'\n    }\n    if(props.primary){\n        additionClasses.push('customButtonPrimary')\n    }else if(props.basic){\n            additionClasses.push('customButtonBasic')\n    }\n\n    if(props.color){\n        const brightness = getBrightness(props.color);\n        let textColor = 'black';\n        if (brightness && brightness < 100)\n            textColor = 'white';\n        style = {...style, backgroundColor: props.color, color: textColor}\n    }\n\n    style = {\n        padding: padding,\n        ...style\n    };\n    return (\n        <button\n            className={'customButton ' + additionClasses.join(' ')}\n            style={style}\n            onClick={e => {\n                e.preventDefault();\n                onClick(e)\n            }}\n            {...otherProps}\n        >{text}</button>\n    )\n};\n\nexport const UIGroup = (props) => {\n    return (\n        <div className={'UIGroup'}>\n            {\n                props.children\n            }\n        </div>\n    )\n};\n\n\nexport const UISegment = props => {\n    return <Segment {...props}/>\n};\n","import React, {useState} from 'react';\nimport {Modal} from \"semantic-ui-react\";\n\n\nconst CustomModal = (props) => {\n    const {handleClose} = props;\n    return (\n        <Modal\n            open\n            closeIcon\n            onClose={handleClose}\n        >\n            {\n                props.children\n            }\n        </Modal>\n    )\n};\n\nexport default CustomModal;\n","import React from \"react\";\nimport {Form, Rating} from \"semantic-ui-react\";\n\n\nexport const formInputComponent = (props) => {\n    props = {...props};\n    const submit = props.submitIcon;\n    delete props['submitIcon'];\n    const canSubmit = (props.input.value && submit);\n    const searchIcon = {\n        name: 'search', link: true, onClick: e => {\n            e.preventDefault();\n            submit()\n        }\n    };\n    return (\n        <Form.Input\n            onKeyDown={e => {\n                if (e.keyCode === 13) {\n                    submit()\n                }\n            }}\n            icon={canSubmit ? searchIcon : undefined}\n\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    if (!data)\n                        return props.input.onChange(e);\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRadioComponent = (props) => {\n    return (\n        <Form.Radio\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, {checked}) => props.input.onChange(props.input.value)\n            }}\n        />\n    )\n};\n\nexport const formTextComponent = (props) => {\n    props = {...props};\n    return (\n        <Form.TextArea\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRatingComponent = (props) => {\n    props = {...props};\n    console.log('RATING', props);\n    return (\n        <Rating\n            style={{marginBottom: '1rem'}}\n            onRate={(e, data) => {\n                e.preventDefault();\n                props.input.onChange(data.rating)\n            }}\n            clearable\n            maxRating={5}\n\n            {...{\n                ...props,\n                ...props.input,\n            }}\n        />\n    )\n};\n\nconst formComponentGenerator = (TargetComponent, submit) => {\n    return (\n        props => {\n            // console.log('Form Wrapper props', props);\n            let valueName = 'value';\n            if (typeof props.input.value === 'boolean')\n                valueName = 'checked';\n            const canSubmit = (props.input.value && submit);\n            const searchIcon = {\n                name: 'search', link: true, onClick: e => {\n                    e.preventDefault();\n                    submit()\n                }\n            };\n            return (\n                <TargetComponent\n                    onKeyDown={e => {\n                        if (e.keyCode === 13) {\n                            submit()\n                        }\n                    }}\n                    icon={canSubmit ? searchIcon : undefined}\n\n                    {...{\n                        ...props,\n                        ...props.input,\n                        value: undefined,\n                        [valueName]: props.input.value,\n                        error: props.meta.error,\n                        onChange: (e, data) => {\n                            if (!data)\n                                return props.input.onChange(e);\n                            return props.input.onChange(data[valueName])\n                        }\n                    }}\n                />\n            )\n        }\n    )\n};\n\n\nexport default formComponentGenerator;","import {SubmissionError} from \"redux-form\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {download, getSelectedClusterID} from \"./utils\";\nimport {saveState} from \"./localStorage\";\nimport {removeClusters, selectCluster} from \"./clustersReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\nimport {\n    getActiveClusterID,\n    getClusterParent,\n    getClusters,\n    getClustersData, getClustersIDS, getCurrentClusterData, getCurrentClusterPrefix,\n    getCurrentClusterQuery,\n    getEntitiesItemsIDS, getSelectedItemsIDS\n} from \"./selectors\";\nimport {getWorkingEnvironmentSettings, sendAlarmerMessage} from \"../utils\";\nimport {authorizeQuery, executeFeedbackQuery} from \"../api/api\";\nimport {clearAll, setReduxState} from \"./workSpaceReducer\";\nimport {apiHost, version, vkAppID} from '../config'\n\nconst keyWords = new Set(['group', 'feed', 'news', 'music', 'edit', 'settings', 'im', 'friends', 'groups', 'video', 'apps', 'vkpay', 'market', 'docs', 'blog', 'dev', \"biz\", \"about\", \"jobs\", \"legal\", \"data_protection\", \"safety\", \"exilemusic\", \"exilemusic\", \"verify\", \"exile_music\"]);\n\nexport const extractFromString = (values) => {\n    return (dispatch, getState) => {\n        const text = values.text;\n        if (!text) {\n            throw new SubmissionError({text: 'Пустое поле'});\n        }\n        const regex = /href=\"\\/(\\w+)\"/g;\n        let match = regex.exec(text);\n        if (!match) {\n            throw new SubmissionError({text: 'Не найдено полезных данных'});\n        }\n        let matches = new Set();\n        while (match) {\n            matches.add(match[1]);\n            match = regex.exec(text);\n        }\n        matches = [...matches.difference(keyWords)];\n        const queryString = queryCreator('vk.users', matches);\n        dispatch(executeQuery(queryString));\n    }\n};\n\nexport const downloadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const filename = `NTrail workspace (${getState().workSpace.clusters.items.length} clusters) version ${getState().workSpace.version}`;\n        download(JSON.stringify(getState()), filename, '')\n    }\n};\n\nexport const uploadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.onchange = e => {\n            const file = e.target.files[0];\n\n            const reader = new FileReader();\n            reader.readAsText(file, 'UTF-8');\n\n            reader.onload = readerEvent => {\n                const content = readerEvent.target.result;\n                console.log('File loaded');\n                try {\n                    const state = JSON.parse(content);\n                    if (Number(state.workSpace.version.split('.')[0]) !== Number(version.split('.')[0])) {\n                        alert('Вы выбрали файл с устаревшей версией рабочего пространства. Возможно возникнут непредвиденные ошибки');\n                    }\n                    saveState(state);\n\n                } catch (e) {\n                    alert('Не корректный файл данных NTrail пространства! (Загружать можно только файлы, ранее сохраненные с помощью опции \"Сохранить рабочее пространство\") Попробуйте выбрать другой файл')\n                }\n                window.location.reload(true);\n            }\n        };\n        input.click();\n    }\n};\n\nconst transformEntities = (dispatch, getState, setTransformFunc) => {\n    const state = getState();\n    const selectedClusters = state.workSpace.clusters.highlightedClusters;\n    if (selectedClusters.length >= 2) {\n        const selectedClustersEntities = selectedClusters.map(\n            id => state.workSpace.objects.clusters[id].entities\n        );\n        let resultEntities = new Set(selectedClustersEntities[0]);\n        for (let entities of selectedClustersEntities.slice(1)) {\n            resultEntities = resultEntities[setTransformFunc](new Set(entities));\n        }\n        const entitiesID = [...resultEntities];\n        if (entitiesID.length === 0) {\n            dispatch(showMessage('Результат операции', 'Получен пустой кластер', false, true))\n        } else {\n            const queryString = queryCreator('vk.users', entitiesID);\n            dispatch(executeQuery(queryString));\n        }\n    }\n};\n\nexport const intersectClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'intersect')\n    }\n};\n\nexport const unionClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'union')\n    }\n};\n\nexport const subtractClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'difference')\n    }\n};\n\nexport const symDiffClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'symmetricDifference')\n    }\n};\n\nexport const pickOutToCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const selectedEntities = state.workSpace.entities.selectedItems;\n        if (selectedEntities.length > 0) {\n            const queryString = queryCreator(getCurrentClusterPrefix(state), selectedEntities);\n            dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n        }\n    }\n};\n\nexport const deleteFromCluster = () => (dispatch, getState) => {\n    const state = getState();\n    const selectedEntities = state.workSpace.entities.selectedItems;\n    const allEntities = state.workSpace.entities.items;\n    const subtractedEntities = [...new Set(allEntities).difference(new Set(selectedEntities))];\n    if (selectedEntities.length > 0) {\n        const queryString = queryCreator('vk.users', subtractedEntities);\n        dispatch(executeQuery(queryString));\n    }\n};\nconst getClustersChildren = (state, ids) => {\n    if (ids.length === 0)\n        return [];\n    const children = getClusters(state).filter(cluster => ids.includes(getClusterParent(cluster))).map(cluster => cluster.id).flat();\n    console.log('children-', children)\n    return children.concat(getClustersChildren(state, children));\n};\nexport const deleteSelectedCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        let selectedClusters = [state.workSpace.clusters.selectedClusterID];\n        if (state.workSpace.clusters.highlightedClusters.length > 0)\n            selectedClusters = state.workSpace.clusters.highlightedClusters;\n        console.log('selectedClusters', selectedClusters);\n        let clustersToDelete = selectedClusters;\n        if (selectedClusters.length === 1) {\n            console.log('1 selected cluster')\n            const childrenClusters = getClustersChildren(state, selectedClusters);\n            console.log('childrenClusters', childrenClusters)\n\n            if (childrenClusters.length > 0)\n                clustersToDelete = childrenClusters;\n\n\n        }\n        console.log(clustersToDelete.length, clustersToDelete);\n        dispatch(removeClusters(clustersToDelete));\n        if (clustersToDelete.includes(getActiveClusterID(state))) {\n            const remainClusters = getClustersIDS(state).filter(id => !clustersToDelete.includes(id));\n            if (remainClusters.length === 0)\n                dispatch(clearAll());\n            else\n                dispatch(selectCluster(getClustersIDS(state).filter(id => !clustersToDelete.includes(id))[0]));\n        }\n    }\n};\n\nexport const submitFeedback = (values) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const feedbackData = {\n            values: values,\n            env: getWorkingEnvironmentSettings(state)\n        };\n\n        console.log('FeedBack', values);\n        const alarmerMessage = `NTrail feedback:%0Atype: ${values.messageType}%0Acontact: ${values.contact}%0Arate: ${values.rating}%0Amessage: ${values.message}`;\n        sendAlarmerMessage(alarmerMessage);\n        executeFeedbackQuery(feedbackData);\n    }\n};\n\nexport const authorizeAction = () => {\n    //Описание способа открытия окна авторизации\n    //https://stackoverflow.com/questions/58732237/oauth-popup-cross-domain-security-react-js\n    return (dispatch, getState) => {\n        console.log('authorize action called')\n        const vkAuthURL = 'https://oauth.vk.com/authorize';\n        const redirect_uri = `${apiHost}/{auth}/vk/`\n        const scope = '1385477'\n\n\n        const url = `${vkAuthURL}?client_id=${vkAppID}&redirect_uri=${\n            redirect_uri\n        }&display=popup&scope=${scope}&response_type=code&state=abc`\n\n        const width = window.innerWidth / 2;\n        const height = window.innerHeight / 2;\n        const left = window.screenX + (window.outerWidth - width) / 2;\n        const top = window.screenY + (window.outerHeight - height) / 2.5;\n        const windowFeatures = `toolbar=0,scrollbars=1,status=1,resizable=0,location=1,menuBar=0`;\n        // window.location.href = url;\n        const login_window = window.open(\n            url,\n            'Авториация',\n            windowFeatures\n        );\n        login_window.addEventListener('beforeunload', () => {\n            console.log('Window closed!!!')\n            // this.props.onClose()\n        }, false);\n    }\n};\n\nexport const executeClusterAction = (action) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        console.log('EXECUTE CLUSTER ACTION', action);\n        const currPrefix = getCurrentClusterPrefix(state);\n        console.log('currPrefix', currPrefix);\n        let entitiesIDS = getSelectedItemsIDS(state);\n        let queryString;\n        if (entitiesIDS.length > 0) {\n            queryString = queryCreator(currPrefix, entitiesIDS, action.value);\n        } else {\n            queryString = getCurrentClusterQuery(state) + ' ' + action.value;\n        }\n\n        dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n    }\n};\n","import React, {useState} from 'react';\nimport {Form, Header, Icon, Message, Radio, Rating} from \"semantic-ui-react\";\nimport {Button} from \"../utils/UI\";\nimport {Field, formValueSelector, reduxForm, SubmissionError} from \"redux-form\";\nimport CustomModal from \"../utils/Modal\";\nimport formComponentGenerator, {\n    formInputComponent,\n    formRadioComponent, formRatingComponent,\n    formTextComponent\n} from \"../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFeedback} from \"../../store/actions\";\n\nconst messageTypes = [\n    {\n        name: 'review',\n        text: 'Написать отзыв'\n    },\n    {\n        name: 'question',\n        text: 'Задать вопрос'\n    },\n    {\n        name: 'critical',\n        text: 'Сообщить о критической проблеме'\n    },\n    {\n        name: 'warning',\n        text: 'Предупредить о небольшой ошибке'\n    },\n    {\n        name: 'idea',\n        text: 'Предложить идею / интересную фичу / новый функционал'\n    },\n    {\n        name: 'offer',\n        text: 'Сотрудничество / работа'\n    },\n];\n\n\nconst submitValidate = (values) => {\n    let error = null;\n    if (!values.messageType)\n        error = 'Выберите тип обращения';\n\n    if (values.messageType === 'question' && !values.contact)\n        error = 'Укажите контакт, чтобы мы могли вам ответить';\n\n    if (values.messageType === 'offer' && !values.contact)\n        error = 'Укажите контакт, чтобы мы смогли с вами связаться';\n\n    if (!values.message)\n        error = 'Поле с сообщением не заполнено';\n\n    if (error)\n        throw new SubmissionError({\n            _error: error\n        });\n};\n\n\nconst AlertModal = (props) => {\n    const {handleClose, header, text} = props;\n\n    return (\n        <CustomModal handleClose={handleClose}>\n            <Header>{header}</Header>\n            <div style={{margin: '20px'}}>\n                <p style={{fontSize: '1.2rem'}}>{text}</p>\n                <Button basic style={{float: 'right', marginBottom: '10px'}} text={'Закрыть'} onClick={handleClose}/>\n            </div>\n        </CustomModal>\n    )\n};\n\n\nconst Feedback = (props) => {\n    let {handleSubmit, handleClose} = props;\n    console.log('props', props);\n    const [visibleAlert, setVisibleAlert] = useState(false);\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const onSubmit = (values) => {\n        submitValidate(values);\n        setVisibleAlert(true);\n        let message = 'Спасибо за обращение!';\n\n        if (values.messageType === 'question')\n            message = 'Мы постараемся ответить в ближайшее время!';\n        if (values.messageType === 'review')\n            message = 'Спасибо за отзыв!';\n        if (values.messageType === 'warning')\n            message = 'Постараемся исправить баг как можно быстрее!';\n        if (values.messageType === 'critical')\n            message = 'Вся команда уже взялась за исправление ошибки!';\n        if (values.messageType === 'offer')\n            message = 'Мы с вами свяжемся в ближайшее время!';\n        if (values.messageType === 'idea')\n            message = 'Спасибо за ваше предложение. Самые лучшие идеи будут воплащены в ближайшее время!';\n\n        props.onSubmit(values);\n        setSuccessMessage(message);\n    };\n\n    handleSubmit = handleSubmit(onSubmit);\n    return (\n        <>\n            {\n                visibleAlert ?\n                    <AlertModal handleClose={handleClose}\n                                header={'Сообщение отправлено'}\n                                text={successMessage}/> :\n                    <CustomModal handleClose={handleClose}>\n                        <Header>Написать разработчикам</Header>\n                        {\n                            props.error &&\n                            <Message\n                                style={{margin: '10px'}}\n                                error\n                            >{props.error}</Message>\n                        }\n                        <div style={{margin: '30px'}}>\n                            <Form>\n                                <Form.Field>\n                                    <label>Цель обращения</label>\n                                </Form.Field>\n                                {\n                                    messageTypes.map(messType => (\n                                        <Field\n                                            name={'messageType'}\n                                            key={messType.name}\n                                            type={'radio'}\n                                            component={formRadioComponent}\n                                            label={messType.text}\n                                            value={messType.name}\n                                        />\n                                    ))\n                                }\n                                <Field component={formInputComponent}\n                                       label={'Можете указать свой контакт для ответа'}\n                                       name={'contact'}\n                                       placeholder={'Иван Иванович example@gmail.com'}\n                                />\n                                {\n                                    props.messageType === 'review' &&\n                                    <>\n                                        <Form.Field>\n                                            <label>Оцените сервис</label>\n                                        </Form.Field>\n                                        <Field\n                                            name={'rating'}\n                                            component={formRatingComponent}\n                                        />\n                                    </>\n                                }\n\n                                <Field\n                                    name={'message'}\n                                    component={formTextComponent}\n                                    label={'Ваше сообщение'}\n                                />\n                                <Button onClick={handleSubmit} basic text={'Отправить'}/>\n                            </Form>\n                        </div>\n                    </CustomModal>\n            }\n        </>\n    )\n};\n\nconst mapDispatchToProps = ({\n    onSubmit: submitFeedback\n});\n\nconst selector = formValueSelector('Feedback');\n\nconst mapStateToProps = state => {\n    return {\n        messageType: selector(state, 'messageType')\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'Feedback',\n            forceUnregisterOnUnmount: true\n        }\n    )(Feedback));\n","import React, {PureComponent, ReactChild, Component} from 'react'\n\n\nexport default class OauthPopup extends Component {\n\n    static defaultProps = {\n        onClose: () => {\n        },\n        width: 500,\n        height: 500,\n        url: \"\",\n        title: \"\"\n    };\n\n    componentWillUnmount() {\n        if (this.externalWindow) {\n            this.externalWindow.close();\n        }\n    }\n\n    onClose = () => {\n        this.props.onClose()\n    }\n\n    createPopup = () => {\n        const {url, title, width, height, onCode} = this.props;\n        const left = window.screenX + (window.outerWidth - width) / 2;\n        const top = window.screenY + (window.outerHeight - height) / 2.5;\n\n        const windowFeatures = `toolbar=0,scrollbars=1,status=1,resizable=0,location=1,menuBar=0,width=${\n            width},height=${height},top=${top},left=${left}`;\n\n        this.externalWindow = window.open(\n            url,\n            title,\n            windowFeatures\n        );\n        const checkTimeoutMs = 100;\n        const checkWindowStatus = () => {\n            if (this.externalWindow.closed) {\n                console.log('WINDOW CLOSED')\n                this.onClose()\n            } else {\n                setTimeout(checkWindowStatus, checkWindowStatus)\n            }\n        }\n\n        setTimeout(checkWindowStatus, checkTimeoutMs)\n\n\n        const storageListener = () => {\n            try {\n                if (localStorage.getItem('code')) {\n                    onCode(localStorage.getItem('code'));\n                    this.externalWindow.close();\n                    window.removeEventListener('storage', storageListener);\n                }\n            } catch (e) {\n                window.removeEventListener('storage', storageListener);\n            }\n        }\n\n        window.addEventListener('storage', storageListener);\n\n        // this.externalWindow.addEventListener('beforeunload', () => {\n        //     this.props.onClose()\n        // }, false);\n    };\n\n    componentDidMount() {\n        this.createPopup()\n    }\n\n    render() {\n        return <></>\n    }\n}\n","import React, {Component} from \"react\";\nimport {Header, Menu} from \"semantic-ui-react\";\nimport Authorizing from \"./Authorizing/Authorizing\";\nimport {Button} from \"../utils/UI\";\nimport Feedback from \"./Feedback\";\nimport {authorizeAction, submitFeedback} from \"../../store/actions\";\nimport {connect} from \"react-redux\";\nimport VkAuth from 'react-vk-auth';\nimport OauthPopup from \"./Authorizing/Login\";\nimport {apiHost, vkAppID} from \"../../config\";\nimport {authorizationCheckQuery} from \"../../api/api\";\n\nclass PageHeader extends Component {\n\n    checkAuthorized = () => {\n        authorizationCheckQuery().then(\n            data => {\n                console.log('authorized', data);\n\n                this.setState({\n                    authorized: data.status === 'authorized'\n                })\n            }\n        )\n    }\n    componentDidMount() {\n        this.checkAuthorized()\n    }\n\n    state = {\n        status: \"base\",\n        authorized: false\n    };\n\n    authorizeMe = () => {\n        console.log('AUTHORIZE ME BUTTON CLICKED')\n        this.props.authorize()\n    }\n\n    render() {\n\n        // TODO Вынести куда-нибудь от сюда. Выглядит как костыль\n        const vkAuthURL = 'https://oauth.vk.com/authorize';\n        const redirect_uri = `${apiHost}/auth/vk/`\n        const scope = '1385477'\n        // Передаем свой токен для авторизации\n        // Если такой профиль уже существует (вк уже зареган в системе)\n        // То сервер на запрос проверки авторизации вернет новый токен\n        const state = window.localStorage.getItem(\"token\")\n\n\n        const url = `${vkAuthURL}?client_id=${vkAppID}&redirect_uri=${\n            redirect_uri\n        }&display=popup&scope=${scope}&response_type=code&state=${state}`\n        return (\n            <div>\n                <Menu secondary>\n                    <Menu.Item style={{padding: 0}}>\n                        <Header as=\"h1\">NTrail</Header>\n                    </Menu.Item>\n\n                    <Menu.Item position=\"right\" style={{padding: 0}}>\n\n                        <Button basic style={{marginRight: \"0.5em\"}} onClick={() => this.setState({status: 'feedback'})}\n                                text={'Обратная связь'}/>\n                        {/*<Button basic style={{marginRight: \"0.5em\"}} text={'Как пользоваться?'}/>*/}\n                        {\n                            this.state.authorized !== true &&\n                            <Button basic onClick={() => this.setState({status: 'vkauth'})} text={'Авторизоваться'}/>\n                        }\n                        {this.state.status === \"auth\" && (\n                            <Authorizing\n                                handleClose={() => this.setState({status: \"base\"})}\n                            />\n                        )}\n                        {\n                            this.state.status === 'vkauth' && (\n                                <OauthPopup url={url} title={'Авторизация'}\n                                            onClose={() => {\n                                                this.setState({status: 'base'});\n                                                this.checkAuthorized()\n                                            }}/>\n                            )\n                        }\n                        {\n                            this.state.status === 'feedback' &&\n                            <Feedback handleClose={() => this.setState({status: \"base\"})}/>\n                        }\n                    </Menu.Item>\n                </Menu>\n                <p style={{fontSize: \"1.23em\"}}>Ваш проводник по миру соцсетей</p>\n            </div>\n        );\n    }\n}\n\nconst mapDispatchToProps = ({\n    authorize: authorizeAction\n});\n\n\nconst mapStateToProps = state => {\n    return {}\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageHeader);\n\n\n","import React, { Component } from \"react\";\nimport { Table, Icon, Popup } from \"semantic-ui-react\";\nimport \"./style.less\";\n\nfunction Confidence({ level }) {\n  const maxFilled = 5;\n  const filled = level * maxFilled;\n  const items = Array(maxFilled)\n    .fill()\n    .map((_, i) => (\n      <div\n        key={i}\n        className={\n          \"confidenceLevel \" + (maxFilled - i <= filled ? \"levelFilled\" : \"\")\n        }\n      />\n    ));\n\n  return <div>{items}</div>;\n}\n\nconst actionButtonsData = {\n  doNotHaveProperty: {\n    popupText: \"Показать людей, не обладающих этим свойством\",\n    iconName: \"arrow alternate circle left outline\"\n  },\n  haveProperty: {\n    popupText: \"Показать только людей с данным свойством\",\n    iconName: \"arrow alternate circle right outline\"\n  },\n  decreaseOrder: {\n    popupText: \"Отсортировать в порядке убывания\",\n    iconName: \"angle double right\"\n  },\n  increaseOrder: {\n    popupText: \"Отсортировать в порядке возрастания\",\n    iconName: \"angle double left\"\n  }\n};\n\nexport default class InterestingProperty extends Component {\n  state = {\n    active: false\n  };\n  render() {\n    const propertyItem = this.props.propertyItem;\n    let actionNames = [];\n    if (propertyItem.type === \"show\")\n      actionNames = [\"haveProperty\", \"doNotHaveProperty\"];\n    else if (propertyItem.type === \"order\")\n      actionNames = [\"decreaseOrder\", \"increaseOrder\"];\n    const actionButtons = actionNames.map(actionName => (\n      <Popup\n        key={actionName}\n        mouseEnterDelay={500}\n        position=\"top right\"\n        content={actionButtonsData[actionName].popupText}\n        trigger={\n          <Icon\n            color=\"grey\"\n            className=\"actionButton\"\n            name={actionButtonsData[actionName].iconName}\n          />\n        }\n      />\n    ));\n    const moveToAllProperties = (allPropID) => {\n      this.props.moveToAll(allPropID);\n    };\n    return (\n      <Table.Row\n        onMouseOver={() => this.setState({ active: true })}\n        onMouseLeave={() => this.setState({ active: false })}\n        onClick={()=>moveToAllProperties(propertyItem.id.split('.')[0])}\n        className=\"property\"\n      >\n        <Table.Cell width=\"10\">{propertyItem.name}</Table.Cell>\n        <Table.Cell width=\"5\" style={{ wordWrap: \"break-word\" }}>\n          {propertyItem.value}\n        </Table.Cell>\n        <Table.Cell width=\"2\" className=\"confidenceCell\">\n          {this.state.active\n            ? actionButtons\n            : \"confidence\" in propertyItem && (\n                <Confidence level={propertyItem.confidence} />\n              )}\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n","import React from 'react';\nimport {Icon, Table} from \"semantic-ui-react\";\nimport {round} from \"../../../utils\";\nimport {setEntitiesItemsList} from \"../../../store/entitiesReducer\";\nimport {connect} from \"react-redux\";\n\n\nconst generatePropertyNameFromDict = (value) => {\n    // console.log(value);\n    let name = value.value;\n    if(value.percent)\n        name += ` (${round(value.percent, 0)} %)`;\n\n    return name;\n};\n\n\nconst SingleProperty = (props) => {\n    const {id, value, name, ids} = props.propertyDict;\n    return (\n        <Table.Row\n            onClick={() => props.onClick ? props.onClick(id) : null}\n            key={id}>\n            <Table.Cell width=\"10\">{name}</Table.Cell>\n            <Table.Cell width=\"5\">{generatePropertyNameFromDict(value)}</Table.Cell>\n            <Table.Cell width=\"2\">\n                {\n                    ids &&\n                    <Icon link\n                          name=\"eye\"\n                          color=\"grey\"\n                          onClick={\n                              (e) => {\n                                  e.stopPropagation();\n                                  props.setEntitiesItemsList(ids)\n                              }\n                          }\n                    />\n                }\n            </Table.Cell>\n        </Table.Row>\n    )\n};\n\nconst mapDispatchToState = ({\n    setEntitiesItemsList\n});\n\nexport default connect(undefined, mapDispatchToState)(SingleProperty);\n","import React from 'react';\nimport {Button, Header, Icon} from \"semantic-ui-react\";\nimport iconCircleSum from '../../../media/SVG/circles black and grey/SVG/2.svg'\nimport iconCircleDiff from '../../../media/SVG/circles black and grey/SVG/4.svg'\nimport iconCircleSymDiff from '../../../media/SVG/circles black and grey/SVG/3.svg'\nimport iconCircleUnion from '../../../media/SVG/circles black and grey/SVG/1.svg'\nimport {connect} from \"react-redux\";\nimport {\n    deleteFromCluster, deleteSelectedCluster,\n    downloadWorkSpace, executeClusterAction,\n    intersectClusters, pickOutToCluster,\n    subtractClusters, symDiffClusters,\n    unionClusters,\n    uploadWorkSpace\n} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\nimport ActiveActions from \"./ActiveActions\";\n\n\nexport const ActionPanelButton = (props) => {\n    const style = {\n        display: 'flex',\n        alignItems: 'center',\n    };\n    const imgSize = '1.5rem';\n    const iconStyle = {\n        display: 'inline-block',\n        marginRight: '5px',\n        width: imgSize,\n        height: 'auto'\n    };\n    const icon = typeof props.icon === 'object' ? props.icon : <img src={props.icon} alt={'afs'} style={iconStyle}/>;\n    return (\n        <Button basic onClick={props.onClick}>\n            <div style={style}>\n                {/*<div style={{width: '1rem'}}>{icon}</div>*/}\n                <div style={{margin: 'auto'}}>{props.text}</div>\n            </div>\n        </Button>\n    )\n};\n\n\nconst ActionsPanel = (props) => {\n    const headerMargin = '0.2rem';\n    // console.log('ActionsPanel', props);\n    return <div>\n        <Header size={'small'} style={{marginLeft: headerMargin, marginTop: '1rem'}}>Холст</Header>\n        <Button.Group vertical basic style={{width: '100%'}}>\n            {\n                props.haveClusters &&\n                <ActionPanelButton onClick={props.downloadWorkSpace} text={'Сохранить рабочее пространсто'}\n                                   icon={<Icon name={'download'}/>}/>\n            }\n            <ActionPanelButton onClick={props.uploadWorkSpace} text={'Загрузить рабочее пространство'}\n                               icon={<Icon name={'upload'}/>}/>\n        </Button.Group>\n        <ActiveActions header={true} headerMargin={headerMargin}/>\n        {/*{*/}\n        {/*    props.selectedEntitiesCount > 0 &&*/}\n        {/*    <>*/}\n        {/*        <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные объекты</Header>*/}\n        {/*        <Button.Group vertical basic style={{width: '100%'}}>*/}\n        {/*            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}*/}\n        {/*                               icon={<Icon name={'dot circle outline'}/>}/>*/}\n        {/*            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}*/}\n        {/*                               icon={<Icon name={'remove circle'}/>}/>*/}\n        {/*            {*/}\n        {/*                props.entitiesActions &&*/}\n        {/*                props.entitiesActions.map(*/}\n        {/*                    action => (*/}\n        {/*                        <ActionPanelButton key={action.id} onClick={() => props.executeClusterAction(action)}*/}\n        {/*                                           text={action.name}*/}\n        {/*                                           icon={<Icon name={'circle outline'}/>}*/}\n        {/*                        />*/}\n        {/*                    )*/}\n        {/*                )*/}\n        {/*            }*/}\n\n        {/*        </Button.Group>*/}\n        {/*    </>*/}\n        {/*}*/}\n\n        {\n            props.selectedClustersCount > 0 &&\n            <>\n                <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные кластеры</Header>\n                <Button.Group basic compact vertical style={{width: '100%'}}>\n                    {/*{*/}\n                    {/*    props.selectedClustersCount === 2 &&*/}\n                    {/*    <ActionPanelButton text={'Сравнить'} icon={<Icon name={'sun outline'}/>}/>*/}\n                    {/*}*/}\n                    {\n                        props.selectedClustersCount >= 2 &&\n                        <>\n                            <ActionPanelButton onClick={props.intersectClusters} text={'Пересечение'}\n                                               icon={iconCircleUnion}/>\n                            <ActionPanelButton onClick={props.unionClusters} text={'Объединение'} icon={iconCircleSum}/>\n                            <ActionPanelButton onClick={props.subtractClusters} text={'Разность'}\n                                               icon={iconCircleDiff}/>\n                            <ActionPanelButton onClick={props.symDiffClusters} text={'Симметрическая разность'}\n                                               icon={iconCircleSymDiff}/>\n                        </>\n                    }\n                    <ActionPanelButton onClick={props.deleteSelectedClusters} text={'Удалить выделенные'}\n                                       icon={<Icon name={'trash alternate outline'}/>}/>\n                </Button.Group>\n            </>\n        }\n\n\n    </div>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        clusterActions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = {\n    executeClusterAction,\n    downloadWorkSpace,\n    uploadWorkSpace,\n    intersectClusters,\n    unionClusters,\n    subtractClusters,\n    symDiffClusters,\n    pickOutToCluster,\n    deleteSelectedCluster,\n    deleteFromCluster\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionsPanel)","import {Button, Header, Icon} from \"semantic-ui-react\";\nimport React from \"react\";\nimport {ActionPanelButton} from \"./ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {deleteFromCluster, executeClusterAction, pickOutToCluster} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\n\nconst ActiveActions = props => {\n    if(!props.actions)\n        return <></>;\n    let header = props.header;\n    let selectedEntities = props.selectedEntitiesCount;\n    if (!selectedEntities)\n        selectedEntities = props.currentClusterEntitiesCount;\n\n\n    let actions = [];\n    for (let action of props.actions) {\n        const selectionTarget = action.target;\n        if (!selectionTarget || selectionTarget === 'any')\n            actions.push(action);\n        else if (selectedEntities === 1 && selectionTarget === 'one')\n            actions.push(action);\n        else if (selectedEntities > 1 && selectionTarget === 'many')\n            actions.push(action);\n        else if (props.selectedEntitiesCount === 0 && selectionTarget === 'cluster')\n            actions.push(action);\n    }\n    return <>\n        {\n            (actions.length > 0 || props.selectedEntitiesCount > 0) &&\n            <>{\n                header &&\n                <Header size={'small'} style={{marginLeft: props.headerMargin}}>Активный кластер</Header>\n\n            }{\n                actions.length > 0 &&\n                <Button.Group vertical basic style={{width: '100%', marginBottom: '1rem'}}>\n                    {\n                        actions.map(action => (\n\n                            <ActionPanelButton key={action.id}\n                                               onClick={() => props.executeClusterAction(action)} text={action.name}\n                                               icon={<Icon name={'object ungroup outline'}/>}/>\n                        ))\n                    }\n                    {\n                        props.selectedEntitiesCount > 0 && props.selectedEntitiesCount !== props.currentClusterEntitiesCount &&\n                        <>\n                            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}\n                                               icon={<Icon name={'dot circle outline'}/>}/>\n                            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}\n                                               icon={<Icon name={'remove circle'}/>}/>\n                        </>\n                    }\n                </Button.Group>\n            }\n            </>\n        }\n    </>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        actions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = ({\n    executeClusterAction,\n    pickOutToCluster,\n    deleteFromCluster\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveActions)","import React from \"react\";\nimport {Table, TextArea} from \"semantic-ui-react\";\nimport \"./style.less\";\n\nimport InterestingProperty from \"./InterestingProperty\";\nimport {connect} from \"react-redux\";\nimport SingleProperty from \"../SingleProperty\";\nimport ActiveActions from \"../../ActionsPanel/ActiveActions\";\n\n\nconst InterestingProperties = (props) => {\n    return (\n        <div style={{maxHeight: '65vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n            {/*<Table columns={props.importantProperties.length}>*/}\n            {/*    <Table.Header>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.HeaderCell*/}\n            {/*                    key={item.name}*/}\n            {/*                    className=\"propertyTableHeader\"*/}\n            {/*                >*/}\n            {/*                    {item.name}*/}\n            {/*                </Table.HeaderCell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Header>*/}\n            {/*    <Table.Body>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.Cell key={item.id}>{item.value}</Table.Cell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Body>*/}\n            {/*</Table>*/}\n            <ActiveActions header={false}/>\n            {\n                props.description.length > 0 &&\n                <div style={{marginRight: '0.5rem', marginLeft: '0.5rem'}}>\n                    {\n                        props.description\n                    }\n                </div>\n            }\n            <Table selectable fixed>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={10}>\n                            Название\n                        </Table.HeaderCell>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={5}>\n                            Значение\n                        </Table.HeaderCell>\n                        <Table.HeaderCell width={2}/>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {props.interestingProperties.map((propertyItem) => (\n                        <SingleProperty key={propertyItem.id} propertyDict={propertyItem} onClick={props.moveToAll}/>\n                    ))}\n                </Table.Body>\n            </Table>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n        importantProperties: state.workSpace.controls.properties.important,\n        description: state.workSpace.controls.properties.description,\n        interestingProperties: state.workSpace.controls.properties.interesting\n    }\n);\n\nexport default connect(mapStateToProps)(InterestingProperties)\n","import {Icon} from \"semantic-ui-react\";\nimport React from \"react\";\n\nconst SearchIcon = ({isInputStringEmpty, onClose, onSearch}) => {\n    if (onClose === undefined) onClose = () => {\n    };\n    if (onSearch === undefined) onSearch = () => {\n    };\n    return <Icon\n        name={isInputStringEmpty ? 'search' : 'close'}\n        onClick={\n            () => {\n                isInputStringEmpty ? onSearch() : onClose()\n            }\n        }\n        link\n    />\n};\n\nexport default SearchIcon;","import React, {useState} from 'react';\nimport {\n    CartesianGrid,\n    Cell,\n    Line,\n    LineChart,\n    Pie,\n    PieChart,\n    Tooltip,\n    XAxis,\n    YAxis,\n} from 'recharts';\nimport './style.less';\nimport {Checkbox, Popup} from \"semantic-ui-react\";\nimport {round} from \"../../utils\";\n\nfunction getBaseLog(x, y) {\n    return round(Math.log(y) / Math.log(x), 2);\n}\n\nconst CircularPlot = ({onSelectItem, width, height, data}) => {\n    return (\n        <PieChart width={width} height={height}>\n            <Pie onClick={onSelectItem} data={data} fill=\"#8884d8\" label={entry => entry.name}>\n                {\n                    data.map((entry, index) => <Cell key={`cell-${index}`}\n                                                     fill={entry.color ? entry.color : '#000000'}/>)\n                }\n            </Pie>\n            <Tooltip/>\n        </PieChart>\n    )\n};\n\nconst LinePlot = ({width, height, data, onSelectItem}) => {\n\n    const [isLogMode, setLogMode] = useState(false);\n\n    const logModeChange = (e, data) => {\n        setLogMode(data.checked)\n    };\n\n    if (isLogMode) {\n        data = data.map(item => ({...item, value: getBaseLog(1.1,item.value + 1)}))\n    }\n\n    return (\n        <>\n            <LineChart\n                onClick={onSelectItem}\n                width={width}\n                height={height}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 10, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <YAxis/>\n                <XAxis hide dataKey={'name'}/>\n                <Tooltip/>\n                <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" activeDot={{r: 8}}/>\n            </LineChart>\n            <Checkbox onChange={logModeChange} checked={isLogMode} label={'Логорифмический режим'}/>\n        </>\n    )\n};\n\nconst Plot = ({type, data, onSelectNode}) => {\n\n    const onSelectItem = (event) => {\n        console.log(event);\n        if (event && event.activePayload)\n            onSelectNode(event.activePayload[0].payload);\n        else if (event && event.payload && event.payload.payload)\n            onSelectNode(event.payload.payload);\n\n    };\n\n    const width = 500;\n    const height = 300;\n    const plotProps = {\n        width,\n        height,\n        data,\n        onSelectItem\n    };\n    return (\n        <div className={'plotWidget'} onClick={e => e.stopPropagation()}>\n            {\n                type === 'line' &&\n                <LinePlot {...plotProps}/>\n            }\n            {\n                type === 'circular' &&\n                <CircularPlot {...plotProps}/>\n            }\n        </div>\n    );\n};\n\n\nexport const PlotPopup = (props) => {\n\n    return (\n        <Popup pinned\n               basic\n               trigger={props.trigger} on={'click'}\n               flowing\n               position={'top right'}>\n            <div style={{textAlign: 'center', marginBottom: '0.5rem'}}>{props.header}</div>\n            <Plot {...props}/>\n        </Popup>\n    )\n};\n\nexport default Plot;","import React, {useEffect, useState} from \"react\";\nimport {Accordion, Icon, Input, Table} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport SearchIcon from \"../../../utils/SearchIcon\";\nimport {PlotPopup} from \"../../../Plot/Plot\";\nimport {setEntitiesItemsList} from \"../../../../store/entitiesReducer\";\nimport SingleProperty from \"../SingleProperty\";\n\nconst AllProperties = (props) => {\n    const [searchValue, setInputValue] = useState('');\n    const [activeIDS, setActiveIDS] = useState([]);\n    const [properties, setProperties] = useState(props.allProperties);\n\n    const toggleProperty = (e, titleProps) => {\n        const itemId = titleProps.index;\n\n        if (activeIDS.includes(itemId))\n            setActiveIDS(activeIDS.filter(item => item !== itemId));\n        else\n            setActiveIDS([...activeIDS, itemId])\n    };\n\n    const searchStringChange = (value) => {\n        const newProperties = [];\n        for (let property of props.allProperties) {\n            const {name} = property;\n            if (name.toLowerCase().indexOf(value.toLowerCase()) !== -1) {\n                newProperties.push(property);\n            }\n        }\n        setInputValue(value);\n        if (!value) {\n            setProperties(props.allProperties);\n            setActiveIDS([]);\n        } else {\n            setProperties(newProperties);\n            if (newProperties.length)\n                setActiveIDS([newProperties[0].id]);\n        }\n    };\n    useEffect(() => {\n        if (props.allProperties !== properties) {\n            console.log('properties effect')\n\n            searchStringChange(searchValue)\n        }\n        if (props.openedPropID) {\n            const openedID = props.openedPropID;\n            setActiveIDS([props.openedPropID]);\n            const newProps = [...props.allProperties];\n            newProps.sort((a, b) => (b.id === openedID ? 1 : -1));\n            setProperties(newProps);\n        }\n    }, [props.allProperties, props.openedPropID]);\n    return (\n        <>\n            <Input fluid\n                   icon={<SearchIcon isInputStringEmpty={!searchValue.length} onClose={() => searchStringChange('')}/>}\n                   value={searchValue}\n                   placeholder={'Грамотность, 12, школа, общественные статус'}\n                   onChange={(e, data) => {\n                       searchStringChange(data.value)\n                   }}\n            />\n            <Accordion style={{maxHeight: '61.5vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n                {properties.map((property) => {\n                    return (\n                        <Accordion.Accordion key={property.id}>\n                            <Accordion.Title\n                                index={property.id}\n                                active={activeIDS.includes(property.id)}\n                                onClick={toggleProperty}\n                            >\n                                <Icon name=\"dropdown\"/>\n                                {props.activePropertyId === property.id ? <b>{property.name}</b> : property.name}\n                                {\n                                    property.plot &&\n                                    <PlotPopup data={property.plot.data}\n                                               type={property.plot.type}\n                                               onSelectNode={(node) => props.setEntitiesItemsList(node.ids)}\n                                               header={property.name}\n                                               trigger={<Icon\n                                                   link\n                                                   onClick={e => e.stopPropagation()}\n                                                   circular\n                                                   style={{float: \"right\"}}\n                                                   name=\"chart line\"\n                                               />}/>\n                                }\n                            </Accordion.Title>\n                            <Accordion.Content active={activeIDS.includes(property.id)}>\n                                <Table selectable>\n                                    <Table.Body>\n                                        {property.values.map(subProperty => (\n                                            <SingleProperty key={subProperty.id} propertyDict={subProperty}/>\n                                        ))}\n                                    </Table.Body>\n                                </Table>\n                            </Accordion.Content>\n                        </Accordion.Accordion>\n                    )\n                })}\n            </Accordion>\n        </>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    allProperties: state.workSpace.controls.properties.all,\n});\n\nconst mapDispatchToProps = ({\n    setEntitiesItemsList\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProperties)\n","import React, {Component} from \"react\";\nimport {Menu} from \"semantic-ui-react\";\n\nimport InterestingProperties from \"./InterestingProperties/InterestingProperties\";\nimport AllProperties from \"./AllProperties/AllProperties\";\n\nexport default class PropertiesPanel extends Component {\n    state = {\n        activeItem: \"interesting\",\n        openedPropID: null\n    };\n    clickMenu = (e, {name}) => {\n        this.setState({activeItem: name});\n    };\n\n    openAllMenuWithProp = (propID) => {\n        console.log(propID);\n        const arr = propID.split('.');\n        arr.pop();\n        this.setState({\n            activeItem: 'all',\n            openedPropID: arr.join('.')\n        })\n    };\n\n    render() {\n        const {activeItem} = this.state;\n        return (\n            <div>\n                <Menu secondary size=\"tiny\">\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"interesting\"}\n                        name=\"interesting\"\n                        content=\"Интересные свойства\"\n                    />\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"all\"}\n                        name=\"all\"\n                        content=\"Все свойства\"\n                    />\n                </Menu>\n                {activeItem === \"interesting\" ? (\n                    <InterestingProperties moveToAll={this.openAllMenuWithProp}/>\n                ) : (\n                    <AllProperties openedPropID={this.state.openedPropID}/>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Button, Form} from \"semantic-ui-react\";\nimport formComponentGenerator from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {extractFromString} from \"../../../store/actions\";\n\n\nconst StringSearch = props => {\n    return (\n        <Form onSubmit={props.handleSubmit(props.extractFromString)}>\n            <p>Можете сделать <b>поиск</b> с помощью вк, нажать правой кнопкой мыши на странице, затем <b>Page\n                source</b>, скопировать весь текст и вставить сюда (или просто ctrl + U)</p>\n            <Field name={'text'}\n                   component={formComponentGenerator(Form.TextArea)}\n            />\n            <Button type={'submit'} content={'Извлечь'}\n                    style={{marginTop: '0.2rem'}} fluid basic/>\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    extractFromString\n});\nexport default connect(() => ({}), mapDispatchToProps)(reduxForm(\n    {\n        form: 'StringSearch',\n    }\n)(StringSearch));\n","import React, {useState} from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Accordion, Form, Icon} from \"semantic-ui-react\";\nimport formComponentGenerator, {formInputComponent} from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFilterSearch} from \"../../../store/controlsReducer\";\n\n\nconst maxAmount1000Validation = (value) => Number(value) > 1000 ? 'Максимальное значение: 1000' : undefined;\n\nconst ServerSearch = ({handleSubmit, ...props}) => {\n    handleSubmit = handleSubmit(props.submitFilterSearch);\n    const [activeItem, setActiveItem] = useState('vk');\n    const toggleActiveItem = (value) => {\n        setActiveItem(activeItem === value ? '' : value)\n    };\n    return (\n        <Form autoComplete={'off'}>\n            {/*<Field*/}\n            {/*    name={'limit'}*/}\n            {/*    normalize={(value, previousValue) => {*/}\n            {/*        if (Number(value))*/}\n            {/*            return Number(value).toString();*/}\n            {/*        if(!value)*/}\n            {/*            return '0';*/}\n            {/*        return previousValue;*/}\n            {/*    }}*/}\n            {/*    component={formComponentGenerator(Form.Input)}*/}\n            {/*    validate={maxAmount1000Validation}*/}\n            {/*    label={'Максимальное количество объектов'}*/}\n            {/*/>*/}\n            <Field component={formInputComponent}\n                   name={'commonQueryString'}\n                   submitIcon={handleSubmit}\n                   label={'Универсальная поисковая строка'}\n                   placeholder={'https://vk.com/durov, nagibator666'}/>\n\n            {/*<Accordion>*/}\n            {/*    <Accordion.Accordion>*/}\n            {/*        <Accordion.Title onClick={() => toggleActiveItem('vk')} active={activeItem === 'vk'}>*/}\n            {/*            <Icon name=\"dropdown\"/>*/}\n            {/*            ВК*/}\n            {/*        </Accordion.Title>*/}\n            {/*        <Accordion.Content active={activeItem === 'vk'}>*/}\n            {/*            <Field component={formInputComponent}*/}\n            {/*                   submitIcon={handleSubmit}*/}\n            {/*                   name={'vkSearchQuery'}*/}\n            {/*                   label={'Поиск в социальной сети ВКонтакте'}*/}\n            {/*                   placeholder={'Иван Иванов, artur97, мемы'}/>*/}\n            {/*            <Form.Group>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkUsersInclude'}*/}\n            {/*                       label={'Люди'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkGroupsInclude'}*/}\n            {/*                       label={'Группы'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkPostsInclude'}*/}\n            {/*                       label={'Посты'}/>*/}\n            {/*            </Form.Group>*/}\n            {/*        </Accordion.Content>*/}\n            {/*    </Accordion.Accordion>*/}\n            {/*</Accordion>*/}\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    submitFilterSearch\n});\n\nexport default connect(null, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'ServerSearch',\n            initialValues: {\n                limit: 1000,\n                vkUsersInclude: true,\n                vkGroupsInclude: false,\n                vkPostsInclude: false\n            },\n        }\n    )(ServerSearch));\n","import React from \"react\";\nimport {Dropdown} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport StringSearch from \"./StringSearch\";\nimport {changeFilterMode} from \"../../../store/controlsReducer\";\nimport ServerSearch from \"./ServerSearch\";\n\n\nconst PageSearch = props => {\n    return (\n        <></>\n    )\n};\n\n\nconst FilterPanel = ({searchMode, ...props}) => {\n    const searchModeOptions = [\n        {key: 'net', text: 'Из интернета (обращаться к API различных сервисов)', value: 'net'},\n        // {key: 'cache', text: 'Из баз данных NTrail (закешированные запросы)', value: 'cache'},\n        // {key: 'page', text: 'С данной страницы (уже полученное с сервера)', value: 'page'},\n        {key: 'text', text: 'Извлечь данные из строки', value: 'text'},\n    ];\n    return (\n        <div\n            style={{marginTop: '1rem'}}>\n            <b>Откуда брать информацию</b>\n            <Dropdown\n                value={searchMode}\n                onChange={(e, data) => props.changeFilterMode(data.value)}\n                fluid selection\n                options={searchModeOptions}\n                style={{marginBottom: '1rem'}}\n            />\n            {\n                searchMode === 'text' &&\n                <StringSearch/>\n            }\n            {\n                (searchMode === 'net' || searchMode === 'cache') &&\n                <ServerSearch/>\n            }\n            {\n                (searchMode === 'page') &&\n                <PageSearch/>\n            }\n        </div>\n    );\n};\n\nconst mapStateToProps = state => {\n    return {\n        searchMode: state.workSpace.controls.filterMode\n    }\n};\nconst mapDispatchToProps = ({\n    changeFilterMode\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterPanel)\n","import React from 'react';\nimport {Form} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport {getSelectedEntitiesURLS} from \"../../../store/selectors\";\n\nconst CopyPasteInput = ({value, label, component, condition}) => {\n    if (condition === undefined)\n        condition = true;\n    if (!value || !condition)\n        return <></>;\n    let Component = Form.Input;\n    if (component)\n        Component = component;\n\n    return <Component value={value} label={label}/>;\n};\n\n\nconst ParamsPanel = (props) => {\n    return (\n        <Form style={{marginTop: '1rem'}}>\n            <CopyPasteInput label={'Текущая версия'} value={props.version}/>\n            <CopyPasteInput label={'ID текущего кластера'} value={props.clusterID}/>\n            <CopyPasteInput component={Form.TextArea} label={'ID выделенных кластеров'}\n                            value={props.selectedClustersID.join('\\n')}/>\n\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'Количество Кластеров'} value={props.clustersCount}/>\n                <CopyPasteInput label={'Размер текущего кластера'} value={props.entitiesCount}/>\n            </Form.Group>\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'ID выбранных сущностей'} value={props.selectedEntitiesID.join(', ')}/>\n                <CopyPasteInput label={'К-во выбранных сущностей'} value={props.selectedEntitiesID.length}/>\n            </Form.Group>\n\n\n            <CopyPasteInput component={Form.TextArea}\n                            label={'Ссылки на выбранные сущности'}\n                            value={props.selectedEntitiesURLS.join('\\n')}/>\n        </Form>\n    )\n};\n\nconst mapStateToProps = state => {\n    return {\n        clusterID: state.workSpace.clusters.selectedClusterID,\n        version: state.workSpace.version,\n        selectedEntitiesID: state.workSpace.entities.selectedItems,\n        selectedEntitiesURLS: getSelectedEntitiesURLS(state),\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        selectedClustersID: state.workSpace.clusters.highlightedClusters\n    }\n};\n\nexport default connect(mapStateToProps)(ParamsPanel);\n","import React from \"react\";\nimport {Segment, Menu} from \"semantic-ui-react\";\nimport './style.less'\n\nimport PropertiesMenu from \"./PropertiesMenu/PropertiesMenu\";\nimport FilterPanel from \"./FilterPanel/FilterPanel\";\nimport ActionsPanel from \"./ActionsPanel/ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {selectMenu} from \"../../store/controlsReducer\";\nimport ParamsPanel from \"./ParamsPanel/ParamsPanel\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ControlPanel = (props) => {\n    const {activeItem} = props;\n    let menu = <PropertiesMenu/>;\n    if (activeItem === 'actions')\n        menu = <ActionsPanel/>;\n    else if (activeItem === 'filter')\n        menu = <FilterPanel/>;\n    else if (activeItem === 'params')\n        menu = <ParamsPanel/>;\n    return (\n        <UISegment>\n            <Menu secondary\n                  widths={props.haveClusters ? 4 : 3}\n                  style={{marginBottom: \"0.2rem\"}}\n            >\n                {\n                    props.haveClusters &&\n                    <Menu.Item\n                        active={activeItem === \"properties\"}\n                        name=\"properties\"\n                        content='Главное'\n                        onClick={() => props.selectMenu('properties')}\n                    />\n                }\n                <Menu.Item\n                    onClick={() => props.selectMenu('filter')}\n                    active={activeItem === \"filter\"}\n                    name=\"filter\"\n                    className={'controlMenu'}\n                    content=\"Фильтр\"\n                />\n                <Menu.Item\n                    onClick={() => props.selectMenu('actions')}\n                    active={activeItem === \"actions\"}\n                    name=\"actions\"\n                    content=\"Действия\"\n                />\n                {\n                    <Menu.Item\n                        onClick={() => props.selectMenu('params')}\n                        active={activeItem === \"params\"}\n                        name=\"params\"\n                        content=\"Параметры\"\n                    />\n                }\n\n            </Menu>\n            {menu}\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    activeItem: state.workSpace.controls.activeItem,\n    haveClusters: state.workSpace.clusters.items.length > 0\n});\nconst mapDispatchToProps = {\n    selectMenu\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel)\n","import React from \"react\";\nimport { Popup, Icon } from \"semantic-ui-react\";\n\nexport default ({ text, position }) => {\n  return (\n    <Popup\n      position={position}\n      content={text}\n      trigger={<Icon color=\"grey\" name=\"question circle\" />}\n    />\n  );\n};\n","import React from 'react';\nimport QuestionPopup from \"./QuestionPopup\";\n\n\nconst NoContent = (props) => {\n    let minHeight = 300;\n    if (props.height)\n        minHeight = props.height;\n    const noContentCss = {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        minHeight: minHeight + \"px\",\n        width: '100%'\n    };\n    return (\n        <div style={noContentCss}>\n            <div style={{float: \"left\"}}>{props.text}</div>\n            &nbsp;&nbsp;\n            <QuestionPopup\n                text={props.popup}\n            />\n        </div>\n    );\n}\n\nexport default NoContent;\n","import React from \"react\";\n\n\nfunction ClusterImages(props) {\n    const photos = props.photos;\n    const calculatePhotoCSS = (size, idx) => {\n        const css = {\n            zIndex: -idx + 100\n        };\n        if (size === 1)\n            return css;\n        if (size === 2)\n            return {...css, left: 10 + 60 / size * idx + '%'};\n        return {...css, left: 75 / size * idx + '%'};\n    };\n\n\n    return (\n        <div className=\"imagesContainer\">\n            {photos.map((url, idx) => (\n                <img\n                    key={idx}\n                    style={calculatePhotoCSS(photos.length, idx)}\n                    className=\"previewClusterImage\"\n                    src={url}\n                    alt=\"\"\n                />\n            ))}\n        </div>\n    )\n}\n\nexport default ClusterImages;","import React, {useLayoutEffect, useRef, useState} from \"react\";\nimport \"./style.less\";\nimport {Checkbox} from \"semantic-ui-react\";\nimport ClusterImages from \"./ImagesGroup\";\n\n\nconst Cluster = ({clusterData, chooseCluster, selected, x, y, dragCluster, ...props}) => {\n    const {photos} = clusterData;\n    const [dimensions, setDimensions] = useState({width: 0, height: 0});\n\n    const clusterCss = {\n        // transition: 'left 0.07s, top 0.07s',\n        zIndex: selected ? 100 : 0,\n        left: x - dimensions['width'] / 2 + 'px',\n        top: y - dimensions['height'] / 2 + 'px',\n        width: clusterData.size + \"rem\",\n    };\n    const targetRef = useRef();\n\n    useLayoutEffect(() => {\n        if (targetRef.current) {\n            setDimensions({\n                width: targetRef.current.offsetWidth,\n                height: targetRef.current.offsetHeight\n            });\n        }\n    }, []);\n\n    const clusterContainerClasses = [\n        'clusterObject',\n        selected && 'selectedCluster',\n        props.isOverlay && 'overlayCluster'\n    ];\n    return (\n        <div\n            ref={targetRef}\n            onMouseDown={(e) => {\n                e.preventDefault();\n                chooseCluster(clusterData.id)\n            }}\n            style={clusterCss} className={clusterContainerClasses.join(' ')}>\n            {(selected || props.showCheckbox) &&\n            <Checkbox checked={props.highlighted}\n                      onMouseDown={e => e.stopPropagation()}\n                      onClick={e => e.stopPropagation()}\n                      onChange={(e) => {\n                          props.toggleClusterHighlight(clusterData.id)\n                      }}\n                      style={{zIndex: '103', position: 'absolute', right: '0.5rem', top: '0.5rem'}}/>}\n            <ClusterImages\n                photos={photos}/>\n\n            <div style={{display: 'flex', justifyContent: 'center', textAlign: 'center', alignItems: 'center'}}>\n                <div>{clusterData.name} </div>\n\n            </div>\n\n        </div>\n    );\n\n}\nexport default Cluster\n","import React from 'react';\n\n\nconst Arrow = ({x1, x2, y1, y2, shorten}) => {\n    // shorten - значение, на которое надо сократить срелку с обеих сторон\n    const shiftX = x2 - x1;\n    const shiftY = y2 - y1;\n    if (!shorten) shorten = 0;\n    const lineLength = Math.sqrt(shiftX*shiftX + shiftY*shiftY);\n    const newLength = lineLength - shorten * 2;\n    const minLength = 20;\n    if(shorten && (lineLength < minLength || newLength < minLength)){\n        return <line/>\n    }\n    const lengthFraction = newLength / lineLength;\n    const newShiftX = shiftX * lengthFraction;\n    const newShiftY = shiftY * lengthFraction;\n    x1 += (shiftX - newShiftX) / 2;\n    y1 += (shiftY - newShiftY) / 2;\n    x2 = x1 + newShiftX;\n    y2 = y1 + newShiftY;\n\n    // debugger\n    return (\n        <line x1={x1 + 'px'} y1={y1 + 'px'} x2={x2 + 'px'} y2={y2 + 'px'} stroke=\"black\"/>\n    )\n}\n\nexport default Arrow;\n","import React from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\n\n\nconst ClustersGraph = (props) => {\n    const {sizes: {width, height}, graph} = props;\n    if (!graph)\n        return null;\n    return (\n        <div\n            onMouseMove={(e) => {\n                e.preventDefault();\n                props.dragCluster(e.movementX, e.movementY)\n            }}\n            onMouseUp={() => props.stopDrag()}\n            onMouseLeave={() => {\n                props.stopDrag()\n            }}\n            className={'clustersAnimationsContainer'}>\n            <div className=\"clustersField\" style={{height: height, width: width}}>\n                {graph.nodes.map(node => (\n                    <Cluster\n                        chooseCluster={() => props.selectCluster(node.id)}\n                        selected={props.selectedClusterID === node.id}\n                        highlighted={props.highlightedClusters.includes(node.id)}\n                        x={node.pos.x}\n                        y={node.pos.y}\n                        key={node.id}\n                        clusterData={node.data}\n                        isOverlay={node.id === props.overlayClusterID}\n                        toggleClusterHighlight={props.toggleClusterHighlight}\n                        showCheckbox={props.highlightedClusters.length > 0}\n                    />\n                ))}\n            </div>\n            <svg width={width} height={height}>\n                {\n                    graph.edges.map(item => {\n                            let x1, x2, y1, y2;\n                            x1 = item.from.pos.x;\n                            y1 = item.from.pos.y;\n                            x2 = item.to.pos.x;\n                            y2 = item.to.pos.y;\n\n                            return (\n                                <Arrow\n                                    key={item.from.id + '__' + item.to.id}\n                                    x1={x1}\n                                    y1={y1}\n                                    x2={x2}\n                                    y2={y2}\n                                    shorten={50}\n                                />\n                            )\n                        }\n                    )\n                }\n            </svg>\n        </div>\n    )\n};\n\n\nexport default ClustersGraph;\n\n","const repulsionForce = [-2.4, 1, 10, 80, 25];\nconst attractionForce = [2, 0, 4, 2, 2];\nconst borderRepulsionForce = [-1, 0.5, 10, 20, 0.1];\nconst centralAttractionForce = [1, 1, 2, 2, 0.01 * 0];\n\nconst moveStrength = 5;\n\nclass Vector {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    copy() {\n        return new Vector(this.x, this.y);\n    }\n\n    add(other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    }\n\n    mult(value) {\n        this.x *= value;\n        this.y *= value;\n        return this;\n    }\n\n    div(value) {\n        return this.mult(1 / value);\n    }\n\n    sub(other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this\n    }\n\n    mag() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n}\n\nconst createVector = (x, y) => {\n    return new Vector(x, y);\n};\n\nconst min = (...values) => Math.min(...values);\nconst max = (...values) => Math.max(...values);\n\nexport const getDist = (x, y) => {\n    return Math.sqrt(x*x + y*y);\n};\n\nconst map = (value, currLower, currUpper, targetLower, targetUpper, needBound = false) => {\n    if (needBound)\n        value = min(max(value, currLower), currUpper);\n    value -= currLower;\n    value /= (currUpper - currLower);\n    value *= (targetUpper - targetLower);\n    value += targetLower;\n    return value;\n};\n\n\nclass Node {\n    constructor(node, sizes) {\n        this.id = node.id;\n        this.data = node;\n        this.sizes = sizes;\n        this.maxSize = max(sizes.width, sizes.height);\n        let x, y;\n        if (node['__exist']) {\n            x = node.pos.x;\n            y = node.pos.y;\n        } else {\n            x = Math.random() * sizes.width;\n            y = Math.random() * sizes.height;\n        }\n        this.pos = createVector(x, y);\n        this.velocity = createVector(0, 0);\n        this.lastShift = null;\n        this.lockedPosition = false\n    }\n\n    getData() {\n        return {\n            ...this.data,\n            __exist: true,\n            pos: {\n                x: this.pos.x,\n                y: this.pos.y\n            }\n        }\n    }\n\n    getDistanceWith(x, y) {\n        return createVector(x - this.pos.x, y - this.pos.y).mag()\n    }\n\n    shiftBy(x, y) {\n        this.pos.add(createVector(x, y))\n    }\n\n    moveTo(x, y) {\n        this.pos = createVector(x, y)\n    }\n\n    lockMovement() {\n        this.lockedPosition = true\n    }\n\n    unlockMovement() {\n        this.lockedPosition = false\n    }\n\n    toForceVector(distVector, parameters, direction = 1) {\n        let [pow, lowerBorder, upperBorder, minValue, coef] = parameters;\n\n        let dist = distVector.mag();\n        distVector.div(dist);\n\n        dist = map(dist, minValue, this.maxSize, lowerBorder, upperBorder, true);\n\n        let forceFactor = Math.pow(dist, pow);\n        return distVector.mult(forceFactor * coef * direction)\n    }\n\n    calculateForceWith(other, connected) {\n        let dir = other.pos.copy().sub(this.pos);\n\n        let move = this.toForceVector(dir.copy(), repulsionForce, -1);\n        if (connected)\n            return this.toForceVector(dir, attractionForce).add(move);\n\n        return move\n    }\n\n    calculateForceWithBorders() {\n        let top = createVector(0, max(1, this.pos.y));\n        let left = createVector(max(1, this.pos.x), 0);\n        let bottom = createVector(0, min(-1, this.pos.y - this.sizes.height));\n        let right = createVector(min(-1, this.pos.x - this.sizes.width), 0);\n\n        let center = createVector(this.sizes.width / 2 - this.pos.x, this.sizes.height / 2 - this.pos.y);\n\n        let sum = this.toForceVector(center, centralAttractionForce);\n        sum.add(this.toForceVector(top, borderRepulsionForce));\n        sum.add(this.toForceVector(left, borderRepulsionForce));\n        sum.add(this.toForceVector(bottom, borderRepulsionForce));\n        sum.add(this.toForceVector(right, borderRepulsionForce));\n        return sum;\n    }\n\n    normalizePosition() {\n        const normalizeCoordinate = (value, maxValue) => {\n            return max(min(value, maxValue), 0)\n        };\n\n        this.pos = createVector(\n            normalizeCoordinate(this.pos.x, this.sizes.width),\n            normalizeCoordinate(this.pos.y, this.sizes.height)\n        );\n    }\n\n    applyForce(forceVector) {\n        if (this.lockedPosition)\n            return;\n\n        forceVector.mult(moveStrength);\n\n        this.lastShift = forceVector;\n        this.pos.add(forceVector);\n\n        this.normalizePosition()\n    }\n}\n\n\nexport class Graph {\n    constructor(nodes, edges, sizes) {\n        this.nodes = nodes.map(node => new Node(node, sizes));\n        const nodesDict = {};\n        for (const node of this.nodes)\n            nodesDict[node.id] = node;\n\n        this.nodesDict = nodesDict;\n        this.edges = edges.map(edge => ({from: nodesDict[edge.from], to: nodesDict[edge.to]}));\n        this.sizes = sizes;\n        const edgesDict = {};\n        for (let node of this.nodes)\n            edgesDict[node.id] = [];\n\n        for (let edge of this.edges) {\n            let id1 = edge.from.id;\n            let id2 = edge.to.id;\n            edgesDict[id1].push(id2);\n            edgesDict[id2].push(id1);\n        }\n        this.edgesDict = edgesDict;\n        this.wasUpdated = false;\n    }\n\n    getNearestNode(x, y) {\n        let minDist = 9999999;\n        let bestNode = this.nodes[0];\n        for (let node of this.nodes) {\n            let dist = node.getDistanceWith(x, y);\n            if (dist < minDist) {\n                minDist = dist;\n                bestNode = node;\n            }\n        }\n        return bestNode\n    }\n\n    wornToChange(){\n        this.wasUpdated = false\n    }\n\n    getCompletePercents() {\n        if (!this.wasUpdated){\n            return 0;\n        }\n        let res = 0;\n        for (let node of this.nodes) {\n            res += node.lastShift.mag();\n        }\n        res /= this.nodes.length;\n        res = Math.pow(res, 0.5);\n        return 100 - map(res, 0, 3, 0, 100, true)\n    }\n\n    calculateForces() {\n        let forces = {};\n        for (let node1 of this.nodes) {\n            let id1 = node1.id;\n            let nodeBorderForce = node1.calculateForceWithBorders();\n\n            forces[id1] = createVector(0, 0);\n\n            for (let node2 of this.nodes) {\n                let id2 = node2.id;\n                if (id1 === id2)\n                    continue;\n\n                let connected = false;\n\n                if (this.edgesDict[id1].includes(id2))\n                    connected = true;\n\n                forces[id1].add(node1.calculateForceWith(node2, connected));\n            }\n\n            forces[id1].div(this.nodes.length).add(nodeBorderForce)\n        }\n        return forces;\n    }\n\n    applyForces() {\n        let forces = this.calculateForces();\n        for (let node of this.nodes) {\n            node.applyForce(forces[node.id])\n        }\n        this.wasUpdated = true;\n    }\n}","import React, {createRef} from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\nimport {rand} from '../../utils'\nimport ClustersGraph from \"./ClustersGraph\";\nimport {getDist, Graph} from \"./graphLogic\";\n\n\nconst makeGraphIteration = (graph) => {\n    if (!graph)\n        return;\n    graph.applyForces();\n    return graph\n};\n\nconst updateGraphWith = (graph, clusters, connections, sizes) => {\n    let existingNodesDict = {};\n    if (graph)\n        existingNodesDict = graph.nodesDict;\n\n    const newClustersIDS = clusters.map(item => item.id);\n\n    const newNodes = clusters.map(\n        cluster => (cluster.id in existingNodesDict) ? existingNodesDict[cluster.id].getData() : cluster\n    ).filter(node => newClustersIDS.includes(node.id));\n    return new Graph(newNodes, connections, sizes)\n};\n\n\nconst updateClustersPositionsTimeout = 25;\nconst stopUpdateGraphCutoff = 90;\n\nclass ClustersAnimate extends React.Component {\n    state = {\n        graph: null,\n        sizes: {\n            width: 0,\n            height: 0\n        },\n        overlayClusterID: null,\n        selectedCluster: null,\n        mousePressed: false,\n        liveUpdate: false,\n        selectedClusterObject: null,\n        trajectory: 0\n    };\n\n    updateGraphFrame() {\n        this.setState({\n            graph: makeGraphIteration(this.state.graph)\n        });\n    }\n\n    calculateHeight(){\n        return (this.props.clusters.length - this.props.connections.length / 2 + 5) * 40;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.clustersID !== this.props.clustersID) {\n            const width = this.containerRef.current.offsetWidth;\n            const height = this.calculateHeight();\n            this.setState({\n                    sizes: {\n                        width, height\n                    },\n                    liveUpdate: true,\n                    mousePressed: false,\n                    overlayClusterID: false,\n                    selectedCluster: this.props.selectedClusterID,\n                    graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height})\n                }\n            )\n        } else if (this.state.liveUpdate) {\n            if (this.state.graph.getCompletePercents() >= stopUpdateGraphCutoff)\n                this.setState({liveUpdate: false});\n            else\n                setTimeout(this.updateGraphFrame.bind(this), updateClustersPositionsTimeout);\n        }\n    }\n\n    componentDidMount() {\n        const width = this.containerRef.current.offsetWidth;\n        const height = this.calculateHeight();\n        this.setState({\n            sizes: {width, height},\n            graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height}),\n            liveUpdate: true\n        });\n    }\n\n    selectCluster(id) {\n        let nearestNode = this.state.graph.nodesDict[id];\n        nearestNode.lockMovement();\n        this.state.graph.wornToChange();\n        this.setState({\n            mousePressed: true,\n            selectedCluster: id,\n            selectedClusterObject: nearestNode,\n            trajectory: 0\n        });\n    }\n\n    stopDrag() {\n        if(this.state.selectedClusterObject){\n            if(this.state.trajectory < 5){\n                this.props.selectCluster(this.state.selectedCluster)\n            }\n            this.state.selectedClusterObject.unlockMovement();\n            this.setState({\n                mousePressed: false,\n                selectedClusterObject: null,\n                liveUpdate: true\n            });\n        }\n    }\n\n    dragCluster(x, y){\n        if (this.state.selectedClusterObject) {\n            this.state.selectedClusterObject.shiftBy(x, y);\n            this.setState({\n                graph: this.state.graph,\n                trajectory: this.state.trajectory + getDist(x, y)\n            })\n        }\n    }\n\n    toggleClusterHighlight(id) {\n        if (!this.props.highlightedClusters.includes(id))\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters,\n                id\n            ]);\n        else\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters.filter(item => item !== id)\n            ]);\n    }\n\n    render() {\n        this.containerRef = createRef();\n        return (\n            <div ref={this.containerRef} style={{margin: '35px'}}>\n                <ClustersGraph\n                    graph={this.state.graph}\n                    sizes={this.state.sizes}\n                    dragCluster={this.dragCluster.bind(this)}\n                    stopDrag={this.stopDrag.bind(this)}\n                    selectCluster={this.selectCluster.bind(this)}\n                    selectedClusterID={this.props.selectedClusterID}\n                    highlightedClusters={this.props.highlightedClusters}\n                    toggleClusterHighlight={this.toggleClusterHighlight.bind(this)}\n                />\n            </div>\n        )\n    }\n}\n\nexport default ClustersAnimate;\n","import React from 'react';\nimport ClusterImages from \"./ImagesGroup\";\nimport {Icon} from \"semantic-ui-react\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {connect} from \"react-redux\";\nimport {getEntitiesColors, getSelectedItemsIDS} from \"../../store/selectors\";\n\n\nconst ClusterLine = (props) => {\n    const {toggleOpen, cluster, opened, haveChildren, selected, selectCluster, indent} = props;\n    const {name, count, photos, id} = cluster;\n    let containerClasses = ['clusterLine'];\n    if(props.selectedEntities.map(id=>props.entitiesColors[id].id).includes(id))\n        containerClasses.push('highlightedClusterLine');\n    if(selected)\n        containerClasses.push('selectedClusterLine');\n    return (\n        <div\n            style={{marginLeft: indent * 10 + 'px'}}\n            className={containerClasses.join(' ')}\n            onClick={e => {\n                e.stopPropagation();\n                selectCluster(cluster.id)\n            }}\n        >\n            {\n                haveChildren ?\n                    <Icon style={{marginLeft: 'auto'}} onClick={e => {\n                        e.stopPropagation();\n                        toggleOpen()\n                    }} link name={opened ? 'caret down' : 'caret right'}/>\n                    : <div/>\n            }\n            <div className={'clusterName'}>{name}</div>\n            <ClusterImages photos={photos}/>\n            <div style={{margin: 'auto'}}>{count}</div>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    selectedEntities: getSelectedItemsIDS(state),\n    entitiesColors: getEntitiesColors(state)\n});\n\nexport default connect(mapStateToProps)(ClusterLine);\n","import React, {useEffect, useState} from 'react';\nimport ClusterLine from \"./ClusterLine\";\nimport {connect} from \"react-redux\";\nimport {getClusterParent, getClustersTreeDict} from \"../../store/selectors\";\n\nconst getAllChildrenIDS = (clustersTree, parentID, withParent = false) => {\n    if (!(parentID in clustersTree)) {\n        if (withParent)\n            return [parentID];\n        return [];\n    }\n\n    return clustersTree[parentID].map(child => getAllChildrenIDS(clustersTree, child.id, true)).flat();\n};\n\nconst ClustersTree = (props) => {\n    let {clusters, clustersID, parentID, level, selectedClusterID, selectCluster, clustersTree} = props;\n    if (!level)\n        level = 0;\n    let currLevelClusters = clustersTree[parentID];\n\n    const [openedClusters, setOpenedClusters] = useState(currLevelClusters.map(item=>item.id));\n\n\n    const toggleOpen = (clusterID) => {\n        if (openedClusters.includes(clusterID))\n            setOpenedClusters(openedClusters.filter(item => item !== clusterID));\n        else\n            setOpenedClusters([...openedClusters, clusterID]);\n    };\n\n    return (\n        <div>\n            {\n                currLevelClusters.map(cluster => (\n                    <div key={cluster.id}>\n                        <ClusterLine\n                            indent={level}\n                            selectCluster={selectCluster}\n                            cluster={cluster}\n                            selected={cluster.id === selectedClusterID}\n                            opened={openedClusters.includes(cluster.id)}\n                            toggleOpen={() => toggleOpen(cluster.id)}\n                            haveChildren={clusters.filter(child => getClusterParent(child) === cluster.id).length > 0}\n                        />\n                        {\n                            openedClusters.includes(cluster.id) && clustersTree[cluster.id] &&\n                            <ClustersTree\n                                {...props} level={level + 1}\n                                parentID={cluster.id}\n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n};\n\n\n\n\nconst ClustersTreeWrapper = (props) => {\n\n    return (\n        <div style={{maxHeight: '70vh', overflow: 'auto', padding: '3px'}}>\n            <ClustersTree {...props} parentID={null}/>\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state, props) => {\n\n    return {\n        clustersTree: getClustersTreeDict(state)\n    }\n};\n\nconst mapDispatchToProps = ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersTreeWrapper);\n","import React from \"react\";\nimport {Button, Segment} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport NoContent from \"../utils/NoContent\";\nimport {deleteCluster, reloadCluster, selectCluster, setHighlightedClusters} from \"../../store/clustersReducer\";\nimport {clearAll} from \"../../store/workSpaceReducer\";\nimport ClustersAnimate from \"./ClustersAnimate\";\nimport {shuffle} from \"../../utils\";\nimport ClustersTree from \"./ClustersTree\";\nimport {getClusters, getClustersIDS} from \"../../store/selectors\";\nimport {deleteSelectedCluster} from \"../../store/actions\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ClustersPanel = (props) => {\n    const noContent = <NoContent\n        popup={\"Создайте объект в рабочем поле (центральное), чтобы добавить кластер\"}\n        text={'Кластеров пока нет'}\n    />;\n\n    return (\n        <UISegment className={'clustersPanel'}\n\n        >{\n            props.haveControlButtons &&\n            (<Button.Group compact size={'tiny'} widths='3' style={{marginBottom: '1rem'}}>\n                <Button onClick={props.clearAll} basic color={'red'} icon={'delete'} content={'Очистить'}/>\n                <Button onClick={props.deleteCluster} basic color={'orange'} icon={'trash alternate outline'}\n                        content={'Удалить'}/>\n                <Button onClick={props.reloadCluster} basic color={'blue'} icon={'sync alternate'}\n                        content={'Обновить'}/>\n            </Button.Group>)\n        }\n\n            {props.clusters.length === 0\n                ? noContent\n                : <ClustersTree {...props}/>\n            }\n            {\n                props.haveSelectionActions &&\n                (<Button.Group compact size={'tiny'} widths='2' style={{marginBottom: '0rem'}}>\n                    <Button onClick={() => props.setHighlightedClusters([])} color={'grey'} basic\n                            icon={'circle outline'}\n                            content={'Снять выделение'}/>\n                    <Button onClick={() => props.setHighlightedClusters(props.clustersID)} color={'grey'} basic\n                            icon={'circle'}\n                            content={'Выделить все'}/>\n                </Button.Group>)\n            }\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => {\n\n    return {\n        clusters: getClusters(state),\n        clustersID: getClustersIDS(state),\n        connections: state.workSpace.clusters.connections,\n        selectedClusterID: state.workSpace.clusters.selectedClusterID,\n        haveControlButtons: state.workSpace.clusters.items.length > 0,\n        highlightedClusters: state.workSpace.clusters.highlightedClusters,\n        haveSelectionActions: state.workSpace.clusters.highlightedClusters.length > 0\n    }\n};\n\nconst mapDispatchToProps = {\n    selectCluster,\n    deleteCluster: deleteSelectedCluster,\n    reloadCluster,\n    clearAll,\n    setHighlightedClusters\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersPanel)","import React from 'react';\nimport style from './style.less'\n\n\nconst Link = (props) => {\n    const {text, url, style} = props;\n    return (\n        <a\n            style={style}\n            onMouseDown={e=>e.stopPropagation()}\n            onClick={e=>e.stopPropagation()}\n            className=\"customLink\"\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n        >\n            <div>{text}</div>\n        </a>\n    )\n};\n\nexport default Link;\n","import React, {useEffect, useState} from 'react';\nimport {\n    Sigma,\n    RandomizeNodePositions,\n    ForceAtlas2, SigmaEnableWebGL\n} from 'react-sigma';\nimport {connect} from \"react-redux\";\nimport {colorByNumber, listHash} from \"../../utils\";\nimport {getEntities, getEntitiesColors} from \"../../store/selectors\";\nimport {Icon, Image} from \"semantic-ui-react\";\nimport Link from \"../utils/Link\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {Button, UIGroup} from \"../utils/UI\";\n\nconst getNodeColorAndSize = (entity, selectedEntities, visibleEntities, entitiesColors) => {\n    let size = 5;\n    if (selectedEntities.includes(entity.id))\n        size = 8;\n    return {\n        size: size,\n        color: colorByNumber(entitiesColors[entity.id].id)\n    };\n    let color = entity.properties.sex === 1 ? '#ff5555' : '#5555ff';\n    if (!entity.valid)\n        color = '#aaa';\n    if (!visibleEntities.includes(entity.id)) {\n        // color = LightenDarkenColor(color, -40);\n        color = '#777';\n        size = 4\n    }\n    if (selectedEntities.includes(entity.id)) {\n        color = '#0a0';\n    }\n\n    return {\n        color: color,\n        size: size\n    };\n};\n\nclass UpdateNodeProps extends React.Component {\n\n    componentWillReceiveProps({sigma, selectedEntities, visibleEntities, entitiesColors}) {\n\n        sigma.graph.nodes().forEach(n => {\n            const updateNode = {\n                ...getNodeColorAndSize(n.entity, selectedEntities, visibleEntities, entitiesColors),\n            };\n            Object.assign(n, updateNode)\n        });\n        sigma.refresh();\n\n    }\n\n    render = () => null\n}\n\n\nconst GraphActiveHint = (props) => {\n    const {x, y, entity, onClick} = props;\n\n    const style = {\n        left: x - 55,\n        top: y - 150\n    };\n    return (\n        <div className={'graphActiveEntity'} style={style} onClick={e => {\n            e.stopPropagation();\n            onClick(entity)\n        }}>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link text={entity.name} url={entity.url}/>\n        </div>\n    )\n};\n\nconst GraphSelectedEntity = (props) => {\n    const {entity, setSelectedEntity, highlightColor, selectCluster} = props;\n\n    if (!entity) return null;\n    return (\n        <div className={'graphActiveEntity'} style={{position: 'absolute', left: 10, top: 10}}>\n            <Icon onClick={() => setSelectedEntity(null)} link style={{position: 'absolute', top: 0, right: 20}}\n                  name={'close'}/>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link style={{marginBottom: '1rem'}} text={entity.name} url={entity.url}/>\n            <UIGroup>\n                <Button color={colorByNumber(entity.colorCluster.id)}\n                        onClick={() => selectCluster(entity.colorCluster.id)}\n                        text={'Перейти'}/>\n                <Button color={colorByNumber(entity.colorCluster.id)} onClick={() => highlightColor(entity.id)}\n                        text={'Выделить цвет'}/>\n            </UIGroup>\n        </div>\n\n    )\n};\n\n\nconst EntitiesGraph = (props) => {\n    const {selectedEntities, connections, toggleItemSelection, entities, entitiesColors} = props;\n    const visibleEntitiesIDS = props.visibleEntities.map(item => item.id);\n    const [activeEntity, setActiveEntity] = useState(null);\n    const [activeEntityPos, setActiveEntityPos] = useState({});\n    const [selectedEntity, setSelectedEntity] = useState(null);\n\n    useEffect(() => {\n        setActiveEntity(null);\n        setSelectedEntity(null);\n    }, [listHash(entities)]);\n\n    const generateGraph = () => {\n        return {\n            nodes: entities.map(entity => ({\n                id: entity.id,\n                // label: entity.name,\n                ...getNodeColorAndSize(entity, selectedEntities, visibleEntitiesIDS, entitiesColors),\n                entity: {...entity, colorCluster: entitiesColors[entity.id]}\n            }))\n            ,\n            edges: Object.entries(connections).map(([firstID, connectedIDS]) =>\n                connectedIDS.map(secondID => ({\n                    id: firstID + secondID,\n                    source: firstID,\n                    target: secondID,\n                }))).flat()\n        }\n    };\n\n    const highlightColor = (id) => {\n        const color = entitiesColors[id];\n        const sameColorEntities = entities.filter(entity => entitiesColors[entity.id] === color).map(item => item.id);\n        props.selectEntities(sameColorEntities);\n    };\n\n    const graphSettings = {\n        defaultNodeColor: '#ec5148',\n        defaultEdgeColor: '#ccc',\n        edgeColor: 'default',\n        drawEdges: true,\n        labelThreshold: 100,\n        minNodeSize: 0,\n        maxNodeSize: 0\n    };\n\n    const graphStyle = {\n        height: '700px'\n    };\n\n    const selectNode = entity => {\n        if (!entity) {\n            setActiveEntity(null);\n            setSelectedEntity(null);\n            return;\n        }\n        setSelectedEntity(entity);\n        toggleItemSelection(entity.id);\n    };\n\n    const onClickNode = (node) => {\n        selectNode(node.entity);\n    };\n\n    const onOverNode = (node) => {\n        setActiveEntityPos({x: node['cam0:x'], y: node['cam0:y']});\n        setActiveEntity(node.entity)\n    };\n\n    const onOutNode = (node) => {\n        setActiveEntity(null)\n    };\n\n    const graphID = entities.reduce((acc, val) => acc + val.id, '').hashCode();\n\n    return (\n        <div\n            key={graphID}\n        >\n            <Sigma\n                renderer=\"webgl\"\n                graph={generateGraph()}\n                settings={graphSettings}\n                style={graphStyle}\n                onClickNode={(e) => {\n                    onClickNode(e.data.node)\n                }}\n                onOverNode={(e) => onOverNode(e.data.node)}\n                onOutNode={(e) => onOutNode(e.data.node)}\n            >\n                <SigmaEnableWebGL/>\n                <RandomizeNodePositions>\n                    <ForceAtlas2 worker\n                                 scalingRatio={1}\n                                 slowDown={10}\n                                 linLogMode={false}\n                                 iterationsPerRender={1}\n                                 timeout={entities.length / 100 * 1000}\n                    />\n\n                    <UpdateNodeProps entitiesColors={entitiesColors}\n                                     visibleEntities={visibleEntitiesIDS}\n                                     selectedEntities={selectedEntities}/>\n                </RandomizeNodePositions>\n            </Sigma>\n            {\n                activeEntityPos && activeEntity &&\n                <GraphActiveHint x={activeEntityPos.x} y={activeEntityPos.y} entity={activeEntity}\n                                 onClick={onClickNode}/>\n            }\n            {\n                selectedEntity &&\n                <GraphSelectedEntity\n                    highlightColor={highlightColor}\n                    setSelectedEntity={selectNode}\n                    selectCluster={props.selectCluster}\n                    entity={selectedEntity}/>\n            }\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state) => {\n    return {\n        connections: state.workSpace.entities.connections,\n        entities: getEntities(state),\n        entitiesColors: getEntitiesColors(state)\n    }\n};\n\nconst mapDispatchToProps = ({\n    selectCluster\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesGraph);\n","import {Visibility, Image, Placeholder} from 'semantic-ui-react'\nimport React from 'react';\nimport defaultImg from '../../media/defaultAvatar.png'\n\nexport default class LazyImage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            src: defaultImg\n        };\n        this.ref = React.createRef();\n    }\n\n    showImage = () => {\n        this.setState({\n            show: true,\n        })\n    };\n\n    // checkImageOnScreen() {\n    //     const inRange = (value, min, max) => {\n    //         return (value >= min) && (value <= max);\n    //     };\n    //     const {x, y} = this.ref.current.getBoundingClientRect();\n    //     if (inRange(x, 0, window.screen.width) && inRange(y, 0, window.screen.height)) {\n    //         console.log('show avatar');\n    //\n    //         this.setState({show: true})\n    //     }\n    // }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.ref.current)\n            this.ref.current.update()\n    }\n\n    render() {\n        const {src} = this.props;\n        if (!this.state.show) {\n            return (\n                <div>\n                    <Visibility ref={this.ref} fireOnMount onOnScreen={this.showImage}>\n                        <Placeholder style={{height: 100, width: 90}}>\n                            <Placeholder.Image/>\n                        </Placeholder>\n                    </Visibility>\n                </div>\n            )\n        }\n        return <Image {...this.props} src={this.state.src} onLoad={() => this.setState({src})}/>\n    }\n}","import React from \"react\";\nimport \"./style.less\";\nimport lockImg from \"./lock.png\";\nimport verifyImg from \"../../../media/vkverified.svg\";\nimport LazyImage from \"../../utils/LazyImage\";\nimport Link from \"../../utils/Link\";\n\nexport default function EntityItem(props) {\n    const entity = props.entity;\n    let baseClasses = [\"userContainer \"];\n    if (props.selected) baseClasses.push(\"choosed\");\n    let properties = {};\n    if(entity.properties)\n        properties = entity.properties;\n    const borderColor = properties.color;\n    const lockIcon = <img src={lockImg} className=\"lock\" alt=\"lock\"/>;\n    const verifyIcon = <img src={verifyImg} className=\"verified\" alt=\"verified\"/>;\n    let name = entity.name;\n    const maxNameLength = 16;\n    if(name.length > maxNameLength){\n        name = name.slice(0, maxNameLength);\n        name += '...'\n    }\n    return (\n        <div\n            onClick={props.toggleSelection}\n            onContextMenu={\n                e => {\n                    e.preventDefault();\n                    props.toggleSelection();\n                }\n            }\n            className={baseClasses.join(\" \")}>\n            <LazyImage\n                onMouseMove={e => e.preventDefault()}\n                onMouseDown={e => e.preventDefault()}\n                style={{borderColor: borderColor}}\n                size={'tiny'}\n                circular\n                bordered={false}\n                centered\n                className=\"avatar\"\n                title={entity.name}\n                src={entity.img}\n                alt=\"\"\n            />\n            {entity.private === 1 && lockIcon}\n            {entity.verified === 1 && verifyIcon}\n            <Link url={entity.url} text={name}/>\n\n        </div>\n    );\n}\n","import React, {useEffect, useState} from 'react';\nimport EntityItem from \"./EntityAvatar/Entity\";\nimport {listHash} from \"../../utils\";\n\nconst baseRenderedItemsCount = 40;\n\nconst EntitiesList = ({visibleEntities, toggleItemSelection, ...props}) => {\n    const [visibleItemsCount, setVisibleItemsCount] = useState(baseRenderedItemsCount);\n    console.log('DRAW ENTITIES');\n    const onScroll = (percents) => {\n        if (percents > 0.7) {\n            if (visibleEntities.length > visibleItemsCount) {\n                console.log(percents);\n                setVisibleItemsCount(Math.max(visibleItemsCount + 15, parseInt(visibleItemsCount * 1.2)))\n            }\n        }\n    };\n    useEffect(() => {\n        setVisibleItemsCount(baseRenderedItemsCount);\n    }, [listHash(visibleEntities)]);\n\n    const entitiesToShow = visibleEntities.slice(0, visibleItemsCount);\n    return (\n        <div className=\"entitiesContainer\" style={{maxHeight: '70vh', overflow: 'auto'}}\n             onMouseMove={e => e.preventDefault()}\n             onScroll={(e) => onScroll(e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight))}>\n\n\n            {entitiesToShow.map((obj) => (\n                <EntityItem\n                    entity={obj}\n                    key={obj.id}\n                    selected={props.selectedEntities.includes(obj.id)}\n                    toggleSelection={() => toggleItemSelection(obj.id)}\n                />\n            ))}\n        </div>\n    )\n};\n\nexport default EntitiesList;\n","import React from 'react';\n\n\nconst Scrolling = (props) => {\n\n    return (\n        <div style={{maxHeight: '70vh', overflow: 'auto'}}>\n            {\n                props.children\n            }\n        </div>\n    )\n};\n\nexport default Scrolling;\n","import React from 'react';\nimport EntityItem from \"./EntityAvatar/Entity\";\nimport {connect} from \"react-redux\";\nimport Scrolling from \"../utils/Scrolling\";\n\n\nconst ConnectionItem = props => {\n    const entity = props.entity;\n    const first = entity.items[0];\n    const second = entity.items[1];\n    return (\n        <>\n            <div className={'entityConnectionItem'}>\n            <EntityItem entity={first} toggleSelection={() => props.toggleItemSelection(first.id)}\n                        selected={props.selectedEntities.includes(first.id)}/>\n            <EntityItem entity={second} toggleSelection={() => props.toggleItemSelection(second.id)}\n                        selected={props.selectedEntities.includes(second.id)}\n            />\n            </div>\n        </>\n    )\n};\n\n\nconst EntitiesConnections = (props) => {\n    const visibleEntities = props.visibleEntities;\n    return (\n        <Scrolling>\n        {\n            visibleEntities.map(item => (\n                <ConnectionItem entity={item} {...props}/>\n            ))\n        }\n        </Scrolling>\n    )\n};\n\n\nexport default EntitiesConnections;\n","import React, {useEffect, useState} from \"react\";\nimport {Checkbox, Dimmer, Input, Loader, Radio, Segment} from \"semantic-ui-react\";\n\nimport {connect} from \"react-redux\";\nimport './style.less'\nimport NoContent from \"../utils/NoContent\";\nimport {\n    selectEntities,\n    setEntitiesSearchValue,\n    setSelectionMode,\n    toggleEntitySelection\n} from \"../../store/entitiesReducer\";\nimport SearchIcon from \"../utils/SearchIcon\";\nimport EntitiesGraph from \"./EntitiesGraph\";\nimport EntitiesList from \"./EntitiesList\";\nimport {getCurrentClusterData, getEntities} from \"../../store/selectors\";\nimport {Button, UISegment} from \"../utils/UI\";\nimport EntitiesConnections from \"./EntitiesConnections\";\n\n\nconst SelectionComponent = ({buttonAction}) => {\n    const [activeButton, setActiveButton] = useState(false);\n    return (\n        <>{\n            activeButton ?\n                <Button onClick={buttonAction}\n                        onMouseLeave={() => setActiveButton(false)}\n                        text={'Обычный режим'} compact basic/> :\n                <div onMouseEnter={() => setActiveButton(true)}>{'Выделение'}</div>\n        }\n\n        </>\n    )\n};\n\n\nconst EntitiesPanel = ({searchValue, selectEntities, entitiesIDS, entities, isLoading, setSearchValue, ...props}) => {\n    const noContent = <NoContent height={500} text={'Тут будут пользователи, группы, посты или прочая медиа информация'}\n                                 popup={'Введите запрос в поисковую строку сверху'}/>;\n    const selectedEntities = props.selectedEntities;\n    const [isNotValidHidden, changeNotValidHiddenMode] = useState(true);\n    const [isGraphView, setGraphView] = useState(false);\n    const [currClusterID, setCurrClusterID] = useState(props.clusterID);\n    let representType = undefined;\n    if (props.clusterData) representType = props.clusterData.params.representType;\n\n    const isEntityVisible = (entity) => {\n        const fitToSearch = (search, value) => {\n            if (!search)\n                return true;\n            if (!value)\n                return false;\n            return String(value).toLowerCase().includes(search.toLowerCase());\n        };\n        const ids = searchValue.split(', ');\n        if (ids.length > 1) {\n            return (!isNotValidHidden || entity.valid) && ids.includes(entity.id);\n        }\n        return (!isNotValidHidden || entity.valid) && (\n            fitToSearch(searchValue, entity.name) ||\n            fitToSearch(searchValue, entity.username) ||\n            fitToSearch(searchValue, entity.id)\n        );\n    };\n\n    const selectEntity = (entityID) => {\n        props.toggleEntitySelection(entityID);\n    };\n    useEffect(() => {\n        if (currClusterID !== props.clusterID) {\n            setCurrClusterID(props.clusterID);\n            setGraphView(false);\n        }\n    }, [props.clusterID])\n\n\n    const visibleEntities = entities.filter(item => isEntityVisible(item));\n\n    // if (!visibleEntities.length && isNotValidHidden)\n    //     changeNotValidHiddenMode(false);\n\n    const menuItemStyle = {display: 'flex', alignItems: 'center'};\n    return (\n        <Dimmer.Dimmable blurring as={UISegment} clearing dimmed={false}\n                         style={{display: 'flex', flexDirection: 'column', maxHeight: '100%'}}>\n            {\n                entities.length > 0 ?\n                    <>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            marginBottom: '1rem',\n                            marginLeft: '0.5rem',\n                            marginRight: '0.5rem',\n                            justifyContent: 'space-between'\n                        }}>\n                            <Input value={searchValue}\n                                   onChange={(e, data) => setSearchValue(data.value)}\n                                   size={'mini'}\n                                   icon={<SearchIcon isInputStringEmpty={!searchValue.length}\n                                                     onClose={() => setSearchValue('')}/>}\n                            />\n                            <div style={menuItemStyle}>\n                                {\n                                    !props.selectionMode ?\n                                        <Button text={'Режим выделения'} onClick={() => props.setSelectionMode(true)}\n                                                compact\n                                                basic/> :\n                                        <>\n                                            <SelectionComponent buttonAction={() => props.setSelectionMode(false)}/>\n                                            <Checkbox\n                                                style={{marginLeft: '0.5rem'}}\n                                                indeterminate={\n                                                    selectedEntities.length > 0 && (visibleEntities.length !== selectedEntities.length)\n                                                }\n                                                checked={visibleEntities.length === selectedEntities.length}\n                                                onChange={(e, data) => {\n                                                    const selected = data.checked;\n                                                    if (selected)\n                                                        selectEntities(visibleEntities.map(item => item.id));\n                                                    else\n                                                        selectEntities([]);\n                                                }}\n                                            />\n                                        </>\n                                }\n                            </div>\n                            <div style={menuItemStyle}>\n                                <div style={{paddingRight: '0.5rem'}}>Скрыть невалид</div>\n                                <Checkbox onClick={((e, data) => changeNotValidHiddenMode(data.checked))}\n                                          checked={isNotValidHidden}\n                                />\n                            </div>\n                            <div style={menuItemStyle}>\n\n                                <div style={{marginRight: '1rem'}}>Список</div>\n                                <Radio checked={isGraphView}\n                                       onChange={(e, data) => setGraphView(data.checked)} toggle/>\n                                <div style={{marginLeft: '1rem'}}>Граф</div>\n                            </div>\n                            <Dimmer inverted active={isLoading}>\n                                <Loader style={{top: '150px'}} active/>\n                            </Dimmer>\n\n                        </div>\n                        {\n                            !representType &&\n                            <>\n                                {\n                                    isGraphView ?\n                                        <EntitiesGraph\n                                            visibleEntities={visibleEntities} toggleItemSelection={selectEntity}\n                                            selectedEntities={selectedEntities}\n                                            selectEntities={selectEntities}\n                                        /> :\n                                        <EntitiesList visibleEntities={visibleEntities}\n                                                      toggleItemSelection={selectEntity}\n                                                      selectedEntities={selectedEntities}/>\n                                }\n                            </>\n                        }\n                        {\n                            representType === 'connections' &&\n                            <EntitiesConnections\n                                visibleEntities={visibleEntities} toggleItemSelection={selectEntity}\n                                selectedEntities={selectedEntities}\n                                selectEntities={selectEntities}\n                            />\n                        }\n\n                    </> : noContent\n            }\n\n        </Dimmer.Dimmable>\n    )\n\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        entitiesIDS: state.workSpace.entities.items,\n        entities: getEntities(state),\n        isLoading: state.workSpace.entities.isLoading,\n        selectedEntities: state.workSpace.entities.selectedItems,\n        searchValue: state.workSpace.entities.searchValue,\n        selectionMode: state.workSpace.entities.selectionMode,\n        clusterID: state.workSpace.clusters.selectedClusterID,\n        clusterData: getCurrentClusterData(state)\n    }\n};\n\nconst mapDispatchToProps = {\n    setSelectionMode,\n    selectEntities,\n    toggleEntitySelection,\n    setSearchValue: setEntitiesSearchValue\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesPanel);\n","import React, {Component} from \"react\";\nimport \"./style.less\";\n\n\nexport default class Hints extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeIndex: 0\n        };\n        document.onkeydown = e => {\n            switch (e.keyCode) {\n                case 13:\n                    this.props.chooseElement(this.props.values[this.state.activeIndex]);\n                    break;\n                case 27:\n                    this.props.unmountHints();\n                    break;\n                case 38:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.max(this.state.activeIndex - 1, 0)\n                    });\n                    break;\n                case 40:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.min(\n                            this.state.activeIndex + 1,\n                            this.props.values.length - 1\n                        )\n                    });\n                    break;\n                default:\n                    break;\n            }\n        };\n    }\n\n    componentWillUnmount() {\n        document.onkeydown = undefined;\n    }\n\n    render() {\n        const {values} = this.props;\n        return (\n            <div\n                style={{marginLeft: this.props.marginLeftSymbols * 7 + \"px\"}}\n                id=\"hintsList\"\n            >\n                {values.map((name, idx) => (\n                    <div\n                        onMouseDown={e => {\n                            this.props.chooseElement(\n                                this.props.values[Number(e.target.getAttribute(\"index\"))]\n                            );\n                        }}\n                        key={name}\n                        index={idx}\n                        className={\n                            \"hintsListItem \" +\n                            (this.state.activeIndex === idx && \"activeHint\")\n                        }\n                    >\n                        {name}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport {Segment, Input, Message, Icon} from \"semantic-ui-react\";\nimport \"./style.less\";\nimport {connect} from \"react-redux\";\nimport {\n    closeMessage,\n    executeMainScreenQuery,\n    executeQuery,\n    removeHints,\n    selectHint,\n    typeSymbol\n} from \"../../store/searchReducer\";\nimport Hints from \"./SearchHints\";\n\nconst SearchPanel = (props) => {\n    const [focused, setFocus] = React.useState(false);\n    const value = (focused && !props.placeholder.startsWith('Введите') && !props.value.length) ?\n        props.placeholder :\n        props.value;\n    const beginExecuteQueryString = (query) => {\n        if(!props.error){\n            props.executeQuery(query);\n        }\n    };\n    return (\n        <Segment basic style={{marginBottom: \"1rem\", padding: 0}}>\n            {\n                props.message.draw &&\n                <Message\n                    error={props.message.error}\n                    warning={props.message.warning}\n                >\n                    <Icon onClick={props.closeMessage} name='close'/>\n                    <Message.Header>{props.message.header}</Message.Header>\n                    <p>\n                        {props.message.body}\n                    </p>\n                </Message>\n            }\n            <Input\n                onChange={(e, data) => props.typeSymbol(data.value)}\n                fluid\n                onFocus={(e) => {\n                    setFocus(true)\n                }}\n                onBlur={() => {\n                    props.removeHints();\n                    setFocus(false);\n                }}\n                loading={props.loading}\n                error={props.error}\n                value={value}\n                icon={{\n                    name: \"search\",\n                    link: true,\n                    onClick: e => beginExecuteQueryString(props.value)\n                }}\n                placeholder={props.placeholder}\n                onKeyDown={e => {\n                    if (e.keyCode === 13 && !props.hints.length) {\n                        beginExecuteQueryString(value)\n                    }\n                }}\n            />\n            {props.hints.length > 0 && (\n                <Hints\n                    marginLeftSymbols={props.value.length}\n                    chooseElement={props.selectHint}\n                    unmountHints={props.removeHints}\n                    values={props.hints}\n                />\n            )}\n        </Segment>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    hints: state.workSpace.search.currentHints,\n    value: state.workSpace.search.queryString,\n    loading: state.workSpace.search.isLoading,\n    placeholder: state.workSpace.search.placeholder,\n    error: state.workSpace.search.isError,\n    warning: state.workSpace.search.isWarning,\n    message: state.workSpace.search.message,\n});\nconst mapDispatchToProps = {\n    executeQuery: executeMainScreenQuery,\n    typeSymbol,\n    selectHint,\n    removeHints,\n    closeMessage\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPanel)\n","import React from \"react\";\nimport {clearLocalStorage, loadState} from \"./store/localStorage\";\nimport {Button} from \"./components/utils/UI\";\nimport {clearAll} from \"./store/workSpaceReducer\";\nimport {connect} from \"react-redux\";\n\nclass ErrorHandler extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false};\n    }\n\n    static getDerivedStateFromError(error) {\n        // Обновить состояние с тем, чтобы следующий рендер показал запасной UI.\n\n        return {hasError: true};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Можно также сохранить информацию об ошибке в соответствующую службу журнала ошибок\n        console.log('FRONT ERROR has occurred!')\n        // this.setState({hasError: true})\n    }\n\n    clickReturn() {\n        this.setState({hasError: false});\n        this.props.clearAll();\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // Можно отрендерить запасной UI произвольного вида\n            return <>\n                <div style={{margin: '3rem'}}>\n                    <h1>Что-то пошло не так!</h1>\n                    <h2> Опишите пожалуйста сценарий, который привел к данной ошибке (что вы делали в этот момент) в\n                        сообщении обратной связи (кнопка справа сверху на сайте), это поможет предотвратить появление\n                        данной ошибки впредь.</h2>\n                    <Button text={'Вернуться на сайт'} onClick={this.clickReturn.bind(this)}/>\n                    <h3>Внимание! После нажатия на кнопку все данные на сайте будут сброшены. Это никак не повлияет на\n                        ваш\n                        аккаунт</h3>\n                    <h3>Нужно будет заново зарегистрироваться или ввести все запросы по новой (если вы не\n                        авторизованы)</h3>\n                </div>\n            </>;\n        }\n\n        return this.props.children;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n\n    }\n};\n\nconst mapDispatchToProps = ({\n    clearAll\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorHandler);","import React from \"react\";\nimport \"./_variables.less\";\nimport \"semantic-ui-less/semantic.less\";\nimport './utils'\n\nimport {Container, Grid} from \"semantic-ui-react\";\n\nimport PageHeader from \"./components/PageHeader/PageHeader\";\nimport ControlPanel from \"./components/ControlPanel/ControlPanel\";\nimport ClustersPanel from \"./components/ClustersPanel/ClustersPanel\";\nimport EntitiesPanel from \"./components/EntitiesPanel/EntitiesPanel\";\nimport SearchPanel from \"./components/SearchPanel/SearchPanel\";\nimport ErrorHandler from \"./ErrorHandler\";\n\n\nfunction DesktopInterface() {\n    return (\n        <ErrorHandler>\n            <Container\n                style={{padding: \"3rem\", width: '90vw', height: '100vh', display: 'flex', flexDirection: 'column'}}>\n                <PageHeader/>\n                <SearchPanel/>\n\n                <Grid columns=\"equal\" style={{flexGrow: '1'}}>\n                    <Grid.Column width={4}>\n                        <ClustersPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={7}>\n                        <EntitiesPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={5}>\n                        <ControlPanel/>\n                    </Grid.Column>\n                </Grid>\n            </Container>\n        </ErrorHandler>\n    );\n}\n\nexport default DesktopInterface;\n","import React from 'react';\nimport mobilePicture from './mobile.jpg'\n\nconst MobileInterface = (props) => {\n\n    return (\n        <div className={'mobileScreen'}>\n            <h3>NTrail</h3>\n            <div >К сожалению сайт пока не имеет мобильной версии. Зайтиде с компа...</div>\n            <img style={{margin:'1rem'}} src={mobilePicture} alt={''}/>\n        </div>\n    )\n};\n\nexport default MobileInterface;\n","import React from \"react\";\n\nimport {\n    BrowserView,\n    MobileView,\n    isBrowser,\n    isMobile\n} from \"react-device-detect\";\nimport DesktopInterface from \"./desktop\";\nimport MobileInterface from \"./mobile\";\nimport style from './style.less'\n\nfunction App() {\n    return (\n        <>\n           <BrowserView>\n               <DesktopInterface/>\n           </BrowserView>\n            <MobileView>\n                <MobileInterface/>\n            </MobileView>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {store} from './store/store.js'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}