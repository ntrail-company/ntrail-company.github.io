(this.webpackJsonpntrail=this.webpackJsonpntrail||[]).push([[0],{240:function(e,t,n){},283:function(e,t,n){},305:function(e,t,n){e.exports=n.p+"static/media/2.9ed51b09.svg"},306:function(e,t,n){e.exports=n.p+"static/media/4.4045a540.svg"},307:function(e,t,n){e.exports=n.p+"static/media/3.1a5c1687.svg"},308:function(e,t,n){e.exports=n.p+"static/media/1.6d1d72e9.svg"},309:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTg4NzZmMy01NjM4LWI5NDItOTU0My1iM2Q3Y2JmYTIwYWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5RkU4RjkyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5RkU4RjgyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGYyN2VmM2QtYzAxOS01NDRmLTk5NmEtYjU4MDE2Mzk3YTc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NmEwMGQ2Y2YtMjY3Yi0xMWU4LTliOGEt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"},310:function(e,t,n){e.exports=n.p+"static/media/vkverified.0063cefb.svg"},311:function(e,t){e.exports="data:image/png;base64,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"},348:function(e,t,n){e.exports=n(609)},353:function(e,t,n){},472:function(e,t,n){},587:function(e,t,n){},606:function(e,t,n){},607:function(e,t,n){},608:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(48),i=n.n(c),l=(n(353),n(354),n(25)),o=n(284),s=n.n(o).a.create();Set.prototype.difference=function(e){var t=new Set,n=!0,a=!1,r=void 0;try{for(var c,i=this[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var l=c.value;e.has(l)||t.add(l)}}catch(o){a=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t},Set.prototype.intersect=function(e){return new Set(Object(l.a)(this).filter((function(t){return e.has(t)})))},Set.prototype.union=function(e){return new Set([].concat(Object(l.a)(this),Object(l.a)(e)))},Set.prototype.symmetricDifference=function(e){return this.union(e).difference(this.intersect(e))};var u=n(623),m=n(636),d=n(33),h=n(34),p=n(35),A=n(36),E=n(37),g=n(633),f=n(637),v=n(611),y=n(635),b=n(625),C=n(638),w=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{active:!0,onClickOutside:this.props.handleClose,page:!0},r.a.createElement(m.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(m.a.Column,{style:{maxWidth:450,minWidth:360}},r.a.createElement(f.a,{as:"h2",color:"teal",textAlign:"center"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(b.a,{size:"large"},r.a.createElement(C.a,{stacked:!0},r.a.createElement(b.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0430"}),r.a.createElement(b.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),r.a.createElement(v.a,{color:"teal",fluid:!0,size:"large"},"\u0412\u043e\u0439\u0442\u0438"))),r.a.createElement(v.a,{style:{marginTop:"15px"},inverted:!0,color:"teal",fluid:!0,size:"large"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={status:"base"},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{secondary:!0},r.a.createElement(g.a.Item,{style:{padding:0}},r.a.createElement(f.a,{as:"h1"},"NTrail")),r.a.createElement(g.a.Item,{position:"right",style:{padding:0}},r.a.createElement(v.a,{secondary:!0,style:{marginRight:"0.5em"}},"\u041a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f?"),r.a.createElement(v.a,{primary:!0,onClick:function(){return e.setState({status:"auth"})}},"\u0412\u043e\u0439\u0442\u0438"),"auth"===this.state.status&&r.a.createElement(w,{handleClose:function(){e.setState({status:"base"})}}))),r.a.createElement("p",{style:{fontSize:"1.23em"}},"\u0412\u0430\u0448 \u043f\u0440\u043e\u0432\u043e\u0434\u043d\u0438\u043a \u043f\u043e \u043c\u0438\u0440\u0443 \u0441\u043e\u0446\u0441\u0435\u0442\u0435\u0439"))}}]),t}(a.Component),j=(n(472),n(629)),k=(n(240),n(627)),S=n(82);function I(e){var t=e.level,n=5*t,a=Array(5).fill().map((function(e,t){return r.a.createElement("div",{key:t,className:"confidenceLevel "+(5-t<=n?"levelFilled":"")})}));return r.a.createElement("div",null,a)}var x={doNotHaveProperty:{popupText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043b\u044e\u0434\u0435\u0439, \u043d\u0435 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0449\u0438\u0445 \u044d\u0442\u0438\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c",iconName:"arrow alternate circle left outline"},haveProperty:{popupText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u044e\u0434\u0435\u0439 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c",iconName:"arrow alternate circle right outline"},decreaseOrder:{popupText:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044f",iconName:"angle double right"},increaseOrder:{popupText:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f",iconName:"angle double left"}},B=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.propertyItem,n=[];"show"===t.type?n=["haveProperty","doNotHaveProperty"]:"order"===t.type&&(n=["decreaseOrder","increaseOrder"]);var a=n.map((function(e){return r.a.createElement(k.a,{key:e,mouseEnterDelay:500,position:"top right",content:x[e].popupText,trigger:r.a.createElement(S.a,{color:"grey",className:"actionButton",name:x[e].iconName})})}));return r.a.createElement(j.a.Row,{onMouseOver:function(){return e.setState({active:!0})},onMouseLeave:function(){return e.setState({active:!1})},className:"property"},r.a.createElement(j.a.Cell,{width:"10"},t.name),r.a.createElement(j.a.Cell,{width:"5",style:{wordWrap:"break-word"}},t.value),r.a.createElement(j.a.Cell,{width:"2",className:"confidenceCell"},this.state.active?a:"confidence"in t&&r.a.createElement(I,{level:t.confidence})))}}]),t}(a.Component),Q=n(23),M=Object(Q.b)((function(e){return{importantProperties:e.workSpace.controls.properties.important,interestingProperties:e.workSpace.controls.properties.interesting}}))((function(e){return r.a.createElement("div",null,r.a.createElement(j.a,{columns:e.importantProperties.length},r.a.createElement(j.a.Header,null,r.a.createElement(j.a.Row,null,e.importantProperties.map((function(e){return r.a.createElement(j.a.HeaderCell,{key:e.name,className:"propertyTableHeader"},e.name)})))),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Row,null,e.importantProperties.map((function(e){return r.a.createElement(j.a.Cell,{key:e.id},e.value)}))))),r.a.createElement(j.a,{selectable:!0,fixed:!0},r.a.createElement(j.a.Header,null,r.a.createElement(j.a.Row,null,r.a.createElement(j.a.HeaderCell,{className:"propertyTableHeader",width:10},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(j.a.HeaderCell,{className:"propertyTableHeader",width:5},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.a.createElement(j.a.HeaderCell,{width:2}))),r.a.createElement(j.a.Body,null,e.interestingProperties.map((function(e){return r.a.createElement(B,{key:e.id,propertyItem:e})})))))})),D=n(24),R=n(620),N=n(630),T=function(e){var t=e.isInputStringEmpty,n=e.onClose,a=e.onSearch;return void 0===n&&(n=function(){}),void 0===a&&(a=function(){}),r.a.createElement(S.a,{name:t?"search":"close",onClick:function(){t?a():n()},link:!0})},L=n(50),H=(n(587),function(e){var t=e.type,n=e.data,a=e.onSelectNode,c=function(e){console.log(e),e&&e.activePayload?a(e.activePayload[0].payload):e&&e.payload&&e.payload.payload&&a(e.payload.payload)};return r.a.createElement("div",{className:"plotWidget",onClick:function(e){return e.stopPropagation()}},"line"===t&&r.a.createElement(L.d,{onClick:c,width:500,height:300,data:n,margin:{top:5,right:30,left:0,bottom:5}},r.a.createElement(L.a,{strokeDasharray:"3 3"}),r.a.createElement(L.i,null),r.a.createElement(L.h,{hide:!0,dataKey:"name"}),r.a.createElement(L.g,null),r.a.createElement(L.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}})),"circular"===t&&r.a.createElement(L.f,{width:500,height:300},r.a.createElement(L.e,{onClick:c,data:n,fill:"#8884d8",label:function(e){return e.name}},n.map((function(e,t){return r.a.createElement(L.b,{key:"cell-".concat(t),fill:e.color?e.color:"#000000"})}))),r.a.createElement(L.g,null)))}),Y=function(e){return r.a.createElement(k.a,{pinned:!0,basic:!0,trigger:e.trigger,on:"click",flowing:!0,position:"top right"},r.a.createElement("div",{style:{textAlign:"center",marginBottom:"0.5rem"}},e.header),r.a.createElement(H,e))},P=n(14),F=n(303),U=n.n(F);function V(e){return U()(e)}var G=function(e,t){for(var n=Object(P.a)({},e),a=0,r=Object.entries(t);a<r.length;a++){var c=r[a],i=Object(D.a)(c,2),l=i[0],o=i[1];n[l]=l in n?Object(P.a)({},n[l],{},o):o}return n},z=function(e,t,n){return e.workSpace.objects[t][n]};var W="\u0412 \u0442\u0435\u043a\u0441\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043f\u0443\u0449\u0435\u043d\u0430 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",Z=n(304),X=n.n(Z),q=n(148),J=X.a.create({baseURL:"http://127.0.0.1:5000"}),K=function(e){return J.get("/query/?q=".concat(e)).then((function(e){return function(e){var t=new q.b.Entity("entities"),n={clusters:[new q.b.Entity("clusters",{entities:[t]})]};return Object(q.a)(e,n)}(e.data.data)}))},_={queryString:"",allHints:["https://","vk.com/","instagram.com/","me","GET","LOAD","vk.user","vk.users","ig.user","ig.users","age","school","sex","city","search","net","internet","page","cache","followers","follows","friends"],currentHints:[],isLoading:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441",isError:!1,errorText:"",message:{draw:!1,header:"",body:"",warning:!1,error:!1}},$="TYPE_SYMBOL",ee="SELECT_HINT",te="CLEAR_INPUT",ne="REMOVE_HINTS",ae="CHANGE_MESSAGE",re="CLOSE_MESSAGE",ce="ACTIVATE_LOADER",ie="REMOVE_LOADER",le=V("make_input_placeholder");function oe(e){return e.split(/[\s, /()[\]]+/).slice(-1)[0]}function se(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case $:var a=n.value,r=oe(a),c=[];return r.length&&(c=t.allHints.filter((function(e){return e.toLowerCase().startsWith(r.toLowerCase())&&!(r===e)}))),Object(P.a)({},t,{currentHints:c,queryString:a,isError:(e=a,!!e.includes("#")),placeholder:_.placeholder});case ee:var i=t.queryString.slice(0,-oe(t.queryString).length)+n.value;return Object(P.a)({},t,{currentHints:[],queryString:i});case ne:return Object(P.a)({},t,{currentHints:[]});case te:return Object(P.a)({},t,{queryString:"",placeholder:n.placeholder});case ae:return Object(P.a)({},t,{message:Object(P.a)({},t.message,{header:n.header,draw:!0,body:n.body,error:n.error,warning:n.warning})});case re:return Object(P.a)({},t,{message:Object(P.a)({},t.message,{draw:!1})});case ce:return Object(P.a)({},t,{isLoading:!0,message:Object(P.a)({},t.message,{draw:!1})});case ie:return Object(P.a)({},t,{isLoading:!1});case le.type:return Object(P.a)({},t,{placeholder:n.payload,queryString:""});default:return t}}var ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:ae,header:e,body:t,error:n,warning:a}},me=function(){return{type:ie}},de=function(e){return function(t,n){(t(le(e)),0===e.length)?0===e.length?t(ue("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443. \u041f\u043e\u043a\u0430 \u043e\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f",!1,!0)):t(ue(W,"\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438, \u043d\u043e \u044f \u043f\u043e\u043a\u0430 \u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u043b \u0440\u0430\u0437\u0431\u043e\u0440",!0)):(t({type:ce}),K(e).then((function(e){t(me()),console.log(e),e.result.clusters=e.result.clusters.filter((function(t){return e.entities.clusters[t].entities.length>0})),0===e.result.clusters.length?t(ue("\u041e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043b\u0430\u0441\u0442\u0435\u0440 (\u043e\u043d \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f)",!1,!0)):(console.log("Good clusters",e),t(ke(e)),t(Se(e.result.clusters[0])))})).catch((function(e){t(me());var n=e.response;n?t(ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0440\u043f\u043e\u0441\u0430 (".concat(n.status,")"),n.data.error,!0)):(console.log(e),t(ue("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438","\u041b\u0438\u0431\u043e \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442\u0443 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430, \u043b\u0438\u0431\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u043f\u0430\u043b, \u0442\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0437\u0440\u0430\u0431 \u043a\u0440\u0438\u0432\u043e\u0440\u0443\u043a\u0438\u0439",!0)))})))}},he="SELECT_MENU",pe={properties:{important:[],interesting:[],all:[]},activeItem:"filter",filterMode:"net"},Ae=V("setProperties"),Ee=V("changeFilterMode"),ge=function(e,t){return"params"===e.activeItem?e:Object(P.a)({},e,{activeItem:t})};function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(P.a)({},e,{activeItem:t.name});case Re.type:var n=t.payload.length;return"params"===e.activeItem?e:ge(e,n>0?"actions":"properties");case Ae.type:return Object(P.a)({},ge(e,"properties"),{properties:t.payload});case Qe.type:var a=t.payload.length?"actions":"properties";return ge(e,a);case Ee.type:return Object(P.a)({},e,{filterMode:t.payload});default:return e}}var ve=V("CLEAR_ALL"),ye={clusters:void 0,entities:void 0,controls:void 0,search:void 0,objects:{}},be=function(e,t){return"".concat(e," ").concat(t)},Ce=function(e){return console.assert(e.toLowerCase().startsWith("get ")),function(e){return be("LOAD",e)}(function(e){return e.slice(4)}(e))},we=function(e){return"(".concat(e.join(", "),")")},Oe=function(e){return e?"object"===typeof e?e.join(" "):e:""},je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return"object"===typeof t&&(t=we(t)),"".concat(a," ").concat(e," ").concat(t," ").concat(Oe(n))},ke=V("ADD_CLUSTERS"),Se=V("SELECT_CLUSTER"),Ie=V("REMOVE_CLUSTERS_FROM_PANEL"),xe=V("START_LOADING_CLUSTER"),Be=V("make_cluster_selected"),Qe=V("setHighlightedClusters"),Me={clusters:[],selectedClusterID:null,highlightedClusters:[]};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.type:return console.log("here"),Object(P.a)({},e,{highlightedClusters:t.payload});case ke.type:var n=t.payload;return Object(P.a)({},e,{clusters:Object(l.a)(new Set([].concat(Object(l.a)(e.clusters),Object(l.a)(n))))});case Be.type:var a=t.payload;return Object(P.a)({},e,{selectedClusterID:a});case Ie.type:var r=t.payload,c=e.selectedClusterID,i=e.clusters.filter((function(e){return!r.includes(e)}));return Object(P.a)({},e,{clusters:i,selectedClusterID:r.includes(c)?-1:c,highlightedClusters:e.highlightedClusters.filter((function(e){return!r.includes(e)}))});default:return e}}var Re=V("SELECT_ENTITIES"),Ne=V("TOGGLE_ENTITY_SELECTION"),Te=V("setEntities"),Le=V("removeLoader"),He=V("setSearchValue"),Ye=V("setEntitiesItemsList"),Pe={isLoading:!1,selectedEntities:[],entities:[],searchValue:""};function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.type:return Object(P.a)({},e,{searchValue:t.payload.join(", ")});case He.type:return Object(P.a)({},e,{searchValue:t.payload});case Le.type:case ke.type:return Object(P.a)({},e,{isLoading:!1});case xe.type:return Object(P.a)({},e,{isLoading:!0});case Re.type:return Object(P.a)({},e,{selectedEntities:t.payload});case Ne.type:var n=t.payload;return e.selectedEntities.includes(n)?Object(P.a)({},e,{selectedEntities:e.selectedEntities.filter((function(e){return e!==n}))}):Object(P.a)({},e,{selectedEntities:[].concat(Object(l.a)(e.selectedEntities),[n])});case Te.type:return Object(P.a)({},e,{entities:t.payload,selectedEntities:[],searchValue:""});default:return e}}var Ue={setEntitiesItemsList:Ye},Ve=Object(Q.b)((function(e){return{allProperties:e.workSpace.controls.properties.all,mainID:z(e,"clusters",e.workSpace.clusters.selectedClusterID)}}),Ue)((function(e){var t=Object(a.useState)(""),n=Object(D.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)([]),s=Object(D.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)(e.allProperties),h=Object(D.a)(d,2),p=h[0],A=h[1],E=function(e,t){var n=t.index;u.includes(n)?m(u.filter((function(e){return e!==n}))):m([].concat(Object(l.a)(u),[n]))},g=function(t){var n=[],a=!0,r=!1,c=void 0;try{for(var l,o=p[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;-1!==s.name.toLowerCase().indexOf(t.toLowerCase())&&n.push(s)}}catch(u){r=!0,c=u}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}i(t),t?(A(n),n.length&&m([n[0]])):(A(e.allProperties),m([]))};return Object(a.useEffect)((function(){e.allProperties!==p&&(A(e.allProperties),m([]))}),[e.allProperties]),r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{fluid:!0,icon:r.a.createElement(T,{isInputStringEmpty:!c.length,onClose:function(){return g("")}}),value:c,placeholder:"\u0413\u0440\u0430\u043c\u043e\u0442\u043d\u043e\u0441\u0442\u044c, 12, \u0448\u043a\u043e\u043b\u0430, \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e,t){g(t.value)}}),r.a.createElement(N.a,{style:{maxHeight:"61.5vh",overflow:"auto",scrollbarWidth:"none"}},p.map((function(t){return r.a.createElement(N.a.Accordion,{key:t.id},r.a.createElement(N.a.Title,{index:t.id,active:u.includes(t.id),onClick:E},r.a.createElement(S.a,{name:"dropdown"}),e.activePropertyId===t.id?r.a.createElement("b",null,t.name):t.name,t.plot&&r.a.createElement(Y,{data:t.plot.data,type:t.plot.type,onSelectNode:function(t){return e.setEntitiesItemsList(t.ids)},header:t.name,trigger:r.a.createElement(S.a,{link:!0,onClick:function(e){return e.stopPropagation()},circular:!0,style:{float:"right"},name:"chart line"})})),r.a.createElement(N.a.Content,{active:u.includes(t.id)},r.a.createElement(j.a,{selectable:!0},r.a.createElement(j.a.Body,null,t.values.map((function(n){return r.a.createElement(j.a.Row,{key:t.id+n.id},r.a.createElement(j.a.Cell,{width:"10"},n.name),r.a.createElement(j.a.Cell,{width:"5"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!Number(e))return e;var n=Math.pow(10,t);return Math.round(Number(e)*n)/n}(n.value,2)),r.a.createElement(j.a.Cell,{width:"2"},n.ids&&r.a.createElement(S.a,{link:!0,name:"eye",color:"grey",onClick:function(){e.setEntitiesItemsList(n.ids)}})))}))))))}))))})),Ge=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"\u0432\u0441\u0435"},n.clickMenu=function(e,t){var a=t.name;n.setState({activeItem:a})},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(g.a,{secondary:!0,size:"tiny"},r.a.createElement(g.a.Item,{onClick:this.clickMenu,active:"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"===e,name:"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"}),r.a.createElement(g.a.Item,{onClick:this.clickMenu,active:"\u0432\u0441\u0435"===e,name:"\u0432\u0441\u0435"})),"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"===e?r.a.createElement(M,null):r.a.createElement(Ve,null))}}]),t}(a.Component),ze=n(95),We=n(628),Ze=n(626),Xe=n(624),qe=n(42),Je=function(e,t){return t||(t="value"),function(n){return console.log("Form Wrapper props",n),r.a.createElement(e,Object.assign({},n,Object(P.a)({},n.input,Object(qe.a)({value:void 0},t,n.input.value)),{error:n.meta.error,onChange:function(e,a){return a?n.input.onChange(a[t].trim()):n.input.onChange(e)}}))}},Ke=n(313),_e=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log("Error in save state")}},$e=new Set(["group","feed","news","music","edit","settings","im","friends","groups","video","apps","vkpay","market","docs","blog","dev","biz","about","jobs","legal","data_protection","safety","exilemusic","exilemusic","verify","exile_music"]),et=function(e,t,n){var a=t(),r=a.workSpace.clusters.highlightedClusters;if(r.length>=2){var c=r.map((function(e){return a.workSpace.objects.clusters[e].entities})),i=new Set(c[0]),o=!0,s=!1,u=void 0;try{for(var m,d=c.slice(1)[Symbol.iterator]();!(o=(m=d.next()).done);o=!0){var h=m.value;i=i[n](new Set(h))}}catch(E){s=!0,u=E}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}var p=Object(l.a)(i);if(0===p.length)e(ue("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043b\u0430\u0441\u0442\u0435\u0440",!1,!0));else{var A=je("vk.users",p);e(de(A))}}},tt={extractFromString:function(e){return function(t,n){var a=e.text;if(!a)throw new Ke.a({text:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"});var r=/href="\/(\w+)"/g,c=r.exec(a);if(!c)throw new Ke.a({text:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"});for(var i=new Set;c;)i.add(c[1]),c=r.exec(a);i=Object(l.a)(i.difference($e));var o=je("vk.user",i);t(de(o))}}},nt=Object(Q.b)((function(){return{}}),tt)(Object(Xe.a)({form:"StringSearch"})((function(e){return r.a.createElement(b.a,{onSubmit:e.handleSubmit(e.extractFromString)},r.a.createElement("p",null,"\u041c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c ",r.a.createElement("b",null,"\u043f\u043e\u0438\u0441\u043a")," \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u043a, \u043d\u0430\u0436\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435, \u0437\u0430\u0442\u0435\u043c ",r.a.createElement("b",null,"Page source"),", \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430 (\u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e ctrl + U)"),r.a.createElement(Ze.a,{name:"text",component:Je(b.a.TextArea)}),r.a.createElement(v.a,{type:"submit",content:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c",style:{marginTop:"0.2rem"},fluid:!0,basic:!0}))}))),at=function(e){return r.a.createElement(N.a,null,r.a.createElement(N.a.Accordion,null,r.a.createElement(N.a.Title,{active:!0},r.a.createElement(S.a,{name:"dropdown"}),"\u0412\u041a"),r.a.createElement(N.a.Content,{active:!0},r.a.createElement(Ze.a,{component:b.a.Input,name:"vkSearchQuery",label:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",placeholder:"\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432, \u043c\u0435\u043c\u044b \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c"}),r.a.createElement(b.a.Group,null,r.a.createElement(Ze.a,{component:Je(b.a.Checkbox,"checked"),name:"usersInclude",label:"\u041b\u044e\u0434\u0438"}),r.a.createElement(Ze.a,{component:Je(b.a.Checkbox,"checked"),name:"groupsInclude",label:"\u0413\u0440\u0443\u043f\u043f\u044b"}),r.a.createElement(Ze.a,{component:Je(b.a.Checkbox,"checked"),name:"postsInclude",label:"\u041f\u043e\u0441\u0442\u044b"})),r.a.createElement(b.a.Input,{label:"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c",placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0448\u043a\u043e\u043b\u0430, \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435, \u0444\u0443\u0442\u0431\u043e\u043b"}))))},rt=function(e){return Number(e)>1e3?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: 1000":void 0},ct=Object(Xe.a)({form:"StringSearch",onSubmit:function(){return console.log("submit")}})((function(e){return r.a.createElement(b.a,{autoComplete:"off"},r.a.createElement(Ze.a,{name:"limit",normalize:function(e,t){return Number(e)||""===e?e:t},component:Je(b.a.Input),validate:rt,label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"}),r.a.createElement(Ze.a,{component:b.a.Input,name:"commonQueryString",label:"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",placeholder:"nagibator666"}),r.a.createElement(at,null))})),it=function(e){return r.a.createElement(r.a.Fragment,null)},lt={changeFilterMode:Ee},ot=Object(Q.b)((function(e){return{searchMode:e.workSpace.controls.filterMode}}),lt)((function(e){var t=e.searchMode,n=Object(ze.a)(e,["searchMode"]);return r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("b",null,"\u041e\u0442\u043a\u0443\u0434\u0430 \u0431\u0440\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"),r.a.createElement(We.a,{value:t,onChange:function(e,t){return n.changeFilterMode(t.value)},fluid:!0,selection:!0,options:[{key:"net",text:"\u0418\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430 (\u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043a API \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432)",value:"net"},{key:"cache",text:"\u0418\u0437 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 NTrail (\u0437\u0430\u043a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b)",value:"cache"},{key:"page",text:"\u0421 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u0443\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430)",value:"page"},{key:"text",text:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438",value:"text"}],style:{marginBottom:"1rem"}}),"text"===t&&r.a.createElement(nt,null),("net"===t||"cache"===t)&&r.a.createElement(ct,null),"page"===t&&r.a.createElement(it,null))})),st=n(305),ut=n.n(st),mt=n(306),dt=n.n(mt),ht=n(307),pt=n.n(ht),At=n(308),Et=n.n(At),gt=function(e){var t={display:"inline-block",marginRight:"5px",width:"1.5rem",height:"auto"},n="object"===typeof e.icon?e.icon:r.a.createElement("img",{src:e.icon,alt:"afs",style:t});return r.a.createElement(v.a,{basic:!0,onClick:e.onClick},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"1rem"}},n),r.a.createElement("div",{style:{margin:"auto"}},e.text)))},ft={downloadWorkSpace:function(){return function(e,t){var n="NTrail workspace (".concat(t().workSpace.clusters.clusters.length," clusters)");!function(e,t,n){var a=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,t);else{var r=document.createElement("a"),c=URL.createObjectURL(a);r.href=c,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(c)}),0)}}(JSON.stringify(t()),n,"")}},uploadWorkSpace:function(){return function(e,t){var n=document.createElement("input");n.type="file",n.onchange=function(e){var t=e.target.files[0],n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){var n=t.target.result;console.log("File loaded");try{var a=JSON.parse(n);if(!("form"in a))throw Error("\u043e\u0448\u0438\u0431\u043a\u0430");_e(a)}catch(e){alert('\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0434\u0430\u043d\u043d\u044b\u0445 NTrail \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430! (\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u044b, \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043f\u0446\u0438\u0438 "\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e") \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u0430\u0439\u043b')}window.location.reload(!0)}},n.click()}},intersectClusters:function(){return function(e,t){et(e,t,"intersect")}},unionClusters:function(){return function(e,t){et(e,t,"union")}},subtractClusters:function(){return function(e,t){et(e,t,"difference")}},symDiffClusters:function(){return function(e,t){et(e,t,"symmetricDifference")}},pickOutToCluster:function(){return function(e,t){var n=t().workSpace.entities.selectedEntities;if(n.length>0){var a=je("vk.users",n);e(de(a))}}},deleteSelectedClusters:function(){return function(e,t){var n=t().workSpace.clusters.highlightedClusters;e(Ie(n))}},getFriendsAction:function(){return function(e,t){var n,a=t().workSpace.entities.selectedEntities;a.length>=1&&(n=a.length>1?je("vk.users",a,"friends"):je("vk.user",a[0],"friends"),e(de(n)))}},deleteFromCluster:function(){return function(e,t){var n=t(),a=n.workSpace.entities.selectedEntities,r=n.workSpace.entities.entities,c=Object(l.a)(new Set(r).difference(new Set(a)));if(a.length>0){var i=je("vk.users",c);e(de(i))}}}},vt=Object(Q.b)((function(e){return{selectedClustersCount:e.workSpace.clusters.highlightedClusters.length,selectedEntitiesCount:e.workSpace.entities.selectedEntities.length,haveClusters:e.workSpace.clusters.clusters.length>0}}),ft)((function(e){return r.a.createElement("div",null,r.a.createElement(f.a,{size:"small",style:{marginLeft:"0.2rem",marginTop:"1rem"}},"\u0425\u043e\u043b\u0441\u0442"),r.a.createElement(v.a.Group,{vertical:!0,basic:!0,style:{width:"100%"}},e.haveClusters&&r.a.createElement(gt,{onClick:e.downloadWorkSpace,text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u043e",icon:r.a.createElement(S.a,{name:"download"})}),r.a.createElement(gt,{onClick:e.uploadWorkSpace,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e",icon:r.a.createElement(S.a,{name:"upload"})})),e.selectedEntitiesCount>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{size:"small",style:{marginLeft:"0.2rem"}},"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438"),r.a.createElement(v.a.Group,{vertical:!0,basic:!0,style:{width:"100%"}},r.a.createElement(gt,{onClick:e.pickOutToCluster,text:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0442\u0435\u0440",icon:r.a.createElement(S.a,{name:"dot circle outline"})}),r.a.createElement(gt,{onClick:e.deleteFromCluster,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",icon:r.a.createElement(S.a,{name:"remove circle"})}),1===e.selectedEntitiesCount&&r.a.createElement(gt,{text:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437",icon:r.a.createElement(S.a,{name:"shekel"})}),r.a.createElement(gt,{onClick:e.getFriendsAction,text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",icon:r.a.createElement(S.a,{name:"user circle"})}),r.a.createElement(gt,{text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",icon:r.a.createElement(S.a,{name:"address book outline"})}),r.a.createElement(gt,{text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432",icon:r.a.createElement(S.a,{name:"comment alternate"})}))),e.selectedClustersCount>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{size:"small",style:{marginLeft:"0.2rem"}},"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"),r.a.createElement(v.a.Group,{basic:!0,compact:!0,vertical:!0,style:{width:"100%"}},2===e.selectedClustersCount&&r.a.createElement(gt,{text:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c",icon:r.a.createElement(S.a,{name:"sun outline"})}),e.selectedClustersCount>=2&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{onClick:e.intersectClusters,text:"\u041f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0435",icon:Et.a}),r.a.createElement(gt,{onClick:e.unionClusters,text:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",icon:ut.a}),r.a.createElement(gt,{onClick:e.subtractClusters,text:"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c",icon:dt.a}),r.a.createElement(gt,{onClick:e.symDiffClusters,text:"\u0421\u0438\u043c\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c",icon:pt.a})),r.a.createElement(gt,{onClick:e.deleteSelectedClusters,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435",icon:r.a.createElement(S.a,{name:"trash alternate outline"})}))))})),yt=function(e){var t=e.value,n=e.label,a=e.component,c=e.condition;if(void 0===c&&(c=!0),!t||!c)return r.a.createElement(r.a.Fragment,null);var i=b.a.Input;return a&&(i=a),r.a.createElement(i,{value:t,label:n})},bt=Object(Q.b)((function(e){return{clusterID:e.workSpace.clusters.selectedClusterID,selectedEntitiesID:e.workSpace.entities.selectedEntities,selectedEntitiesURLS:e.workSpace.entities.selectedEntities.map((function(t){return e.workSpace.objects.entities[t].url})),clustersCount:e.workSpace.clusters.clusters.length,entitiesCount:e.workSpace.entities.entities.length,selectedClustersID:e.workSpace.clusters.highlightedClusters}}))((function(e){return console.log(e),r.a.createElement(b.a,{style:{marginTop:"1rem"}},r.a.createElement(yt,{label:"ID \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:e.clusterID}),r.a.createElement(yt,{component:b.a.TextArea,label:"ID \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432",value:e.selectedClustersID.join("\n")}),r.a.createElement(b.a.Group,{widths:"2"},r.a.createElement(yt,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432",value:e.clustersCount}),r.a.createElement(yt,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:e.entitiesCount})),r.a.createElement(yt,{label:"ID \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439",value:e.selectedEntitiesID.join(", ")}),r.a.createElement(yt,{component:b.a.TextArea,label:"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438",value:e.selectedEntitiesURLS.join("\n")}))})),Ct={selectMenu:function(e){return{type:he,name:e}}},wt=Object(Q.b)((function(e){return{activeItem:e.workSpace.controls.activeItem,haveClusters:e.workSpace.clusters.clusters.length>0}}),Ct)((function(e){var t=e.activeItem,n=r.a.createElement(Ge,null);return"actions"===t?n=r.a.createElement(vt,null):"filter"===t?n=r.a.createElement(ot,null):"params"===t&&(n=r.a.createElement(bt,null)),r.a.createElement(C.a,null,r.a.createElement(g.a,{secondary:!0,widths:e.haveClusters?4:2,style:{marginBottom:"0.2rem"}},e.haveClusters&&r.a.createElement(g.a.Item,{active:"properties"===t,name:"properties",content:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430",onClick:function(){return e.selectMenu("properties")}}),r.a.createElement(g.a.Item,{onClick:function(){return e.selectMenu("filter")},active:"filter"===t,name:"filter",className:"controlMenu",content:"\u0424\u0438\u043b\u044c\u0442\u0440"}),r.a.createElement(g.a.Item,{onClick:function(){return e.selectMenu("actions")},active:"actions"===t,name:"actions",content:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),e.haveClusters&&r.a.createElement(g.a.Item,{onClick:function(){return e.selectMenu("params")},active:"params"===t,name:"params",content:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"})),n)})),Ot=function(e){var t=e.text,n=e.position;return r.a.createElement(k.a,{position:n,content:t,trigger:r.a.createElement(S.a,{color:"grey",name:"question circle"})})},jt=function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",width:"100%"}},r.a.createElement("div",{style:{float:"left"}},e.text),"\xa0\xa0",r.a.createElement(Ot,{text:e.popup}))},kt=(n(606),n(610));function St(e){var t=e.photos,n=function(e,t){var n={zIndex:100-t};return 1===e?n:2===e?Object(P.a)({},n,{left:2+80/e*t+"%"}):Object(P.a)({},n,{left:75/e*t+"%"})};return r.a.createElement("div",{className:"imagesContainer"},t.map((function(e,a){return r.a.createElement("img",{key:a,style:n(t.length,a),className:"previewClusterImage",src:e,alt:""})})))}var It=function(e){var t=e.clusterData,n=e.chooseCluster,c=e.selected,i=e.pos,l=i.x,o=i.y,s=(e.dragCluster,Object(ze.a)(e,["clusterData","chooseCluster","selected","pos","dragCluster"])),u=t.photos,m=Object(a.useState)({width:0,height:0}),d=Object(D.a)(m,2),h=d[0],p=d[1],A={zIndex:c?100:0,left:l-h.width/2+"px",top:o-h.height/2+"px",width:t.size+"rem"},E=Object(a.useRef)();Object(a.useLayoutEffect)((function(){E.current&&p({width:E.current.offsetWidth,height:E.current.offsetHeight})}),[]);var g=["clusterObject",c&&"selectedCluster",s.isOverlay&&"overlayCluster"];return r.a.createElement("div",{ref:E,onMouseDown:function(e){e.preventDefault(),n(t.id)},style:A,className:g.join(" ")},(c||s.showCheckbox)&&r.a.createElement(kt.a,{checked:s.highlighted,onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},onChange:function(e){s.toggleClusterHighlight(t.id)},style:{zIndex:"103",position:"absolute",right:"0.5rem",top:"0.5rem"}}),r.a.createElement(St,{photos:u}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"}},r.a.createElement("div",null,t.name," ")))},xt=function(e){var t=e.x1,n=e.x2,a=e.y1,c=e.y2,i=e.shorten,l=n-t,o=c-a;i||(i=0);var s=Math.sqrt(l*l+o*o),u=s-2*i;if(i&&(s<20||u<20))return r.a.createElement("line",null);var m=u/s,d=l*m,h=o*m;return n=(t+=(l-d)/2)+d,c=(a+=(o-h)/2)+h,r.a.createElement("line",{x1:t+"px",y1:a+"px",x2:n+"px",y2:c+"px",stroke:"black"})},Bt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(p.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).state={positions:{},width:0,height:0,clusters:[],connections:[],overlayClusterID:null,selectedCluster:null,mousePressed:!1},n.dragCluster=function(e,t){if(n.state.mousePressed){var a=n.state,r=a.positions,c=a.selectedCluster,i=r[c].x+e,l=r[c].y+t,o=n.getNearestCluster(c),s=o.nearestClusterID,u=o.dist;void 0!==n.movedDist&&(n.movedDist+=u),n.setState({overlayClusterID:u<30?s:null});var m=function(e,t){return e>50&&e<t-50};m(i,n.state.width)&&m(l,n.state.height)&&n.setState({positions:Object(P.a)({},r,Object(qe.a)({},c,{x:i,y:l}))})}},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateState",value:function(e){var t=function(e,t,n){console.log("GENERATE CLUSTERS POSITIONS"),s.initState();var a={},r=!0,c=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var u=l.value;a[u]=[]}}catch(P){c=!0,i=P}finally{try{r||null==o.return||o.return()}finally{if(c)throw i}}var m=!0,d=!1,h=void 0;try{for(var p,A=t[Symbol.iterator]();!(m=(p=A.next()).done);m=!0){var E=p.value;a[E.from].push(E.to),a[E.to].push(E.from)}}catch(P){d=!0,h=P}finally{try{m||null==A.return||A.return()}finally{if(d)throw h}}for(var g,f=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},v=function(e){var t,n,r=0,c=!0,i=!1,l=void 0;try{for(var o,s=e[Symbol.iterator]();!(c=(o=s.next()).done);c=!0){var u=o.value,m=!0,d=!1,h=void 0;try{for(var p,A=e[Symbol.iterator]();!(m=(p=A.next()).done);m=!0){var E=p.value;if(u!==E){var g=f(u,E);g<100?r-=5e3:(t=u.id,n=E.id,a[t].includes(n)?r-=g:r+=g)}}}catch(P){d=!0,h=P}finally{try{m||null==A.return||A.return()}finally{if(d)throw h}}}}catch(P){i=!0,l=P}finally{try{c||null==s.return||s.return()}finally{if(i)throw l}}return r},y=Math.max(70*e.length,250),b={},C=y-100,w=n-100,O=-1e9,j=0;j<10*e.length;j++){var k=[],S=!0,I=!1,x=void 0;try{for(var B,Q=e[Symbol.iterator]();!(S=(B=Q.next()).done);S=!0){var M=B.value;k.push({id:M,x:s(1e3)/1e3*w,y:s(1e3)/1e3*C})}}catch(P){I=!0,x=P}finally{try{S||null==Q.return||Q.return()}finally{if(I)throw x}}var D=v(k);D>O&&(g=k,O=D)}var R=!0,N=!1,T=void 0;try{for(var L,H=g[Symbol.iterator]();!(R=(L=H.next()).done);R=!0){var Y=L.value;b[Y.id]={x:50+Y.x,y:50+Y.y}}}catch(P){N=!0,T=P}finally{try{R||null==H.return||H.return()}finally{if(N)throw T}}return{positions:b,height:y}}(this.props.clustersID,this.props.connections,e),n=t.positions,a=t.height;this.setState({width:e,positions:n,height:a,clusters:this.props.clusters,connections:this.props.connections})}},{key:"componentDidMount",value:function(){var e=this.containerRef.current.offsetWidth;console.log("CLUSTERS PANEL MOUNT"),this.updateState(e)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.clustersID!==e.clustersID&&(console.log("UPDATE",this.props.clustersID,e.clustersID),this.updateState(this.state.width))}},{key:"getNearestCluster",value:function(e){for(var t=this.state.positions,n=t[e],a=n.x,r=n.y,c=9999999,i=-1,l=0,o=Object.entries(t);l<o.length;l++){var s=o[l],u=Object(D.a)(s,2),m=u[0],d=u[1];if(m!==e){var h=d.x,p=d.y,A=Math.sqrt(Math.pow(a-h,2)+Math.pow(r-p,2));A<c&&(c=A,i=m)}}return{nearestClusterID:i,dist:c}}},{key:"toggleClusterHighlight",value:function(e){this.props.highlightedClusters.includes(e)?this.props.setHighlightedClusters(Object(l.a)(this.props.highlightedClusters.filter((function(t){return t!==e})))):this.props.setHighlightedClusters([].concat(Object(l.a)(this.props.highlightedClusters),[e]))}},{key:"checkOverlay",value:function(){console.log("CHECK OVERLAY"),this.state.overlayClusterID&&this.props.selectedClusterID&&this.props.setHighlightedClusters([this.state.overlayClusterID,this.props.selectedClusterID]),this.setState({overlayClusterID:null}),this.movedDist&&this.movedDist>3&&this.updateState(this.state.width)}},{key:"selectCluster",value:function(e){this.movedDist=0,this.setState({selectedCluster:e,mousePressed:!0}),this.props.selectCluster(e)}},{key:"stopDrag",value:function(){this.setState({mousePressed:!1}),this.checkOverlay()}},{key:"render",value:function(){var e=this,t=this.state.connections;this.containerRef=Object(a.createRef)();var n=this.state,c=n.width,i=n.height,l=n.positions;return r.a.createElement("div",{onMouseMove:function(t){return e.dragCluster(t.movementX,t.movementY)},onMouseUp:this.stopDrag.bind(this),onMouseLeave:this.stopDrag.bind(this),className:"clustersAnimationsContainer",ref:this.containerRef},r.a.createElement("div",{className:"clustersField",style:{height:this.state.height}},this.state.clusters.map((function(t){return r.a.createElement(It,{chooseCluster:e.selectCluster.bind(e),selected:e.props.selectedClusterID===t.id,highlighted:e.props.highlightedClusters.includes(t.id),pos:e.state.positions[t.id],key:t.id,clusterData:t,isOverlay:t.id===e.state.overlayClusterID,toggleClusterHighlight:e.toggleClusterHighlight.bind(e),showCheckbox:e.props.highlightedClusters.length>0})}))),r.a.createElement("svg",{width:c,height:i},t.map((function(e,t){var n,a,c,i;return n=l[e.from].x,c=l[e.from].y,a=l[e.to].x,i=l[e.to].y,r.a.createElement(xt,{key:t,x1:n,y1:c,x2:a,y2:i,shorten:50})}))))}}]),t}(r.a.Component),Qt={selectCluster:Se,deleteCluster:function(){return function(e,t){var n=t(),a=n.workSpace.clusters.selectedClusterID,r=n.workSpace.clusters.clusters.filter((function(e){return e!==a}));r.length?(e(Se(r[0])),e(Ie([a]))):e(ve())}},reloadCluster:function(){return function(e,t){var n=t(),a=n.workSpace.clusters.selectedClusterID,r=Ce(z(n,"clusters",a).params.query);e(de(r))}},clearAll:ve,setHighlightedClusters:Qe},Mt=Object(Q.b)((function(e){var t=e.workSpace.clusters.clusters,n=t.map((function(t){var n,a=e.workSpace.objects.clusters[t],r=a.entities,c=Object(l.a)(r);n=c,s.initState(),n.sort((function(){return s(1e3)/1e3-.5}));var i=c.slice(0,3).map((function(t){return e.workSpace.objects.entities[t].img}));return Object(P.a)({},a.params,{photos:i})})),a=[];return n.length>1&&a.push({from:n[0].id,to:n[1].id}),{clusters:n,clustersID:t,connections:a,selectedClusterID:e.workSpace.clusters.selectedClusterID,haveControlButtons:e.workSpace.clusters.clusters.length>0,highlightedClusters:e.workSpace.clusters.highlightedClusters,haveSelectionActions:e.workSpace.clusters.highlightedClusters.length>0}}),Qt)((function(e){var t=r.a.createElement(jt,{popup:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u0432 \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u043f\u043e\u043b\u0435 (\u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435), \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440",text:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"});return r.a.createElement(C.a,{className:"clustersPanel"},e.haveControlButtons&&r.a.createElement(v.a.Group,{compact:!0,size:"tiny",widths:"3"},r.a.createElement(v.a,{onClick:e.clearAll,basic:!0,color:"red",icon:"delete",content:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),r.a.createElement(v.a,{onClick:e.deleteCluster,basic:!0,color:"orange",icon:"trash alternate outline",content:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),r.a.createElement(v.a,{onClick:e.reloadCluster,basic:!0,color:"blue",icon:"sync alternate",content:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})),0===e.clusters.length?t:r.a.createElement(Bt,e),e.haveSelectionActions&&r.a.createElement(v.a.Group,{compact:!0,size:"tiny",widths:"2",style:{marginBottom:"0.2rem"}},r.a.createElement(v.a,{onClick:function(){return e.setHighlightedClusters([])},color:"grey",basic:!0,icon:"circle outline",content:"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),r.a.createElement(v.a,{onClick:function(){return e.setHighlightedClusters(e.clustersID)},color:"grey",basic:!0,icon:"circle",content:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435"})))})),Dt=n(619),Rt=n(622),Nt=(n(607),n(309)),Tt=n.n(Nt),Lt=n(310),Ht=n.n(Lt),Yt=n(621),Pt=n(631),Ft=n(314),Ut=n(311),Vt=n.n(Ut),Gt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(A.a)(t).call(this,e))).showImage=function(){n.setState({show:!0})},n.state={show:!1,src:Vt.a},n.ref=r.a.createRef(),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){this.ref.current&&this.ref.current.update()}},{key:"render",value:function(){var e=this,t=this.props.src;return this.state.show?r.a.createElement(Ft.a,Object.assign({},this.props,{src:this.state.src,onLoad:function(){return e.setState({src:t})}})):r.a.createElement("div",null,r.a.createElement(Yt.a,{ref:this.ref,fireOnMount:!0,onOnScreen:this.showImage},r.a.createElement(Pt.a,{style:{height:100,width:90}},r.a.createElement(Pt.a.Image,null))))}}]),t}(r.a.Component);function zt(e){var t=e.entity,n=["userContainer "];e.selected&&n.push("choosed");var a=2===t.properties.sex?"blue":"red",c=r.a.createElement("img",{src:Tt.a,className:"lock",alt:"lock"}),i=r.a.createElement("img",{src:Ht.a,className:"verified",alt:"verified"});return r.a.createElement("div",{onClick:e.toggleSelection,onContextMenu:function(t){t.preventDefault(),e.toggleSelection()},className:n.join(" ")},r.a.createElement(Gt,{onMouseMove:function(e){return e.preventDefault()},onMouseDown:function(e){return e.preventDefault()},style:{borderColor:a},size:"tiny",circular:!0,bordered:!1,centered:!0,className:"avatar",title:t.id,src:t.img,alt:""}),1===t.private&&c,1===t.verified&&i,r.a.createElement("a",{onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},className:"userName",href:t.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",null,t.name),t.secondName&&r.a.createElement("div",null,t.secondName)))}n(608);var Wt={selectEntities:Re,setSearchValue:He},Zt=Object(Q.b)((function(e){var t=e.workSpace.entities.entities,n=t.map((function(t){return z(e,"entities",t)}));return{entitiesIDS:t,entities:n,isLoading:e.workSpace.entities.isLoading,selectedEntities:e.workSpace.entities.selectedEntities,searchValue:e.workSpace.entities.searchValue}}),Wt)((function(e){var t=e.searchValue,n=Object(ze.a)(e,["searchValue"]),c=r.a.createElement(jt,{text:"\u0422\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438, \u0433\u0440\u0443\u043f\u043f\u044b, \u043f\u043e\u0441\u0442\u044b \u0438\u043b\u0438 \u043f\u0440\u043e\u0447\u0430\u044f \u043c\u0435\u0434\u0438\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",popup:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443"}),i=Object(a.useState)(!0),o=Object(D.a)(i,2),s=o[0],u=o[1],m=n.entities.filter((function(e){return function(e){var n=function(e,t){return!e||!!t&&String(t).toLowerCase().includes(e.toLowerCase())},a=t.split(", ");return a.length>1?(!s||e.valid)&&a.includes(e.id):(!s||e.valid)&&(n(t,e.name)||n(t,e.username)||n(t,e.id))}(e)}));!m.length&&s&&u(!1);var d={display:"flex",alignItems:"center"};return r.a.createElement(y.a.Dimmable,{blurring:!0,as:C.a,clearing:!0,dimmed:!1,style:{display:"flex",flexDirection:"column",maxHeight:"100%"}},n.entities.length>0&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem",marginLeft:"0.5rem",marginRight:"0.5rem",justifyContent:"space-between"}},r.a.createElement(R.a,{value:t,onChange:function(e,t){return n.setSearchValue(t.value)},size:"mini",icon:r.a.createElement(T,{isInputStringEmpty:!t.length,onClose:function(){return n.setSearchValue("")}})}),r.a.createElement("div",{style:d},r.a.createElement("div",{style:{paddingRight:"0.5rem"}},"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c"),r.a.createElement(kt.a,{indeterminate:n.selectedEntities.length>0&&m.length!==n.selectedEntities.length,checked:m.length===n.selectedEntities.length,onChange:function(e,t){t.checked?n.selectEntities(m.map((function(e){return e.id}))):n.selectEntities([])}})),r.a.createElement("div",{style:d},r.a.createElement("div",{style:{paddingRight:"0.5rem"}},"\u0421\u043a\u0440\u044b\u0442\u044c \u043d\u0435\u0432\u0430\u043b\u0438\u0434"),r.a.createElement(kt.a,{onClick:function(e,t){return u(t.checked)},checked:s})),r.a.createElement("div",{style:d},r.a.createElement("div",{style:{marginRight:"1rem"}},"\u0421\u043f\u0438\u0441\u043e\u043a"),r.a.createElement(Dt.a,{toggle:!0}),r.a.createElement("div",{style:{marginLeft:"1rem"}},"\u0413\u0440\u0430\u0444"))),r.a.createElement("div",{className:"entitiesContainer",style:{maxHeight:"70vh",overflow:"auto"}},r.a.createElement(y.a,{inverted:!0,active:n.isLoading},r.a.createElement(Rt.a,{style:{top:"150px"},active:!0})),!n.entities.length&&c,m.map((function(e){return r.a.createElement(zt,{entity:e,key:e.id,selected:n.selectedEntities.includes(e.id),toggleSelection:function(){return t=e.id,void(n.selectedEntities.includes(t)?n.selectEntities(n.selectedEntities.filter((function(e){return e!==t}))):n.selectEntities([].concat(Object(l.a)(n.selectedEntities),[t])));var t}})}))))})),Xt=n(632),qt=(n(283),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(A.a)(t).call(this,e))).state={activeIndex:0},document.onkeydown=function(e){switch(e.keyCode){case 13:n.props.chooseElement(n.props.values[n.state.activeIndex]);break;case 27:n.props.unmountHints();break;case 38:e.preventDefault(),n.setState({activeIndex:Math.max(n.state.activeIndex-1,0)});break;case 40:e.preventDefault(),n.setState({activeIndex:Math.min(n.state.activeIndex+1,n.props.values.length-1)})}},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){document.onkeydown=void 0}},{key:"render",value:function(){var e=this,t=this.props.values;return r.a.createElement("div",{style:{marginLeft:7*this.props.marginLeftSymbols+"px"},id:"hintsList"},t.map((function(t,n){return r.a.createElement("div",{onMouseDown:function(t){e.props.chooseElement(e.props.values[Number(t.target.getAttribute("index"))])},key:t,index:n,className:"hintsListItem "+(e.state.activeIndex===n&&"activeHint")},t)})))}}]),t}(a.Component)),Jt={executeQuery:de,typeSymbol:function(e){return{type:$,value:e}},selectHint:function(e){return{type:ee,value:e}},removeHints:function(){return{type:ne}},closeMessage:function(){return{type:re}}},Kt=Object(Q.b)((function(e){return{hints:e.workSpace.search.currentHints,value:e.workSpace.search.queryString,loading:e.workSpace.search.isLoading,placeholder:e.workSpace.search.placeholder,error:e.workSpace.search.isError,warning:e.workSpace.search.isWarning,message:e.workSpace.search.message}}),Jt)((function(e){var t=r.a.useState(!1),n=Object(D.a)(t,2),a=n[0],c=n[1],i=!a||e.placeholder.startsWith("\u0412\u0432\u0435\u0434\u0438\u0442\u0435")||e.value.length?e.value:e.placeholder,l=function(t){e.error||e.executeQuery(t)};return r.a.createElement(C.a,{basic:!0,style:{marginBottom:"1rem",padding:0}},e.message.draw&&r.a.createElement(Xt.a,{error:e.message.error,warning:e.message.warning},r.a.createElement(S.a,{onClick:e.closeMessage,name:"close"}),r.a.createElement(Xt.a.Header,null,e.message.header),r.a.createElement("p",null,e.message.body)),r.a.createElement(R.a,{onChange:function(t,n){return e.typeSymbol(n.value)},fluid:!0,onFocus:function(e){c(!0)},onBlur:function(){e.removeHints(),c(!1)},loading:e.loading,error:e.error,value:i,icon:{name:"search",circular:!1,link:!0,onClick:function(t){return l(e.value)}},placeholder:e.placeholder,onKeyDown:function(t){13!==t.keyCode||e.hints.length||l(i)}}),e.hints.length>0&&r.a.createElement(qt,{marginLeftSymbols:e.value.length,chooseElement:e.selectHint,unmountHints:e.removeHints,values:e.hints}))}));var _t=function(){return r.a.createElement(u.a,{style:{padding:"3rem",width:"90vw",height:"100vh",display:"flex",flexDirection:"column"}},r.a.createElement(O,null),r.a.createElement(Kt,null),r.a.createElement(m.a,{columns:"equal",style:{flexGrow:"1"}},r.a.createElement(m.a.Column,{width:4},r.a.createElement(Mt,null)),r.a.createElement(m.a.Column,{width:7},r.a.createElement(Zt,null)),r.a.createElement(m.a.Column,{width:5},r.a.createElement(wt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $t=n(28),en=n(312),tn=n(634),nn=Object($t.c)({workSpace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(console.log("ACTION",t),t.type){case ve.type:return{clusters:De(void 0,t),entities:Fe(void 0,t),controls:fe(void 0,t),search:se(void 0,t),objects:{}};case ke.type:return Object(P.a)({},e,{clusters:De(e.clusters,ke(t.payload.result.clusters)),objects:G(e.objects,t.payload.entities)});case Se.type:var n=t.payload,a=e.objects.clusters[n];return Object(P.a)({},e,{search:se(e.search,le(a.params.query)),clusters:De(e.clusters,Be(n)),entities:Fe(e.entities,Te(a.entities)),controls:fe(e.controls,Ae(a.properties))});default:return Object(P.a)({},e,{clusters:De(e.clusters,t),entities:Fe(e.entities,t),controls:fe(e.controls,t),search:se(e.search,t)})}},form:tn.a}),an=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}();console.log("STATE LOADED FROM LOCAL STORAGE",an);var rn=Object($t.d)(nn,an,Object($t.a)(en.a));rn.subscribe((function(){_e(rn.getState())})),window.store=rn,i.a.render(r.a.createElement(Q.a,{store:rn},r.a.createElement(_t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[348,1,2]]]);
//# sourceMappingURL=main.6469203e.chunk.js.map