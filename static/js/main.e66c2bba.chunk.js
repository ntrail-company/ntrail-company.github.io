(this.webpackJsonpntrail=this.webpackJsonpntrail||[]).push([[0],{191:function(e,t,a){},210:function(e,t,a){},229:function(e,t,a){e.exports=a.p+"static/media/2.9ed51b09.svg"},230:function(e,t,a){e.exports=a.p+"static/media/4.4045a540.svg"},231:function(e,t,a){e.exports=a.p+"static/media/3.1a5c1687.svg"},232:function(e,t,a){e.exports=a.p+"static/media/1.6d1d72e9.svg"},234:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTg4NzZmMy01NjM4LWI5NDItOTU0My1iM2Q3Y2JmYTIwYWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5RkU4RjkyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5RkU4RjgyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGYyN2VmM2QtYzAxOS01NDRmLTk5NmEtYjU4MDE2Mzk3YTc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NmEwMGQ2Y2YtMjY3Yi0xMWU4LTliOGEt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"},235:function(e,t,a){e.exports=a.p+"static/media/vkverified.0063cefb.svg"},251:function(e,t,a){e.exports=a(431)},256:function(e,t,a){},258:function(e,t){Set.prototype.difference=function(e){var t=new Set,a=!0,n=!1,r=void 0;try{for(var c,l=this[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value;e.has(i)||t.add(i)}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return t}},427:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),l=a.n(c),i=(a(256),a(257),a(258),a(444)),o=a(456),s=a(30),u=a(31),m=a(32),d=a(33),A=a(34),p=a(453),h=a(457),E=a(433),g=a(455),v=a(446),f=a(458),y=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{active:!0,onClickOutside:this.props.handleClose,page:!0},r.a.createElement(o.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(o.a.Column,{style:{maxWidth:450,minWidth:360}},r.a.createElement(h.a,{as:"h2",color:"teal",textAlign:"center"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(v.a,{size:"large"},r.a.createElement(f.a,{stacked:!0},r.a.createElement(v.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0430"}),r.a.createElement(v.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),r.a.createElement(E.a,{color:"teal",fluid:!0,size:"large"},"\u0412\u043e\u0439\u0442\u0438"))),r.a.createElement(E.a,{style:{marginTop:"15px"},inverted:!0,color:"teal",fluid:!0,size:"large"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),t}(n.Component),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={status:"base"},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{secondary:!0},r.a.createElement(p.a.Item,{style:{padding:0}},r.a.createElement(h.a,{as:"h1"},"NTrail")),r.a.createElement(p.a.Item,{position:"right",style:{padding:0}},r.a.createElement(E.a,{secondary:!0,style:{marginRight:"0.5em"}},"\u041a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f?"),r.a.createElement(E.a,{primary:!0,onClick:function(){return e.setState({status:"auth"})}},"\u0412\u043e\u0439\u0442\u0438"),"auth"===this.state.status&&r.a.createElement(y,{handleClose:function(){e.setState({status:"base"})}}))),r.a.createElement("p",{style:{fontSize:"1.23em"}},"\u0412\u0430\u0448 \u043f\u0440\u043e\u0432\u043e\u0434\u043d\u0438\u043a \u043f\u043e \u043c\u0438\u0440\u0443 \u0441\u043e\u0446\u0441\u0435\u0442\u0435\u0439"))}}]),t}(n.Component),C=a(450),I=(a(191),a(448)),w=a(65);function k(e){var t=e.level,a=5*t,n=Array(5).fill().map((function(e,t){return r.a.createElement("div",{key:t,className:"confidenceLevel "+(5-t<=a?"levelFilled":"")})}));return r.a.createElement("div",null,n)}var j={doNotHaveProperty:{popupText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043b\u044e\u0434\u0435\u0439, \u043d\u0435 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0449\u0438\u0445 \u044d\u0442\u0438\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c",iconName:"arrow alternate circle left outline"},haveProperty:{popupText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u044e\u0434\u0435\u0439 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c",iconName:"arrow alternate circle right outline"},decreaseOrder:{popupText:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044f",iconName:"angle double right"},increaseOrder:{popupText:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f",iconName:"angle double left"}},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.propertyItem,a=[];"show"===t.type?a=["haveProperty","doNotHaveProperty"]:"order"===t.type&&(a=["decreaseOrder","increaseOrder"]);var n=a.map((function(e){return r.a.createElement(I.a,{key:e,mouseEnterDelay:500,position:"top right",content:j[e].popupText,trigger:r.a.createElement(w.a,{color:"grey",className:"actionButton",name:j[e].iconName})})}));return r.a.createElement(C.a.Row,{onMouseOver:function(){return e.setState({active:!0})},onMouseLeave:function(){return e.setState({active:!1})},className:"property"},r.a.createElement(C.a.Cell,{width:"10"},t.name),r.a.createElement(C.a.Cell,{width:"5",style:{wordWrap:"break-word"}},t.value),r.a.createElement(C.a.Cell,{width:"2",className:"confidenceCell"},this.state.active?n:"confidence"in t&&r.a.createElement(k,{level:t.confidence})))}}]),t}(n.Component),S=a(19),Q=Object(S.b)((function(e){return{importantProperties:e.workSpace.controls.properties.important,interestingProperties:e.workSpace.controls.properties.interesting}}))((function(e){return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,e.importantProperties.map((function(e){return r.a.createElement(C.a.HeaderCell,{key:e.name,className:"propertyTableHeader"},e.name)})))),r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Row,null,e.importantProperties.map((function(e){return r.a.createElement(C.a.Cell,{key:e.id},e.value)}))))),r.a.createElement(C.a,{selectable:!0,fixed:!0},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,{className:"propertyTableHeader",width:10},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(C.a.HeaderCell,{className:"propertyTableHeader",width:5},"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.a.createElement(C.a.HeaderCell,{width:2}))),r.a.createElement(C.a.Body,null,e.interestingProperties.map((function(e){return r.a.createElement(O,{key:e.id,propertyItem:e})})))))})),B=a(40),x=a(442),M=a(451),D=a(11),R=a(39),H=a(227),N=a.n(H);function T(e){return N()(e)}var L=function(e,t){for(var a=Object(D.a)({},e),n=0,r=Object.entries(t);n<r.length;n++){var c=r[n],l=Object(B.a)(c,2),i=l[0],o=l[1];a[i]=i in a?Object(D.a)({},a[i],{},o):o}return a},P=function(e,t,a){return e.workSpace.objects[t][a]};var F="\u0412 \u0442\u0435\u043a\u0441\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043f\u0443\u0449\u0435\u043d\u0430 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",U=a(228),Y=a.n(U),G=a(114),W=Y.a.create({baseURL:"http://127.0.0.1:5000"}),Z=function(e){return W.get("/query/?q=".concat(e)).then((function(e){return function(e){var t=new G.b.Entity("entities"),a={clusters:[new G.b.Entity("clusters",{entities:[t]})]};return Object(G.a)(e,a)}(e.data.data)}))},z={queryString:"",allHints:["https://","vk.com/","instagram.com/","me","age","user","user https://vk.com/","school","sex","city","search","net","internet","page","cache","followers","follows","VKUser","VKCommunity","Hello world","vkuser","IGUser","friends","process_data()","params","VKGroup","VKUser.me()","full_data","short_data"],currentHints:[],isLoading:!1,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441",isError:!1,errorText:"",message:{draw:!1,header:"",body:"",warning:!1,error:!1}},J="TYPE_SYMBOL",V="SELECT_HINT",q="CLEAR_INPUT",K="REMOVE_HINTS",X="CHANGE_MESSAGE",_="CLOSE_MESSAGE",$="ACTIVATE_LOADER",ee="REMOVE_LOADER",te=T("make_input_placeholder");function ae(e){return e.split(/[\s, ./:()[\]]+/).slice(-1)[0]}function ne(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:var n=a.value,r=ae(n),c=[];return r.length&&(c=t.allHints.filter((function(e){return e.startsWith(r)&&!(r===e)}))),Object(D.a)({},t,{currentHints:c,queryString:n,isError:(e=n,!!e.includes("#")),placeholder:z.placeholder});case V:var l=t.queryString.slice(0,-ae(t.queryString).length)+a.value;return Object(D.a)({},t,{currentHints:[],queryString:l});case K:return Object(D.a)({},t,{currentHints:[]});case q:return Object(D.a)({},t,{queryString:"",placeholder:a.placeholder});case X:return Object(D.a)({},t,{message:Object(D.a)({},t.message,{header:a.header,draw:!0,body:a.body,error:a.error,warning:a.warning})});case _:return Object(D.a)({},t,{message:Object(D.a)({},t.message,{draw:!1})});case $:return Object(D.a)({},t,{isLoading:!0,message:Object(D.a)({},t.message,{draw:!1})});case ee:return Object(D.a)({},t,{isLoading:!1});case te.type:return Object(D.a)({},t,{placeholder:a.payload,queryString:""});default:return t}}var re=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:X,header:e,body:t,error:a,warning:n}},ce=function(){return{type:ee}},le=function(e){return function(t,a){(t(te(e)),0===e.length)?0===e.length?t(re("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443. \u041f\u043e\u043a\u0430 \u043e\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f",!1,!0)):t(re(F,"\u0422\u0443\u0442 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438, \u043d\u043e \u044f \u043f\u043e\u043a\u0430 \u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u043b \u0440\u0430\u0437\u0431\u043e\u0440",!0)):(t({type:$}),Z(e).then((function(e){t(ce()),console.log("NORMALIZE RESULT IS",e),t(se(e)),t(ue(e.result.clusters[0]))})).catch((function(e){t(ce());var a=e.response;a?t(re("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0440\u043f\u043e\u0441\u0430 (".concat(a.status,")"),a.data.error,!0)):(console.log(e),t(re("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438","\u041b\u0438\u0431\u043e \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442\u0443 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430, \u043b\u0438\u0431\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u043f\u0430\u043b, \u0442\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0437\u0440\u0430\u0431 \u043a\u0440\u0438\u0432\u043e\u0440\u0443\u043a\u0438\u0439",!0)))})))}},ie=T("CLEAR_ALL"),oe={clusters:void 0,entities:void 0,controls:void 0,search:void 0,objects:{}},se=T("ADD_CLUSTERS"),ue=T("SELECT_CLUSTER"),me=T("REMOVE_CLUSTERS_FROM_PANEL"),de=T("START_LOADING_CLUSTER"),Ae=T("make_cluster_selected"),pe=T("setHighlightedClusters"),he={clusters:[],selectedClusterID:null,highlightedClusters:[]};function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe.type:return console.log("here"),Object(D.a)({},e,{highlightedClusters:t.payload});case se.type:var a=t.payload;return Object(D.a)({},e,{clusters:Object(R.a)(new Set([].concat(Object(R.a)(e.clusters),Object(R.a)(a))))});case Ae.type:var n=t.payload;return Object(D.a)({},e,{selectedClusterID:n});case me.type:var r=t.payload,c=e.selectedClusterID,l=e.clusters.filter((function(e){return!r.includes(e)}));return Object(D.a)({},e,{clusters:l,selectedClusterID:r.includes(c)?-1:c,highlightedClusters:e.highlightedClusters.filter((function(e){return!r.includes(e)}))});default:return e}}var ge=T("SELECT_ENTITIES"),ve=T("TOGGLE_ENTITY_SELECTION"),fe=T("setEntities"),ye=T("removeLoader"),be={isLoading:!1,selectedEntities:[],entities:[]};function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.type:case se.type:return Object(D.a)({},e,{isLoading:!1});case de.type:return Object(D.a)({},e,{isLoading:!0});case ge.type:return Object(D.a)({},e,{selectedEntities:t.payload});case ve.type:var a=t.payload;return e.selectedEntities.includes(a)?Object(D.a)({},e,{selectedEntities:e.selectedEntities.filter((function(e){return e!==a}))}):Object(D.a)({},e,{selectedEntities:[].concat(Object(R.a)(e.selectedEntities),[a])});case fe.type:return Object(D.a)({},e,{entities:t.payload,selectedEntities:[]});default:return e}}var Ie="ACTIVE_PROPERTY_ID",we="SELECT_MENU",ke={activePropertyId:-1,properties:{important:[{name:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435",value:0,id:0},{name:"\u0421\u0432\u044f\u0437\u043d\u043e\u0441\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:"\u041d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430",id:1}],interesting:[{name:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440",value:"\u0427\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0433\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430",id:0}],all:[]},activeItem:"filter",filterMode:"net"},je=T("setProperties"),Oe=T("changeFilterMode"),Se=function(e,t){return"params"===e.activeItem?e:Object(D.a)({},e,{activeItem:t})};function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(D.a)({},e,{activePropertyId:t.newId});case we:return Object(D.a)({},e,{activeItem:t.name});case ge.type:var a=t.payload.length;return"params"===e.activeItem?e:Se(e,a>0?"actions":"properties");case je.type:return Object(D.a)({},Se(e,"properties"),{properties:t.payload});case pe.type:var n=t.payload.length?"actions":"properties";return Se(e,n);case Oe.type:return Object(D.a)({},e,{filterMode:t.payload});default:return e}}var Be=Object(S.b)((function(e){return{allProperties:e.workSpace.controls.properties.all,activePropertyId:e.workSpace.controls.activePropertyId}}),{changeActivePropertyId:function(e){return{type:Ie,newId:e}}})((function(e){var t=function(t,a){var n=a.index,r=e.activePropertyId===n?-1:n;e.changeActivePropertyId(r)},a=Object(n.useState)(""),c=Object(B.a)(a,2),l=c[0],i=c[1],o=r.a.createElement(w.a,{name:l.length?"close":"search",onClick:function(){l.length&&i("")},link:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{fluid:!0,icon:o,value:l,placeholder:"\u0413\u0440\u0430\u043c\u043e\u0442\u043d\u043e\u0441\u0442\u044c, 12, \u0448\u043a\u043e\u043b\u0430, \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",onChange:function(e,t){i(t.value)}}),r.a.createElement(M.a,null,e.allProperties.map((function(a){return r.a.createElement(M.a.Accordion,{key:a.id},r.a.createElement(M.a.Title,{index:a.id,active:e.activePropertyId===a.id,onClick:t},r.a.createElement(w.a,{name:"dropdown"}),e.activePropertyId===a.id?r.a.createElement("b",null,a.name):a.name,r.a.createElement(w.a,{link:!0,circular:!0,style:{float:"right"},name:"chart line"})),r.a.createElement(M.a.Content,{active:e.activePropertyId===a.id},r.a.createElement(C.a,{selectable:!0},r.a.createElement(C.a.Body,null,a.values.map((function(e){return r.a.createElement(C.a.Row,{key:e.name},r.a.createElement(C.a.Cell,{width:"10"},e.name),r.a.createElement(C.a.Cell,{width:"5"},e.value),r.a.createElement(C.a.Cell,{width:"2"},r.a.createElement(w.a,{link:!0,name:"eye",color:"grey"})))}))))))}))))})),xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"},a.clickMenu=function(e,t){var n=t.name;a.setState({activeItem:n})},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement("div",null,r.a.createElement(p.a,{secondary:!0,size:"tiny"},r.a.createElement(p.a.Item,{onClick:this.clickMenu,active:"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"===e,name:"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"}),r.a.createElement(p.a.Item,{onClick:this.clickMenu,active:"\u0432\u0441\u0435"===e,name:"\u0432\u0441\u0435"})),"\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435"===e?r.a.createElement(Q,null):r.a.createElement(Be,null))}}]),t}(n.Component),Me=a(112),De=a(449),Re=a(447),He=a(445),Ne=a(36),Te=function(e,t){return t||(t="value"),function(a){return console.log("Form Wrapper props",a),r.a.createElement(e,Object.assign({},a,Object(D.a)({},a.input,Object(Ne.a)({value:void 0},t,a.input.value)),{error:a.meta.error,onChange:function(e,n){return n?a.input.onChange(n[t].trim()):a.input.onChange(e)}}))}},Le=a(237),Pe=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log("Error in save state")}},Fe=new Set(["feed","news","music","edit","settings","im","friends","groups","video","apps","vkpay","market","docs","blog","dev","biz","about","jobs","legal","data_protection","safety","exilemusic","exilemusic","verify","exile_music"]),Ue={extractFromString:function(e){return function(t,a){var n=e.text;if(!n)throw new Le.a({text:"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435"});var r=/href="\/(\w+)"/g,c=r.exec(n);if(!c)throw new Le.a({text:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"});for(var l=new Set;c;)l.add(c[1]),c=r.exec(n);var i="vkUsers ("+(l=Object(R.a)(l.difference(Fe))).join(" ")+")";t(le(i))}}},Ye=Object(S.b)((function(){return{}}),Ue)(Object(He.a)({form:"StringSearch"})((function(e){return r.a.createElement(v.a,{onSubmit:e.handleSubmit(e.extractFromString)},r.a.createElement("p",null,"\u041c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c ",r.a.createElement("b",null,"\u043f\u043e\u0438\u0441\u043a")," \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u043a, \u043d\u0430\u0436\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435, \u0437\u0430\u0442\u0435\u043c ",r.a.createElement("b",null,"Page source"),", \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430 (\u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e ctrl + U)"),r.a.createElement(Re.a,{name:"text",component:Te(v.a.TextArea)}),r.a.createElement(E.a,{type:"submit",content:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c",style:{marginTop:"0.2rem"},fluid:!0,basic:!0}))}))),Ge=function(e){return r.a.createElement(M.a,null,r.a.createElement(M.a.Accordion,null,r.a.createElement(M.a.Title,{active:!0},r.a.createElement(w.a,{name:"dropdown"}),"\u0412\u041a"),r.a.createElement(M.a.Content,{active:!0},r.a.createElement(Re.a,{component:v.a.Input,name:"vkSearchQuery",label:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",placeholder:"\u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432, \u043c\u0435\u043c\u044b \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c"}),r.a.createElement(v.a.Group,null,r.a.createElement(Re.a,{component:Te(v.a.Checkbox,"checked"),name:"usersInclude",label:"\u041b\u044e\u0434\u0438"}),r.a.createElement(Re.a,{component:Te(v.a.Checkbox,"checked"),name:"groupsInclude",label:"\u0413\u0440\u0443\u043f\u043f\u044b"}),r.a.createElement(Re.a,{component:Te(v.a.Checkbox,"checked"),name:"postsInclude",label:"\u041f\u043e\u0441\u0442\u044b"})),r.a.createElement(v.a.Input,{label:"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c",placeholder:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0448\u043a\u043e\u043b\u0430, \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435, \u0444\u0443\u0442\u0431\u043e\u043b"}))))},We=function(e){return Number(e)>1e3?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: 1000":void 0},Ze=Object(He.a)({form:"StringSearch",onSubmit:function(){return console.log("submit")}})((function(e){return r.a.createElement(v.a,{autoComplete:"off"},r.a.createElement(Re.a,{name:"limit",normalize:function(e,t){return Number(e)||""===e?e:t},component:Te(v.a.Input),validate:We,label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"}),r.a.createElement(Re.a,{component:v.a.Input,name:"commonQueryString",label:"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",placeholder:"nagibator666"}),r.a.createElement(Ge,null))})),ze=function(e){return r.a.createElement(r.a.Fragment,null)},Je={changeFilterMode:Oe},Ve=Object(S.b)((function(e){return{searchMode:e.workSpace.controls.filterMode}}),Je)((function(e){var t=e.searchMode,a=Object(Me.a)(e,["searchMode"]);return r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("b",null,"\u041e\u0442\u043a\u0443\u0434\u0430 \u0431\u0440\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"),r.a.createElement(De.a,{value:t,onChange:function(e,t){return a.changeFilterMode(t.value)},fluid:!0,selection:!0,options:[{key:"net",text:"\u0418\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430 (\u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043a API \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432)",value:"net"},{key:"cache",text:"\u0418\u0437 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 NTrail (\u0437\u0430\u043a\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b)",value:"cache"},{key:"page",text:"\u0421 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u0443\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430)",value:"page"},{key:"cluster",text:"\u0418\u0437 \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:"cluster"},{key:"text",text:"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438",value:"text"}],style:{marginBottom:"1rem"}}),"text"===t&&r.a.createElement(Ye,null),("net"===t||"cache"===t)&&r.a.createElement(Ze,null),("page"===t||"cluster"===t)&&r.a.createElement(ze,null))})),qe=a(229),Ke=a.n(qe),Xe=a(230),_e=a.n(Xe),$e=a(231),et=a.n($e),tt=a(232),at=a.n(tt),nt=function(e){var t={display:"inline-block",marginRight:"5px",width:"1.5rem",height:"auto"},a="object"===typeof e.icon?e.icon:r.a.createElement("img",{src:e.icon,alt:"afs",style:t});return r.a.createElement(E.a,{basic:!0,onClick:e.onClick},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"1rem"}},a),r.a.createElement("div",{style:{margin:"auto"}},e.text)))},rt={downloadWorkSpace:function(){return function(e,t){var a="NTrail workspace (".concat(t().workSpace.clusters.clusters.length," clusters)");!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),c=URL.createObjectURL(n);r.href=c,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(c)}),0)}}(JSON.stringify(t()),a,"")}},uploadWorkSpace:function(){return function(e,t){var a=document.createElement("input");a.type="file",a.onchange=function(e){var t=e.target.files[0],a=new FileReader;a.readAsText(t,"UTF-8"),a.onload=function(t){var a=t.target.result;console.log("File loaded");try{var n=JSON.parse(a);if(!("form"in n))throw Error("\u043e\u0448\u0438\u0431\u043a\u0430");Pe(n)}catch(e){alert('\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0434\u0430\u043d\u043d\u044b\u0445 NTrail \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430! (\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u044b, \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043f\u0446\u0438\u0438 "\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e") \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u0430\u0439\u043b')}window.location.reload(!0)}},a.click()}}},ct=Object(S.b)((function(e){return{selectedClustersCount:e.workSpace.clusters.highlightedClusters.length,selectedEntitiesCount:e.workSpace.entities.selectedEntities.length}}),rt)((function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{size:"small",style:{marginLeft:"0.2rem"}},"\u0425\u043e\u043b\u0441\u0442"),r.a.createElement(E.a.Group,{vertical:!0,basic:!0,style:{width:"100%"}},r.a.createElement(nt,{onClick:e.downloadWorkSpace,text:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u043e",icon:r.a.createElement(w.a,{name:"download"})}),r.a.createElement(nt,{onClick:e.uploadWorkSpace,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e",icon:r.a.createElement(w.a,{name:"upload"})})),e.selectedClustersCount>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{size:"small",style:{marginLeft:"0.2rem"}},"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"),r.a.createElement(E.a.Group,{basic:!0,compact:!0,vertical:!0,style:{width:"100%"}},2===e.selectedClustersCount&&r.a.createElement(nt,{text:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c",icon:r.a.createElement(w.a,{name:"sun outline"})}),r.a.createElement(nt,{text:"\u041f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0435",icon:at.a}),r.a.createElement(nt,{text:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",icon:Ke.a}),r.a.createElement(nt,{text:"\u0420\u0430\u0437\u043d\u043e\u0441\u0442\u044c",icon:_e.a}),r.a.createElement(nt,{text:"\u0421\u0438\u043c\u043c\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c",icon:et.a}),r.a.createElement(nt,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435",icon:r.a.createElement(w.a,{name:"trash alternate outline"})}))),e.selectedEntitiesCount>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{size:"small",style:{marginLeft:"0.2rem"}},"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438"),r.a.createElement(E.a.Group,{vertical:!0,basic:!0,style:{width:"100%"}},r.a.createElement(nt,{text:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0442\u0435\u0440",icon:r.a.createElement(w.a,{name:"dot circle outline"})}),r.a.createElement(nt,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",icon:r.a.createElement(w.a,{name:"remove circle"})}),1===e.selectedEntitiesCount&&r.a.createElement(nt,{text:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437",icon:r.a.createElement(w.a,{name:"shekel"})}),r.a.createElement(nt,{text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439",icon:r.a.createElement(w.a,{name:"user circle"})}),r.a.createElement(nt,{text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",icon:r.a.createElement(w.a,{name:"address book outline"})}),r.a.createElement(nt,{text:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432",icon:r.a.createElement(w.a,{name:"comment alternate"})}))))})),lt=function(e){var t=e.value,a=e.label,n=e.component,c=e.condition;if(void 0===c&&(c=!0),!t||!c)return r.a.createElement(r.a.Fragment,null);var l=v.a.Input;return n&&(l=n),r.a.createElement(l,{value:t,label:a})},it=Object(S.b)((function(e){return{clusterID:e.workSpace.clusters.selectedClusterID,selectedEntitiesID:e.workSpace.entities.selectedEntities,selectedEntitiesURLS:e.workSpace.entities.selectedEntities.map((function(t){return e.workSpace.objects.entities[t].url})),clustersCount:e.workSpace.clusters.clusters.length,entitiesCount:e.workSpace.entities.entities.length,selectedClustersID:e.workSpace.clusters.highlightedClusters}}))((function(e){return console.log(e),r.a.createElement(v.a,{style:{marginTop:"0.5rem"}},r.a.createElement(lt,{label:"ID \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:e.clusterID}),r.a.createElement(lt,{component:v.a.TextArea,label:"ID \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432",value:e.selectedClustersID.join("\n")}),r.a.createElement(v.a.Group,null,r.a.createElement(lt,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432",value:e.clustersCount}),r.a.createElement(lt,{label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430",value:e.entitiesCount})),r.a.createElement(lt,{label:"ID \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439",value:e.selectedEntitiesID.join(", ")}),r.a.createElement(lt,{component:v.a.TextArea,label:"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438",value:e.selectedEntitiesURLS.join("\n")}))})),ot={selectMenu:function(e){return{type:we,name:e}}},st=Object(S.b)((function(e){return{activeItem:e.workSpace.controls.activeItem}}),ot)((function(e){var t=e.activeItem,a=r.a.createElement(xe,null);return"actions"===t?a=r.a.createElement(ct,null):"filter"===t?a=r.a.createElement(Ve,null):"params"===t&&(a=r.a.createElement(it,null)),r.a.createElement(f.a,null,r.a.createElement(p.a,{secondary:!0,style:{marginBottom:"0.2rem"}},r.a.createElement(p.a.Item,{active:"properties"===t,name:"properties",content:"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430",onClick:function(){return e.selectMenu("properties")}}),r.a.createElement(p.a.Item,{onClick:function(){return e.selectMenu("filter")},active:"filter"===t,name:"filter",content:"\u0424\u0438\u043b\u044c\u0442\u0440"}),r.a.createElement(p.a.Item,{onClick:function(){return e.selectMenu("actions")},active:"actions"===t,name:"actions",content:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),r.a.createElement(p.a.Item,{onClick:function(){return e.selectMenu("params")},active:"params"===t,name:"params",content:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"})),a)})),ut=function(e){var t=e.text,a=e.position;return r.a.createElement(I.a,{position:a,content:t,trigger:r.a.createElement(w.a,{color:"grey",name:"question circle"})})},mt=function(e){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",width:"100%"}},r.a.createElement("div",{style:{float:"left"}},e.text),"\xa0\xa0",r.a.createElement(ut,{text:e.popup}))},dt=(a(427),a(432));function At(e){var t=e.photos,a=function(e,t){var a={zIndex:100-t};return 1===e?a:2===e?Object(D.a)({},a,{left:"20%"}):Object(D.a)({},a,{left:75/e*t+"%"})};return r.a.createElement("div",{className:"imagesContainer"},t.map((function(e,n){return r.a.createElement("img",{key:n,style:a(t.length,n),className:"previewClusterImage",src:e,alt:""})})))}var pt=function(e){var t=e.clusterData,a=e.chooseCluster,c=e.selected,l=e.pos,i=l.x,o=l.y,s=e.dragCluster,u=Object(Me.a)(e,["clusterData","chooseCluster","selected","pos","dragCluster"]),m=t.photos,d=Object(n.useState)({width:0,height:0}),A=Object(B.a)(d,2),p=A[0],h=A[1],E=Object(n.useState)(!1),g=Object(B.a)(E,2),v=g[0],f=g[1],y={zIndex:c?100:0,left:i-p.width/2+"px",top:o-p.height/2+"px",width:t.size+"rem"},b=Object(n.useRef)();Object(n.useLayoutEffect)((function(){b.current&&h({width:b.current.offsetWidth,height:b.current.offsetHeight})}),[]);var C=function(){v&&u.checkOverlay(),f(!1)},I=["clusterObject",c&&"selectedCluster",u.isOverlay&&"overlayCluster"];return r.a.createElement("div",{ref:b,onMouseUp:function(){return C()},onMouseLeave:function(){return C()},onMouseDown:function(e){e.preventDefault(),a(t.id),f(!0)},onMouseMove:function(e){e.preventDefault(),v&&s(t.id,e.movementX,e.movementY)},style:y,className:I.join(" ")},(c||u.showCheckbox)&&r.a.createElement(dt.a,{checked:u.highlighted,onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},onChange:function(e){u.toggleClusterHighlight(t.id)},style:{zIndex:"103",position:"absolute",right:"0.5rem",top:"0.5rem"}}),r.a.createElement(At,{photos:m}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"}},r.a.createElement("div",null,t.name," ")))},ht=function(e){var t=e.x1,a=e.x2,n=e.y1,c=e.y2,l=e.shorten,i=a-t,o=c-n;l||(l=0);var s=Math.sqrt(i*i+o*o),u=s-2*l;if(l&&(s<20||u<20))return r.a.createElement("line",null);var m=u/s,d=i*m,A=o*m;return a=(t+=(i-d)/2)+d,c=(n+=(o-A)/2)+A,r.a.createElement("line",{x1:t+"px",y1:n+"px",x2:a+"px",y2:c+"px",stroke:"black"})},Et=a(233),gt=a.n(Et).a.create(),vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={positions:{},width:0,height:0,clusters:[],connections:[],overlayClusterID:null},a.dragCluster=function(e,t,n){var r=a.state.positions,c=r[e].x+t,l=r[e].y+n,i=a.getNearestCluster(e),o=i.nearestClusterID,s=i.dist;a.setState({overlayClusterID:s<30?o:null});var u=function(e,t){return e>50&&e<t-50};u(c,a.state.width)&&u(l,a.state.height)&&a.setState({positions:Object(D.a)({},r,Object(Ne.a)({},e,{x:c,y:l}))})},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"updateState",value:function(e){var t=function(e,t,a){gt.initState();var n={},r=!0,c=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;n[s]=[]}}catch(P){c=!0,l=P}finally{try{r||null==o.return||o.return()}finally{if(c)throw l}}var u=!0,m=!1,d=void 0;try{for(var A,p=t[Symbol.iterator]();!(u=(A=p.next()).done);u=!0){var h=A.value;n[h.from].push(h.to),n[h.to].push(h.from)}}catch(P){m=!0,d=P}finally{try{u||null==p.return||p.return()}finally{if(m)throw d}}for(var E,g=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},v=function(e){var t,a,r=0,c=!0,l=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(c=(o=s.next()).done);c=!0){var u=o.value,m=!0,d=!1,A=void 0;try{for(var p,h=e[Symbol.iterator]();!(m=(p=h.next()).done);m=!0){var E=p.value;if(u!==E){var v=g(u,E);v<100?r-=5e3:(t=u.id,a=E.id,n[t].includes(a)?r-=v:r+=v)}}}catch(P){d=!0,A=P}finally{try{m||null==h.return||h.return()}finally{if(d)throw A}}}}catch(P){l=!0,i=P}finally{try{c||null==s.return||s.return()}finally{if(l)throw i}}return r},f=Math.max(70*e.length,250),y={},b=f-100,C=a-100,I=-1e9,w=0;w<100*e.length;w++){var k=[],j=!0,O=!1,S=void 0;try{for(var Q,B=e[Symbol.iterator]();!(j=(Q=B.next()).done);j=!0){var x=Q.value;k.push({id:x,x:gt(1e3)/1e3*C,y:gt(1e3)/1e3*b})}}catch(P){O=!0,S=P}finally{try{j||null==B.return||B.return()}finally{if(O)throw S}}var M=v(k);M>I&&(E=k,I=M)}var D=!0,R=!1,H=void 0;try{for(var N,T=E[Symbol.iterator]();!(D=(N=T.next()).done);D=!0){var L=N.value;y[L.id]={x:50+L.x,y:50+L.y}}}catch(P){R=!0,H=P}finally{try{D||null==T.return||T.return()}finally{if(R)throw H}}return{positions:y,height:f}}(this.props.clustersID,this.props.connections,e),a=t.positions,n=t.height;this.setState({width:e,positions:a,height:n,clusters:this.props.clusters,connections:this.props.connections})}},{key:"componentDidMount",value:function(){var e=this.containerRef.current.offsetWidth;this.updateState(e)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.clustersID!==e.clustersID&&this.updateState(this.state.width)}},{key:"getNearestCluster",value:function(e){for(var t=this.state.positions,a=t[e],n=a.x,r=a.y,c=9999999,l=-1,i=0,o=Object.entries(t);i<o.length;i++){var s=o[i],u=Object(B.a)(s,2),m=u[0],d=u[1];if(m!==e){var A=d.x,p=d.y,h=Math.sqrt(Math.pow(n-A,2)+Math.pow(r-p,2));h<c&&(c=h,l=m)}}return{nearestClusterID:l,dist:c}}},{key:"toggleClusterHighlight",value:function(e){this.props.highlightedClusters.includes(e)?this.props.setHighlightedClusters(Object(R.a)(this.props.highlightedClusters.filter((function(t){return t!==e})))):this.props.setHighlightedClusters([].concat(Object(R.a)(this.props.highlightedClusters),[e]))}},{key:"checkOverlay",value:function(){this.state.overlayClusterID&&this.props.selectedClusterID&&this.props.setHighlightedClusters([this.state.overlayClusterID,this.props.selectedClusterID]),this.setState({overlayClusterID:null}),this.updateState(this.state.width)}},{key:"render",value:function(){var e=this,t=this.state.connections;this.containerRef=Object(n.createRef)();var a=this.state,c=a.width,l=a.height,i=a.positions;return r.a.createElement("div",{className:"clustersAnimationsContainer",ref:this.containerRef},r.a.createElement("div",{className:"clustersField",style:{height:this.state.height}},this.state.clusters.map((function(t){return r.a.createElement(pt,{chooseCluster:e.props.selectCluster,dragCluster:e.dragCluster.bind(),selected:e.props.selectedClusterID===t.id,highlighted:e.props.highlightedClusters.includes(t.id),pos:e.state.positions[t.id],key:t.id,clusterData:t,isOverlay:t.id===e.state.overlayClusterID,toggleClusterHighlight:e.toggleClusterHighlight.bind(e),showCheckbox:e.props.highlightedClusters.length>0,checkOverlay:e.checkOverlay.bind(e)})}))),r.a.createElement("svg",{width:c,height:l},t.map((function(e,t){var a,n,c,l;return a=i[e.from].x,c=i[e.from].y,n=i[e.to].x,l=i[e.to].y,r.a.createElement(ht,{key:t,x1:a,y1:c,x2:n,y2:l,shorten:50})}))))}}]),t}(r.a.Component),ft={selectCluster:ue,deleteCluster:function(){return function(e,t){var a=t(),n=a.workSpace.clusters.selectedClusterID,r=a.workSpace.clusters.clusters.filter((function(e){return e!==n}));r.length?(e(ue(r[0])),e(me([n]))):e(ie())}},reloadCluster:function(){return function(e,t){var a=t(),n=a.workSpace.clusters.selectedClusterID,r=P(a,"clusters",n).params.query;e(de()),Z(r).then((function(t){e(se(t)),e(ye())})).catch((function(t){e(ye()),e(re("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438","\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443",!1,!0))}))}},clearAll:ie,setHighlightedClusters:pe},yt=Object(S.b)((function(e){var t=e.workSpace.clusters.clusters,a=t.map((function(t){var a=e.workSpace.objects.clusters[t],n=a.entities.slice(0,3).map((function(t){return e.workSpace.objects.entities[t].img}));return Object(D.a)({},a.params,{photos:n})})),n=[];return a.length>1&&n.push({from:a[0].id,to:a[1].id}),{clusters:a,clustersID:t,connections:n,selectedClusterID:e.workSpace.clusters.selectedClusterID,haveControlButtons:e.workSpace.clusters.clusters.length>0,highlightedClusters:e.workSpace.clusters.highlightedClusters,haveSelectionActions:e.workSpace.clusters.highlightedClusters.length>0}}),ft)((function(e){var t=r.a.createElement(mt,{popup:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u0432 \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u043f\u043e\u043b\u0435 (\u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435), \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440",text:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"});return r.a.createElement(f.a,{className:"clustersPanel"},e.haveControlButtons&&r.a.createElement(E.a.Group,{compact:!0,size:"tiny",widths:"3"},r.a.createElement(E.a,{onClick:e.clearAll,basic:!0,color:"red",icon:"delete",content:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),r.a.createElement(E.a,{onClick:e.deleteCluster,basic:!0,color:"orange",icon:"trash alternate outline",content:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),r.a.createElement(E.a,{onClick:e.reloadCluster,basic:!0,color:"blue",icon:"sync alternate",content:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})),0===e.clusters.length?t:r.a.createElement(vt,e),e.haveSelectionActions&&r.a.createElement(E.a.Group,{compact:!0,size:"tiny",widths:"2",style:{marginBottom:"0.2rem"}},r.a.createElement(E.a,{onClick:function(){return e.setHighlightedClusters([])},color:"grey",basic:!0,icon:"circle outline",content:"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),r.a.createElement(E.a,{onClick:function(){return e.setHighlightedClusters(e.clustersID)},color:"grey",basic:!0,icon:"circle",content:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435"})))})),bt=a(441),Ct=a(443),It=(a(429),a(234)),wt=a.n(It),kt=a(235),jt=a.n(kt);function Ot(e){var t=e.entity,a=["userContainer "];e.selected&&a.push("choosed");var n=2===t.properties.sex?"blue":"red",c=r.a.createElement("img",{src:wt.a,className:"lock",alt:"lock"}),l=r.a.createElement("img",{src:jt.a,className:"verified",alt:"lock"});return r.a.createElement("div",{onClick:e.toggleSelection,onContextMenu:function(t){t.preventDefault(),e.toggleSelection()},className:a.join(" ")},r.a.createElement("img",{style:{borderColor:n},className:"avatar",title:t.id,src:t.img,alt:""}),1===t.private&&c,1===t.verified&&l,r.a.createElement("a",{className:"userName",href:t.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",null,t.name),t.secondName&&r.a.createElement("div",null,t.secondName)))}a(430);var St={selectEntities:ge},Qt=Object(S.b)((function(e){var t=e.workSpace.entities.entities,a=t.map((function(t){return P(e,"entities",t)}));return{entitiesIDS:t,entities:a,isLoading:e.workSpace.entities.isLoading,selectedEntities:e.workSpace.entities.selectedEntities}}),St)((function(e){var t=r.a.createElement(mt,{text:"\u0422\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438, \u0433\u0440\u0443\u043f\u043f\u044b, \u043f\u043e\u0441\u0442\u044b \u0438\u043b\u0438 \u043f\u0440\u043e\u0447\u0430\u044f \u043c\u0435\u0434\u0438\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",popup:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443"});return r.a.createElement(g.a.Dimmable,{blurring:!0,as:f.a,clearing:!0,dimmed:!1},e.entities.length>0&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"}},r.a.createElement(E.a.Group,{compact:!0,size:"tiny"},r.a.createElement(E.a,{onClick:function(){return e.selectEntities(e.entitiesIDS)},basic:!0,color:"grey",icon:"circle",content:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435"}),e.selectedEntities.length>0&&r.a.createElement(E.a,{onClick:function(){return e.selectEntities([])},basic:!0,color:"grey",icon:"circle outline",content:"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"})),r.a.createElement("div",{style:{display:"flex",marginLeft:"auto",alignItems:"center"}},r.a.createElement("div",{style:{marginRight:"1rem"}},"\u0421\u043f\u0438\u0441\u043e\u043a"),r.a.createElement(bt.a,{toggle:!0}),r.a.createElement("div",{style:{marginLeft:"1rem"}},"\u0413\u0440\u0430\u0444"))),r.a.createElement("div",{className:"entitiesContainer"},r.a.createElement(g.a,{inverted:!0,active:e.isLoading},r.a.createElement(Ct.a,{style:{top:"150px"},active:!0})),!e.entities.length&&t,e.entities.map((function(t){return r.a.createElement(Ot,{entity:t,key:t.id,selected:e.selectedEntities.includes(t.id),toggleSelection:function(){return a=t.id,void(e.selectedEntities.includes(a)?e.selectEntities(e.selectedEntities.filter((function(e){return e!==a}))):e.selectEntities([].concat(Object(R.a)(e.selectedEntities),[a])));var a}})}))))})),Bt=a(452),xt=(a(210),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={activeIndex:0},document.onkeydown=function(e){switch(e.keyCode){case 13:a.props.chooseElement(a.props.values[a.state.activeIndex]);break;case 27:a.props.unmountHints();break;case 38:e.preventDefault(),a.setState({activeIndex:Math.max(a.state.activeIndex-1,0)});break;case 40:e.preventDefault(),a.setState({activeIndex:Math.min(a.state.activeIndex+1,a.props.values.length-1)})}},a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){document.onkeydown=void 0}},{key:"render",value:function(){var e=this,t=this.props.values;return r.a.createElement("div",{style:{marginLeft:7*this.props.marginLeftSymbols+"px"},id:"hintsList"},t.map((function(t,a){return r.a.createElement("div",{onMouseDown:function(t){e.props.chooseElement(e.props.values[Number(t.target.getAttribute("index"))])},key:t,index:a,className:"hintsListItem "+(e.state.activeIndex===a&&"activeHint")},t)})))}}]),t}(n.Component)),Mt={executeQuery:le,typeSymbol:function(e){return{type:J,value:e}},selectHint:function(e){return{type:V,value:e}},removeHints:function(){return{type:K}},closeMessage:function(){return{type:_}}},Dt=Object(S.b)((function(e){return{hints:e.workSpace.search.currentHints,value:e.workSpace.search.queryString,loading:e.workSpace.search.isLoading,placeholder:e.workSpace.search.placeholder,error:e.workSpace.search.isError,warning:e.workSpace.search.isWarning,message:e.workSpace.search.message}}),Mt)((function(e){var t=r.a.useState(!1),a=Object(B.a)(t,2),n=a[0],c=a[1],l=!n||e.placeholder.startsWith("\u0412\u0432\u0435\u0434\u0438\u0442\u0435")||e.value.length?e.value:e.placeholder,i=function(t){e.error||e.executeQuery(t)};return r.a.createElement(f.a,{basic:!0,style:{marginBottom:"1rem",padding:0}},e.message.draw&&r.a.createElement(Bt.a,{error:e.message.error,warning:e.message.warning},r.a.createElement(w.a,{onClick:e.closeMessage,name:"close"}),r.a.createElement(Bt.a.Header,null,e.message.header),r.a.createElement("p",null,e.message.body)),r.a.createElement(x.a,{onChange:function(t,a){return e.typeSymbol(a.value)},fluid:!0,onFocus:function(e){c(!0)},onBlur:function(){e.removeHints(),c(!1)},loading:e.loading,error:e.error,value:l,icon:{name:"search",circular:!1,link:!0,onClick:function(t){return i(e.value)}},placeholder:e.placeholder,onKeyDown:function(t){13!==t.keyCode||e.hints.length||i(l)}}),e.hints.length>0&&r.a.createElement(xt,{marginLeftSymbols:e.value.length,chooseElement:e.selectHint,unmountHints:e.removeHints,values:e.hints}))}));var Rt=function(){return r.a.createElement(i.a,{style:{padding:"3rem",width:"110rem"}},r.a.createElement(b,null),r.a.createElement(Dt,null),r.a.createElement(o.a,{columns:"equal"},r.a.createElement(o.a.Column,{width:4},r.a.createElement(yt,null)),r.a.createElement(o.a.Column,{width:7},r.a.createElement(Qt,null)),r.a.createElement(o.a.Column,{width:5},r.a.createElement(st,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ht=a(21),Nt=a(236),Tt=a(454),Lt=Object(Ht.c)({workSpace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(console.log("ACTION",t),t.type){case ie.type:return{clusters:Ee(void 0,t),entities:Ce(void 0,t),controls:Qe(void 0,t),search:ne(void 0,t),objects:{}};case se.type:return Object(D.a)({},e,{clusters:Ee(e.clusters,se(t.payload.result.clusters)),objects:L(e.objects,t.payload.entities)});case ue.type:var a=t.payload,n=e.objects.clusters[a];return Object(D.a)({},e,{search:ne(e.search,te(n.params.query)),clusters:Ee(e.clusters,Ae(a)),entities:Ce(e.entities,fe(n.entities)),controls:Qe(e.controls,je(n.properties))});default:return Object(D.a)({},e,{clusters:Ee(e.clusters,t),entities:Ce(e.entities,t),controls:Qe(e.controls,t),search:ne(e.search,t)})}},form:Tt.a}),Pt=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}();console.log("STATE LOADED FROM LOCAL STORAGE",Pt);var Ft=Object(Ht.d)(Lt,Pt,Object(Ht.a)(Nt.a));Ft.subscribe((function(){Pe(Ft.getState())})),window.store=Ft,l.a.render(r.a.createElement(S.a,{store:Ft},r.a.createElement(Rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[251,1,2]]]);
//# sourceMappingURL=main.e66c2bba.chunk.js.map