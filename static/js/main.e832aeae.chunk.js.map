{"version":3,"sources":["media/SVG/circles black and grey/SVG/2.svg","media/SVG/circles black and grey/SVG/4.svg","media/SVG/circles black and grey/SVG/3.svg","media/SVG/circles black and grey/SVG/1.svg","components/EntitiesPanel/EntityAvatar/lock.png","media/vkverified.svg","media/defaultAvatar.png","mobile.jpg","store/localStorage.js","constants.js","api/api.js","config.js","store/utils.js","api/queryStringCreators.js","store/searchReducer.js","store/entitiesReducer.js","utils.js","store/selectors.js","store/clustersReducer.js","store/controlsReducer.js","store/workSpaceReducer.js","store/store.js","components/PageHeader/Authorizing/Authorizing.js","components/utils/UI.js","components/utils/Modal.js","components/utils/ReduxFormComponentWrapper.js","store/actions.js","components/PageHeader/Feedback.js","components/PageHeader/PageHeader.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperty.js","components/ControlPanel/PropertiesMenu/SingleProperty.js","components/ControlPanel/ActionsPanel/ActionsPanel.js","components/ControlPanel/ActionsPanel/ActiveActions.js","components/ControlPanel/PropertiesMenu/InterestingProperties/InterestingProperties.js","components/utils/SearchIcon.js","components/Plot/Plot.js","components/ControlPanel/PropertiesMenu/AllProperties/AllProperties.js","components/ControlPanel/PropertiesMenu/PropertiesMenu.js","components/ControlPanel/FilterPanel/StringSearch.js","components/ControlPanel/FilterPanel/ServerSearch.js","components/ControlPanel/FilterPanel/FilterPanel.js","components/ControlPanel/ParamsPanel/ParamsPanel.js","components/ControlPanel/ControlPanel.js","components/utils/QuestionPopup.js","components/utils/NoContent.js","components/ClustersPanel/ImagesGroup.js","components/ClustersPanel/Cluster.js","components/ClustersPanel/Arrow.js","components/ClustersPanel/ClustersGraph.js","components/ClustersPanel/graphLogic.js","components/ClustersPanel/ClustersAnimate.js","components/ClustersPanel/ClusterLine.js","components/ClustersPanel/ClustersTree.js","components/ClustersPanel/ClustersPanel.js","components/utils/Link.js","components/EntitiesPanel/EntitiesGraph.js","components/utils/LazyImage.js","components/EntitiesPanel/EntityAvatar/Entity.js","components/EntitiesPanel/EntitiesList.js","components/utils/Scrolling.js","components/EntitiesPanel/EntitiesConnections.js","components/EntitiesPanel/EntitiesPanel.js","components/SearchPanel/SearchHints.js","components/SearchPanel/SearchPanel.js","ErrorHandler.js","desktop.js","mobile.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","save_count","saveState","state","force","serializedState","JSON","stringify","localStorage","setItem","console","log","textConstants","server","axios","create","baseURL","executeSelectiveQuery","queryString","get","then","response","responseJson","entity","schema","Entity","mySchema","normalize","normalizeSelectiveQuery","data","executeFeedbackQuery","url","post","executeControlPostQuery","produceActionCreator","type","makeActionCreator","mergeObjectsDepth2","obj1","obj2","obj","Object","entries","key","value","getSelectedClusterID","workSpace","clusters","selectedClusterID","queryTypeCreator","queryType","queryReplaceGetWithLoad","assert","toLowerCase","startsWith","queryLOAD","slice","extractGetQueryAction","queryList","items","join","queryGenerateAttrs","attrs","queryCreator","actionName","args","match","initialData","allHints","currentHints","isLoading","placeholder","isError","errorText","message","draw","header","body","warning","error","TYPE_SYMBOL","SELECT_HINT","CLEAR_INPUT","REMOVE_HINTS","CHANGE_MESSAGE","CLOSE_MESSAGE","ACTIVATE_LOADER","REMOVE_LOADER","makeInputPlaceholder","getStringLastToken","str","split","search","action","lastToken","newHints","length","filter","item","includes","newValue","payload","showMessage","activateLoader","removeLoader","executeQuery","source","undefined","dispatch","getState","result","id","entities","processServerResponse","selectCluster","text","catch","query","status","selectEntities","toggleEntitySelection","setEntities","removeEntitiesLoader","setEntitiesSearchValue","setEntitiesItemsList","setSelectionMode","selectedItems","connections","searchValue","selectionMode","addClusters","startLoadingCluster","colorsList","colorByNumber","idx","reduce","acc","char","charCodeAt","rand","randGen","Set","prototype","difference","otherSet","differenceSet","this","elem","has","add","intersect","x","union","symmetricDifference","round","digits","Number","pow","Math","String","hashCode","i","hash","listHash","list","s","curr","getWorkingEnvironmentSettings","screen","availWidth","window","availHeight","width","height","memory","totalJSHeapSize","performance","usedJSHeapSize","jsHeapSizeLimit","stateSize","clustersCount","entitiesCount","clusterID","getObj","objType","store","objects","getObjects","indexes","map","getEntitiesItemsIDS","getClustersIDS","getSelectedItemsIDS","getActiveClusterID","getCurrentClusterPrefix","getCurrentClusterData","params","prefix","getClusterParent","cluster","parent","getSelectedEntitiesURLS","createSelector","getCurrentClusterQuery","getEntities","entitiesItems","getClustersData","clustersIDS","getClusters","clustersData","array","entitiesID","randomIDS","initState","sort","photos","valid","img","count","getClustersTreeDict","clustersTree","push","getEntitiesColors","entitiesColors","a","b","removeClusters","makeClusterSelected","setHighlightedClusters","highlightedClusters","newClustersIDS","newClustersMainID","mainID","removeClustersIds","remainingClusters","SELECT_MENU","properties","important","interesting","all","activeItem","filterMode","setProperties","changeFilterMode","autoChangeMenu","newMenu","controls","name","menu","clearAll","setReduxState","initData","version","reducers","combineReducers","sourceCluster","clusterData","itemID","newSelectedItems","newAction","form","formReducer","persistedState","getItem","parse","err","loadState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","Authorizing","Dimmer","active","onClickOutside","props","handleClose","page","Grid","textAlign","verticalAlign","Column","style","maxWidth","minWidth","Header","as","color","Form","size","Segment","stacked","Input","fluid","icon","iconPosition","marginTop","inverted","Component","Button","onClick","otherProps","compact","basic","primary","padding","hexcolor","additionClasses","brightness","parseInt","substr","textColor","backgroundColor","className","e","preventDefault","UIGroup","children","UISegment","CustomModal","Modal","open","closeIcon","onClose","formInputComponent","submit","submitIcon","canSubmit","input","searchIcon","link","onKeyDown","keyCode","meta","onChange","formRadioComponent","Radio","checked","formTextComponent","TextArea","formRatingComponent","Rating","marginBottom","onRate","rating","clearable","maxRating","formComponentGenerator","TargetComponent","valueName","keyWords","transformEntities","setTransformFunc","selectedClusters","selectedClustersEntities","resultEntities","pickOutToCluster","selectedEntities","deleteFromCluster","allEntities","subtractedEntities","deleteSelectedCluster","clustersToDelete","childrenClusters","getClustersChildren","ids","flat","concat","executeClusterAction","currPrefix","entitiesIDS","messageTypes","AlertModal","margin","fontSize","float","mapDispatchToProps","onSubmit","values","feedbackData","env","options","sendAlarmerMessage","messageType","contact","selector","formValueSelector","connect","reduxForm","forceUnregisterOnUnmount","handleSubmit","useState","visibleAlert","setVisibleAlert","successMessage","setSuccessMessage","SubmissionError","_error","submitValidate","Message","Field","messType","component","label","PageHeader","Menu","secondary","Item","position","marginRight","setState","Confidence","level","filled","Array","fill","_","actionButtonsData","doNotHaveProperty","popupText","iconName","haveProperty","decreaseOrder","increaseOrder","mapDispatchToState","propertyDict","Table","Row","Cell","percent","generatePropertyNameFromDict","Icon","stopPropagation","ActionPanelButton","iconStyle","display","src","alt","alignItems","downloadWorkSpace","filename","file","Blob","navigator","msSaveOrOpenBlob","document","createElement","URL","createObjectURL","href","download","appendChild","click","setTimeout","removeChild","revokeObjectURL","uploadWorkSpace","onchange","target","files","reader","FileReader","readAsText","onload","readerEvent","content","alert","location","reload","intersectClusters","unionClusters","subtractClusters","symDiffClusters","selectedClustersCount","selectedEntitiesCount","haveClusters","currentClusterEntitiesCount","clusterActions","actions","marginLeft","Group","vertical","headerMargin","iconCircleUnion","iconCircleSum","iconCircleDiff","iconCircleSymDiff","deleteSelectedClusters","selectionTarget","importantProperties","description","interestingProperties","maxHeight","overflow","scrollbarWidth","selectable","fixed","HeaderCell","Body","propertyItem","moveToAll","SearchIcon","isInputStringEmpty","onSearch","CircularPlot","onSelectItem","entry","index","LinePlot","isLogMode","setLogMode","y","top","right","left","bottom","strokeDasharray","hide","dataKey","stroke","activeDot","r","Checkbox","Plot","onSelectNode","plotProps","event","activePayload","PlotPopup","Popup","pinned","trigger","on","flowing","allProperties","setInputValue","activeIDS","setActiveIDS","toggleProperty","titleProps","itemId","searchStringChange","newProperties","property","indexOf","useEffect","openedPropID","openedID","newProps","Accordion","Title","activePropertyId","plot","node","circular","Content","subProperty","PropertiesPanel","clickMenu","openAllMenuWithProp","propID","arr","pop","extractFromString","regex","exec","matches","submitFilterSearch","limit","errorMessage","commonQueryString","universalQuery","test","vkSearchQuery","initialValues","vkUsersInclude","vkGroupsInclude","vkPostsInclude","autoComplete","PageSearch","searchMode","Dropdown","selection","CopyPasteInput","condition","selectedEntitiesID","selectedEntitiesURLS","selectedClustersID","widths","selectMenu","menuName","NoContent","minHeight","noContentCss","justifyContent","QuestionPopup","popup","ClusterImages","calculatePhotoCSS","css","zIndex","Cluster","chooseCluster","selected","dragCluster","dimensions","setDimensions","clusterCss","targetRef","useRef","useLayoutEffect","current","offsetWidth","offsetHeight","clusterContainerClasses","isOverlay","ref","onMouseDown","showCheckbox","highlighted","toggleClusterHighlight","Arrow","x1","x2","y1","y2","shorten","shiftX","shiftY","lineLength","sqrt","newLength","lengthFraction","newShiftX","newShiftY","ClustersGraph","sizes","graph","onMouseMove","movementX","movementY","onMouseUp","stopDrag","onMouseLeave","nodes","pos","overlayClusterID","edges","from","to","repulsionForce","attractionForce","borderRepulsionForce","centralAttractionForce","Vector","other","mult","createVector","min","max","getDist","currLower","currUpper","targetLower","targetUpper","needBound","Node","maxSize","random","velocity","lastShift","lockedPosition","__exist","mag","distVector","parameters","direction","lowerBorder","upperBorder","minValue","coef","dist","div","forceFactor","connected","dir","copy","sub","move","toForceVector","center","sum","normalizeCoordinate","maxValue","forceVector","normalizePosition","Graph","nodesDict","edge","edgesDict","id1","id2","wasUpdated","minDist","bestNode","getDistanceWith","res","forces","node1","nodeBorderForce","calculateForceWithBorders","node2","calculateForceWith","calculateForces","applyForce","makeGraphIteration","applyForces","updateGraphWith","existingNodesDict","newNodes","getData","React","toggleOpen","opened","haveChildren","indent","containerClasses","ClustersTree","parentID","clustersID","currLevelClusters","openedClusters","setOpenedClusters","child","deleteCluster","reloadCluster","clusterQuery","haveControlButtons","haveSelectionActions","noContent","Link","rel","getNodeColorAndSize","visibleEntities","UpdateNodeProps","render","sigma","forEach","n","updateNode","assign","refresh","GraphActiveHint","Image","GraphSelectedEntity","setSelectedEntity","highlightColor","colorCluster","toggleItemSelection","visibleEntitiesIDS","activeEntity","setActiveEntity","activeEntityPos","setActiveEntityPos","selectedEntity","selectNode","onClickNode","graphID","val","renderer","firstID","secondID","settings","defaultNodeColor","defaultEdgeColor","edgeColor","drawEdges","labelThreshold","minNodeSize","maxNodeSize","onOverNode","onOutNode","worker","scalingRatio","slowDown","linLogMode","iterationsPerRender","timeout","sameColorEntities","LazyImage","showImage","show","defaultImg","createRef","prevProps","prevState","snapshot","update","onLoad","Visibility","fireOnMount","onOnScreen","Placeholder","EntityItem","baseClasses","borderColor","lockIcon","lockImg","verifyIcon","verifyImg","toggleSelection","onContextMenu","bordered","centered","title","private","verified","EntitiesList","visibleItemsCount","setVisibleItemsCount","entitiesToShow","onScroll","percents","scrollTop","scrollHeight","clientHeight","Scrolling","ConnectionItem","first","second","EntitiesConnections","SelectionComponent","buttonAction","activeButton","setActiveButton","onMouseEnter","setSearchValue","isNotValidHidden","changeNotValidHiddenMode","isGraphView","setGraphView","currClusterID","setCurrClusterID","representType","selectEntity","entityID","fitToSearch","username","isEntityVisible","menuItemStyle","Dimmable","blurring","clearing","dimmed","flexDirection","indeterminate","paddingRight","toggle","Loader","Hints","activeIndex","onkeydown","chooseElement","unmountHints","marginLeftSymbols","getAttribute","toUpperCase","doesQueryFormatted","typeSymbol","selectHint","removeHints","closeMessage","hints","loading","isWarning","focused","setFocus","beginExecuteQueryString","onFocus","onBlur","ErrorHandler","hasError","errorInfo","clickReturn","bind","DesktopInterface","Container","columns","flexGrow","MobileInterface","mobilePicture","App","Boolean","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e832aeae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/2.9ed51b09.svg\";","module.exports = __webpack_public_path__ + \"static/media/4.4045a540.svg\";","module.exports = __webpack_public_path__ + \"static/media/3.1a5c1687.svg\";","module.exports = __webpack_public_path__ + \"static/media/1.6d1d72e9.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYTg4NzZmMy01NjM4LWI5NDItOTU0My1iM2Q3Y2JmYTIwYWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5RkU4RjkyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5RkU4RjgyNzQxMTFFOEEzODFFMkI4MTlDMjlDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OGYyN2VmM2QtYzAxOS01NDRmLTk5NmEtYjU4MDE2Mzk3YTc1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NmEwMGQ2Y2YtMjY3Yi0xMWU4LTliOGEt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\"","module.exports = __webpack_public_path__ + \"static/media/vkverified.0063cefb.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/mobile.eaa46fed.jpg\";","export const loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) {\n            return undefined;\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        return undefined;\n    }\n};\nlet save_count = 0;\n\nexport const saveState = (state, force=false) => {\n    save_count += 1;\n    if (force || save_count % 10 !== 0){\n        try {\n            const serializedState = JSON.stringify(state);\n            localStorage.setItem('state', serializedState);\n        } catch {\n            console.log('Error in save state')\n            // ignore write errors\n        }\n    }\n};\n\nexport const clearLocalStorage = () => {\n    saveState('');\n};\n","export const textConstants = {\n    controlPanelExplanation: 'Тут много текста. Рассказывается о том, как пользоваться этой панелью свойств и фильтров.',\n    motivationHeaderText: 'Анализируйте прифили людей в VK, Instagram, Twitter, Facebook. Узнайте много нового о ваших друзьях и знакомых. Сравнивайте аккаунты между собой. Найдите нужную информацию о каждом!',\n    messageWrongSyntax: 'В тексте запроса допущена синтаксическая ошибка'\n}\n","import axios from \"axios\";\nimport {apiHost} from \"../config\";\nimport {normalize, schema} from \"normalizr\";\n\nconst server = axios.create(\n    {\n        baseURL: apiHost,\n    }\n);\n\n\nconst normalizeSelectiveQuery = (responseJson) => {\n    const entity = new schema.Entity('entities');\n    const cluster = new schema.Entity('clusters', {\n        'entities': {\n            'items': [entity]\n        }\n    });\n    const mySchema = {\n        'clusters': {\n            'items': [cluster]\n        }\n    };\n    return normalize(responseJson, mySchema)\n};\n\nexport const executeSelectiveQuery = (queryString) => (\n    server.get(`/query/?q=${queryString}`).then(\n        response => normalizeSelectiveQuery(response.data.data)\n    )\n);\n\nconst executeControlPostQuery = (url, data) => {\n    server.post(`/${url}/`, data).then(response=>console.log(response))\n};\n\nexport const executeFeedbackQuery = (data) => {\n    executeControlPostQuery('feedback', data);\n};\n\n\n\n\n","// export const apiHost = \"http://localhost:5050\";\nexport const apiHost = \"https://fivol.site\";\nexport const alarmerKey = '104839-00cc49-791ee0';\n\nexport const version = '1.8';","import makeActionCreator from 'make-action-creator';\n\n\nexport function produceActionCreator(type, ...keys) {\n    return makeActionCreator(type)\n}\n\nexport const mergeObjectsDepth2 = (obj1, obj2) => {\n    const obj = {...obj1};\n    for (let [key, value] of Object.entries(obj2)) {\n        if (key in obj)\n            obj[key] = {...obj[key], ...value};\n        else\n            obj[key] = value\n    }\n    return obj\n};\n\n\n\nexport const getSelectedClusterID = (state)=>{\n    return state.workSpace.clusters.selectedClusterID;\n};\n\n\nexport const reducerWrapper = (reducerFunc) => {\n    return (state, action) => {\n        const obj = reducerFunc(state, action);\n        if ('force' in obj)\n            return obj;\n        return {\n            ...state,\n            ...obj\n        }\n    }\n};\n\nexport function download(data, filename, type) {\n    let file = new Blob([data], {type: type});\n    if (window.navigator.msSaveOrOpenBlob) // IE10+\n        window.navigator.msSaveOrOpenBlob(file, filename);\n    else { // Others\n        let a = document.createElement(\"a\"),\n            url = URL.createObjectURL(file);\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function() {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 0);\n    }\n}","const queryTypeCreator = (queryType, queryString) => {\n    return `${queryType} ${queryString}`\n};\n\nconst extractGetQueryAction = (queryString) => {\n    return queryString.slice(4)\n};\n\nexport const queryGET = (queryString) => {\n    return queryTypeCreator('GET', queryString);\n};\n\n\nexport const queryLOAD = (queryString) => {\n    return queryTypeCreator('LOAD', queryString);\n};\n\n\nexport const queryReplaceGetWithLoad = (queryString) => {\n    console.assert(queryString.toLowerCase().startsWith('get '));\n    return queryLOAD(extractGetQueryAction(queryString))\n};\n\nexport const queryList = (items) => {\n    return `(${items.join(', ')})`\n};\n\nexport const queryGenerateParams = (params) => {\n    return `[${params.join(' ')}]`\n};\n\nconst queryGenerateAttrs = (attrs) => {\n    if (!attrs)\n        return '';\n    if (typeof attrs === 'object')\n        return attrs.join(' ');\n    return attrs;\n};\n\nexport const queryCreator = (actionName, args, attrs = null, queryType = 'GET') => {\n    if (typeof args === 'object')\n        args = queryList(args);\n\n    if(!args.match(/[a-zA-Zа-яА-Я]+/))\n        args = `\"${args}\"`;\n\n    return `${queryType} ${actionName} ${args} ${queryGenerateAttrs(attrs)}`;\n};\n\nexport const doesQueryFormatted = (queryString) => {\n    queryString = queryString.toUpperCase();\n    return queryString.startsWith('GET') || queryString.startsWith('LOAD');\n};","import {textConstants} from \"../constants\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {addClusters, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {produceActionCreator} from \"./utils\";\nimport {doesQueryFormatted, queryCreator} from \"../api/queryStringCreators\";\n\nconst initialData = {\n    queryString: '',\n    allHints: [\"https://\",\n        \"vk.com/\",\n        \"instagram.com/\",\n        \"me\",\n        'GET',\n        'LOAD',\n        'vk.user',\n        'vk.users',\n        'ig.user',\n        'ig.users',\n        \"age\",\n        \"school\",\n        \"sex\",\n        \"city\",\n        \"search\",\n        \"net\",\n        \"internet\",\n        \"page\",\n        \"cache\",\n        \"followers\",\n        \"follows\",\n        \"friends\",\n        'clusters',\n    ],\n    currentHints: [],\n    isLoading: false,\n    placeholder: 'Введите запрос: ссылка на аккаунт или имя',\n    isError: false,\n    errorText: '',\n    message: {\n        draw: false,\n        header: '',\n        body: '',\n        warning: false,\n        error: false\n    }\n};\n\nconst TYPE_SYMBOL = 'TYPE_SYMBOL';\nconst SELECT_HINT = 'SELECT_HINT';\nconst CLEAR_INPUT = 'CLEAR_INPUT';\nconst REMOVE_HINTS = 'REMOVE_HINTS';\nconst CHANGE_MESSAGE = 'CHANGE_MESSAGE';\nconst CLOSE_MESSAGE = 'CLOSE_MESSAGE';\nconst ACTIVATE_LOADER = 'ACTIVATE_LOADER';\nconst REMOVE_LOADER = 'REMOVE_LOADER';\n\nexport const makeInputPlaceholder = produceActionCreator('make_input_placeholder')\n\nfunction isQueryStringCorrect(queryString) {\n    return !queryString.includes(\"#\");\n\n}\n\nfunction getStringLastToken(str) {\n    return str.split(/[\\s, /()[\\]]+/).slice(-1)[0];\n}\n\nexport function search(state = initialData, action) {\n    switch (action.type) {\n        case TYPE_SYMBOL:\n            const value = action.value;\n            const lastToken = getStringLastToken(value);\n            let newHints = [];\n            if (lastToken.length)\n                newHints = state.allHints.filter(\n                    item => item.toLowerCase().startsWith(lastToken.toLowerCase()) && !(lastToken === item)\n                );\n            return {\n                ...state,\n                currentHints: newHints,\n                queryString: value,\n                isError: !isQueryStringCorrect(value),\n                placeholder: initialData.placeholder\n            };\n        case SELECT_HINT:\n            const newValue =\n                state.queryString.slice(0, -getStringLastToken(state.queryString).length) + action.value;\n            return {\n                ...state,\n                currentHints: [],\n                queryString: newValue\n            };\n        case REMOVE_HINTS:\n            return {\n                ...state,\n                currentHints: []\n            };\n        case CLEAR_INPUT:\n            return {\n                ...state,\n                queryString: '',\n                placeholder: action.placeholder\n            };\n        case CHANGE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    header: action.header,\n                    draw: true,\n                    body: action.body,\n                    error: action.error,\n                    warning: action.warning\n                },\n            };\n        case CLOSE_MESSAGE:\n            return {\n                ...state,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case ACTIVATE_LOADER:\n            return {\n                ...state,\n                isLoading: true,\n                message: {\n                    ...state.message,\n                    draw: false\n                }\n            };\n        case REMOVE_LOADER:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case makeInputPlaceholder.type:\n            return {\n                ...state,\n                placeholder: action.payload,\n                queryString: ''\n            };\n        default:\n            return state\n    }\n}\n\nexport const typeSymbol = (value) => ({'type': TYPE_SYMBOL, 'value': value});\nexport const selectHint = (value) => ({'type': SELECT_HINT, 'value': value});\nexport const removeHints = () => ({'type': REMOVE_HINTS});\nexport const showMessage = (header, body, error = false, warning = false) => ({\n    type: CHANGE_MESSAGE,\n    header, body, error, warning\n});\nexport const closeMessage = () => ({type: CLOSE_MESSAGE});\nexport const activateLoader = () => ({type: ACTIVATE_LOADER});\nexport const removeLoader = () => ({type: REMOVE_LOADER});\n\nexport const executeMainScreenQuery = (queryString) => (dispatch) => {\n    if (!doesQueryFormatted(queryString))\n        queryString = queryCreator('query.parse', '\"' + queryString + '\"');\n\n    dispatch(executeQuery(queryString));\n};\n\nexport const executeQuery = (queryString, source = undefined) => (\n    (dispatch, getState) => {\n        dispatch(makeInputPlaceholder(queryString));\n        if (queryString.length === 0) {\n            let messageBody;\n            if (queryString.length === 0) {\n                messageBody = 'Введите запрос в строку. Пока она пустая';\n                dispatch(showMessage('Пустая строка', messageBody, false, true));\n            } else {\n                messageBody = 'Тут должно быть описание конкретной ошибки, но я пока не сделал разбор';\n                dispatch(showMessage(textConstants.messageWrongSyntax, messageBody, true));\n            }\n\n        } else {\n            dispatch(activateLoader());\n            executeSelectiveQuery(queryString).then(\n                response => {\n                    dispatch(removeLoader());\n                    if (response.result.clusters) {\n                        response.result.clusters.items = response.result.clusters.items.filter(\n                            id => response.entities.clusters[id].entities.items.length > 0);\n                        if (response.result.clusters.items.length === 0) {\n                            dispatch(showMessage('Ответ сервера', 'Получен пустой кластер (он не отображается)', false, true));\n                        } else {\n                            console.log('Good clusters', response);\n                            dispatch(processServerResponse({response: response, source: source}));\n                            dispatch(selectCluster(response.result.clusters.items[0]))\n                        }\n                    } else if (response.result.warning) {\n                        dispatch(showMessage('Ответ сервера', response.result.warning.text, false, true));\n                    }\n                }\n            ).catch(\n                query => {\n                    dispatch(removeLoader());\n                    const response = query.response;\n                    if (!response) {\n                        console.log(query);\n                        dispatch(showMessage(`Ошибка сети`, 'Либо у вас нету интернета, либо сервер упал, также возможно просто разраб криворукий', true))\n                    } else {\n                        dispatch(showMessage(`Ошибка выполнения зарпоса (${response.status})`, response.data.error, true))\n                    }\n                }\n            )\n        }\n    }\n);\n\n\n","import {produceActionCreator} from \"./utils\";\nimport {addClusters, startLoadingCluster} from \"./clustersReducer\";\n\nexport const selectEntities = produceActionCreator('SELECT_ENTITIES');\nexport const toggleEntitySelection = produceActionCreator('TOGGLE_ENTITY_SELECTION');\nexport const setEntities = produceActionCreator('setEntities');\nexport const removeEntitiesLoader = produceActionCreator('removeLoader');\nexport const setEntitiesSearchValue = produceActionCreator('setSearchValue');\nexport const setEntitiesItemsList = produceActionCreator('setEntitiesItemsList');\nexport const setSelectionMode = produceActionCreator('setSelectionMode');\n\nconst initialData = {\n    isLoading: false,\n    selectedItems: [],\n    items: [],\n    connections: {},\n    searchValue: '',\n    selectionMode: false\n};\n\nexport function entities(state = initialData, action) {\n    switch (action.type) {\n        case setSelectionMode.type:\n            return {\n                ...state,\n                selectionMode: action.payload\n            };\n        case setEntitiesItemsList.type:\n            return {\n                ...state,\n                searchValue: action.payload.join(', ')\n            };\n        case setEntitiesSearchValue.type:\n            return {\n                ...state,\n                searchValue: action.payload\n            };\n        case removeEntitiesLoader.type:\n            return {\n                ...state,\n                isLoading: false\n            };\n        case addClusters.type:\n            return {\n                ...state,\n                isLoading: false,\n            };\n        case startLoadingCluster.type:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case selectEntities.type:\n            return {\n                ...state,\n                selectedItems: action.payload\n            };\n        case setEntities.type:\n            return {\n                ...state,\n                items: action.payload.items,\n                connections: action.payload.connections,\n                selectedItems: [],\n                searchValue: ''\n            };\n        default:\n            return state\n    }\n}\n\n\n","import randGen from 'random-seed';\nimport axios from \"axios\";\nimport {alarmerKey} from \"./config\";\n\nexport const colorsList = [\n    '#2E3F7F', '#45D09E', '#116315', '#FFD600',\n    '#F85C50', '#E85668', '#CE3D1D', '#EF2FA2', '#7C3668', '#6E36CA',\n    '#414042', '#004156', '#7AB1FF', '#002bff', '#17F1D7', '#4BB462',\n    '#8CBA51', '#d3d6b6', '#FDA371', '#BE5D77', '#EE3D48'\n];\n\nconst hashCode = function(s){\n    return s.split(\"\").reduce((acc, char) => (acc + char.charCodeAt(0)), 0);\n};\n\nexport const colorByNumber = (idx) => {\n    if(typeof idx === 'string')\n        idx = hashCode(idx);\n    return colorsList[idx % colorsList.length];\n};\n\nexport const rand = randGen.create();\n\nSet.prototype.difference = function (otherSet) {\n    const differenceSet = new Set();\n\n    for (let elem of this) {\n        if (!otherSet.has(elem))\n            differenceSet.add(elem);\n    }\n\n    return differenceSet;\n};\n\nSet.prototype.intersect = function (otherSet) {\n    return new Set([...this].filter(x => otherSet.has(x)));\n};\n\nSet.prototype.union = function (otherSet) {\n    return new Set([...this, ...otherSet]);\n};\n\nSet.prototype.symmetricDifference = function (otherSet) {\n    return this.union(otherSet).difference(this.intersect(otherSet));\n};\n\nexport function shuffle(array) {\n    rand.initState();\n    array.sort(() => (rand(1000) / 1000) - 0.5);\n}\n\nexport const round = (value, digits = 2) => {\n    if (!Number(value))\n        return value;\n    const pow = Math.pow(10, digits);\n    return Math.round(Number(value) * pow) / pow;\n};\n\nString.prototype.hashCode = function() {\n    var hash = 0, i, chr;\n    if (this.length === 0) return hash;\n    for (i = 0; i < this.length; i++) {\n        chr   = this.charCodeAt(i);\n        hash  = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n};\n\nexport const listHash = (list)=>{\n    if(!list)\n        return -1;\n    if(typeof list[0] === typeof ''){\n        return list.join('').hashCode()\n    }\n    return list.reduce((s, curr)=>s + curr.id, '').hashCode()\n};\n\nexport function LightenDarkenColor(col,amt) {\n    var usePound = false;\n    if ( col[0] == \"#\" ) {\n        col = col.slice(1);\n        usePound = true;\n    }\n\n    var num = parseInt(col,16);\n\n    var r = (num >> 16) + amt;\n\n    if ( r > 255 ) r = 255;\n    else if  (r < 0) r = 0;\n\n    var b = ((num >> 8) & 0x00FF) + amt;\n\n    if ( b > 255 ) b = 255;\n    else if  (b < 0) b = 0;\n\n    var g = (num & 0x0000FF) + amt;\n\n    if ( g > 255 ) g = 255;\n    else if  ( g < 0 ) g = 0;\n\n    return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\n\nexport const getWorkingEnvironmentSettings = (state) => {\n    return {\n        screen: {\n            availWidth: window.screen.availWidth,\n            availHeight: window.screen.availHeight,\n            width: window.screen.width,\n            height: window.screen.height,\n        },\n        memory: {\n            totalJSHeapSize: window.performance.memory.totalJSHeapSize,\n            usedJSHeapSize: window.performance.memory.usedJSHeapSize,\n            jsHeapSizeLimit: window.performance.memory.jsHeapSizeLimit,\n        },\n        stateSize: JSON.stringify(state).length,\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        clusterID: state.workSpace.clusters.selectedClusterID,\n    }\n};\n\nexport const sendAlarmerMessage = (message) => {\n    const url = `https://alarmerbot.ru/?key=${alarmerKey}&message=${message}`;\n    axios.options(url)\n};","import {createSelector} from \"reselect\";\nimport {store} from '././store'\nimport {shuffle} from \"../utils\";\n\nconst getState = () => store.getState();\n\nexport const getObj = (objType, idx) => {\n    if (idx === null) return undefined;\n    return getState().workSpace.objects[objType][idx]\n};\n\nexport const getObjects = (objType, indexes) => {\n    return indexes.map(id => getObj(objType, id))\n};\n\nexport const getEntitiesItemsIDS = state => state.workSpace.entities.items;\n\nexport const getClustersIDS = state => state.workSpace.clusters.items;\n\nexport const getSelectedItemsIDS = state => state.workSpace.entities.selectedItems;\n\nexport const getActiveClusterID = state => state.workSpace.clusters.selectedClusterID;\n\nexport const getCurrentClusterPrefix = state => getCurrentClusterData(state).params.prefix;\n\nexport const getCluster = (state, clusterID) => getObj('clusters', clusterID);\n\nexport const getClusterParent = cluster => {\n    if (cluster.parent)\n        return cluster.parent;\n    return null;\n};\n\nexport const getSelectedEntitiesURLS = createSelector(\n    getSelectedItemsIDS,\n    selectedItems => getObjects('entities', selectedItems).map(item => item.url)\n);\n\nexport const getCurrentClusterData = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id);\n};\n\nexport const getCurrentClusterQuery = state => {\n    const id = getActiveClusterID(state);\n    return getObj('clusters', id).params.query;\n};\n\nexport const getEntities = createSelector(\n    getEntitiesItemsIDS,\n    (entitiesItems) => {\n        return getObjects('entities', entitiesItems);\n    },\n);\n\nexport const getClustersData = createSelector(\n    getClustersIDS,\n    clustersIDS => {\n        return getObjects('clusters', clustersIDS)\n    }\n);\n\nexport const getClusters = createSelector(\n    getClustersData,\n    clustersData => {\n        return clustersData.map(\n            data => {\n                const entitiesID = data.entities.items;\n                let randomIDS = [...entitiesID].slice(0, 9);\n                shuffle(randomIDS);\n                const photos = getObjects('entities', randomIDS)\n                    .filter(item => item && item.valid && item.img)\n                    .slice(0, 3).map(item => item.img);\n                return {\n                    ...data.params,\n                    photos: photos,\n                    count: entitiesID.length\n                }\n            }\n        )\n    }\n);\n\nexport const getClustersTreeDict = createSelector(\n    getClusters,\n    (clusters) => {\n        const clustersTree = {};\n        for (let cluster of clusters) {\n            const parent = getClusterParent(cluster);\n            if (!(parent in clustersTree))\n                clustersTree[parent] = [];\n            clustersTree[parent].push(cluster);\n        }\n        return clustersTree;\n    }\n);\n\nexport const getEntitiesColors = createSelector(\n    [getClustersData],\n    (clustersData) => {\n        const entitiesColors = {};\n        clustersData = clustersData.slice();\n        const compare = (a, b)=>{\n            if(a.entities.items.length < b.entities.items.length)\n                return 1;\n            else if(a.entities.items.length > b.entities.items.length)\n                return -1;\n            return 0\n        };\n        clustersData.sort(compare);\n        for (let cluster of clustersData) {\n            for (let entityID of cluster.entities.items) {\n                entitiesColors[entityID] = cluster.params;\n            }\n        }\n\n        return entitiesColors;\n    }\n);","import {executeQuery, showMessage} from \"./searchReducer\";\nimport {executeSelectiveQuery} from \"../api/api\";\nimport {getSelectedClusterID, produceActionCreator} from \"./utils\";\nimport {clearAll} from \"./workSpaceReducer\";\nimport {removeEntitiesLoader} from \"./entitiesReducer\";\nimport {queryReplaceGetWithLoad} from \"../api/queryStringCreators\";\nimport {getCurrentClusterQuery} from \"./selectors\";\n\nexport const addClusters = produceActionCreator('ADD_CLUSTERS');\nexport const processServerResponse = produceActionCreator('processServerResponse');\nexport const selectCluster = produceActionCreator('SELECT_CLUSTER');\nexport const removeClusters = produceActionCreator('REMOVE_CLUSTERS_FROM_PANEL');\nexport const startLoadingCluster = produceActionCreator('START_LOADING_CLUSTER');\nexport const makeClusterSelected = produceActionCreator('make_cluster_selected');\nexport const setHighlightedClusters = produceActionCreator('setHighlightedClusters');\n\nconst initialData = {\n    items: [],\n    selectedClusterID: null,\n    highlightedClusters: []\n};\n\nexport function clusters(state = initialData, action) {\n    switch (action.type) {\n        case setHighlightedClusters.type:\n            return {\n                ...state,\n                highlightedClusters: action.payload\n            };\n        case addClusters.type:\n            let newClustersIDS = action.payload.items;\n            let newClustersMainID = action.payload.mainID;\n\n\n            if (!newClustersMainID && newClustersIDS.length === 1)\n                newClustersMainID = newClustersIDS[0];\n\n\n            return {\n                ...state,\n                items: [\n                    ...new Set([...state.items, ...newClustersIDS])\n                ]\n            };\n        case makeClusterSelected.type:\n            const clusterID = action.payload;\n            return {\n                ...state,\n                selectedClusterID: clusterID,\n            };\n        case removeClusters.type:\n            let removeClustersIds = action.payload;\n            console.log('removeClustersIds', removeClustersIds)\n            const remainingClusters = state.items.filter(id => !removeClustersIds.includes(id));\n            return {\n                ...state,\n                items: remainingClusters,\n                highlightedClusters: state.highlightedClusters.filter(id => !removeClustersIds.includes(id))\n            };\n        default:\n            return state\n    }\n}\n\n\nexport const reloadCluster = () => (dispatch, getState) => {\n    const state = getState();\n\n    const clusterQuery = queryReplaceGetWithLoad(getCurrentClusterQuery(state));\n    dispatch(executeQuery(clusterQuery, getSelectedClusterID(state)));\n    return;\n    dispatch(startLoadingCluster());\n    executeSelectiveQuery(clusterQuery).then(\n        response => {\n            dispatch(addClusters(response));\n            dispatch(removeEntitiesLoader())\n        }\n    ).catch(\n        response => {\n            dispatch(removeEntitiesLoader());\n            dispatch(showMessage('Ошибка сети', 'Проверьте подключение к интернету', false, true))\n        }\n    )\n};\n\nexport const deleteCluster = () =>\n    (dispatch, getState) => {\n        const state = getState();\n        const clusterID = state.workSpace.clusters.selectedClusterID;\n        const remainingClusters = state.workSpace.clusters.items.filter(id => id !== clusterID);\n        if (!remainingClusters.length)\n            dispatch(clearAll());\n        else {\n            dispatch(selectCluster(remainingClusters[0]));\n            dispatch(removeClusters([clusterID]))\n        }\n    };","import {selectEntities} from \"./entitiesReducer\";\nimport {produceActionCreator} from \"./utils\";\nimport {setHighlightedClusters} from \"./clustersReducer\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\n\nconst SELECT_MENU = 'SELECT_MENU';\n\nconst initialData = {\n    properties: {\n        important: [],\n        interesting: [],\n        all: []\n    },\n    activeItem: 'filter',\n    filterMode: 'net'\n};\n\nexport const setProperties = produceActionCreator('setProperties');\nexport const changeFilterMode = produceActionCreator('changeFilterMode');\n\nconst autoChangeMenu = (state, newMenu) => {\n    if (state.activeItem === 'params')\n        return state;\n    return {\n        ...state,\n        activeItem: newMenu\n    }\n};\n\nexport function controls(state = initialData, action) {\n    switch (action.type) {\n        case SELECT_MENU:\n            return {\n                ...state,\n                activeItem: action.name\n            };\n        case selectEntities.type:\n            const entitiesSize = action.payload.length;\n            if (state.activeItem === 'params')\n                return state;\n            // if (entitiesSize > 0)\n            //     return autoChangeMenu(state, 'actions');\n            return autoChangeMenu(state, 'properties');\n        case setProperties.type:\n            return {\n                ...autoChangeMenu(state, 'properties'),\n                properties: action.payload,\n            };\n        case setHighlightedClusters.type:\n            let menu = action.payload.length ? 'actions' : 'properties';\n            return autoChangeMenu(state, menu);\n        case changeFilterMode.type:\n            return {\n                ...state,\n                filterMode: action.payload\n            };\n        default:\n            return state\n    }\n}\n\nexport const submitFilterSearch = (form) =>\n    (dispatch, getState) => {\n        const limit = Number(form.limit);\n        console.log(\"SUBMIT FORM\", form);\n        let errorMessage = \"\";\n        if(form.commonQueryString){\n            let universalQuery = form.commonQueryString;\n            if(universalQuery.split(' ').length > 1)\n                errorMessage = 'Ввод нескольких запросов за раз пока не поддерживается (обнаружен пробел в вводе)';\n            else if(universalQuery === '')\n                errorMessage = 'Поле запроса пустое :(';\n            else if(/[а-яА-ЯЁё]/.test(universalQuery))\n                errorMessage = 'В запросе обнаружена кириллица. Поиск по имени пока не поддерживается. Введите адрес страницы пользователя';\n            else{\n                console.log('Good universal query', universalQuery);\n                dispatch(executeQuery(queryCreator('query.parse', universalQuery)));\n            }\n        }\n            // dispatch(showMessage('Ошибка запроса', 'Данный тип запроса пока не поддерживается, воспользуйтесь поиском по определенной социальной сети', false, true))\n        else if(form.vkSearchQuery){\n            dispatch(executeQuery(queryCreator('vk.user', form.vkSearchQuery)));\n        }\n        else{\n            dispatch(showMessage('Ошибка запроса', 'Не найдено поисховой строки, введите необходимые данные в поля', false, true))\n        }\n\n\n        if(errorMessage.length){\n            dispatch(showMessage('Ошибка ввода данных запроса', errorMessage, true, false))\n        }\n    };\n\nexport const selectMenu = (menuName) => ({type: SELECT_MENU, name: menuName});\n\n\n\n\n","import {addClusters, clusters, makeClusterSelected, processServerResponse, selectCluster} from \"./clustersReducer\";\nimport {entities, selectEntities, setEntities, toggleEntitySelection} from \"./entitiesReducer\";\nimport {mergeObjectsDepth2, produceActionCreator} from \"./utils\";\nimport {controls, setProperties} from \"./controlsReducer\";\nimport {makeInputPlaceholder, search} from \"./searchReducer\";\nimport {version} from '../config'\nimport {saveState} from \"./localStorage\";\nexport const clearAll = produceActionCreator('CLEAR_ALL');\nexport const setReduxState = produceActionCreator('setState');\n\n\nconst initData = {\n    clusters: undefined,\n    entities: undefined,\n    controls: undefined,\n    search: undefined,\n    objects: {},\n    version: version\n};\n\nexport const workSpace = (state = initData, action) => {\n    console.log('ACTION', action, state.version);\n    switch (action.type) {\n        case clearAll.type:\n            saveState('');\n            return {\n                ...state,\n                clusters: clusters(undefined, action),\n                entities: entities(undefined, action),\n                controls: controls(undefined, action),\n                search: search(undefined, action),\n                objects: {}\n            };\n        case setReduxState.type:\n            saveState(action.payload, true);\n            return action.payload;\n        case processServerResponse.type:\n            const mainID = action.payload.response.result.clusters.mainID;\n            const source = action.payload.source;\n\n            if (source && mainID) {\n                if (mainID === source) {\n                    const sourceCluster = state.objects.clusters[source];\n                        action.payload.response.entities.clusters[mainID].params.parent = sourceCluster.params.parent;\n                } else\n                    action.payload.response.entities.clusters[mainID].params.parent = source;\n            }\n            return {\n                ...state,\n                clusters: clusters(state.clusters, addClusters({\n                    ...action.payload.response.result.clusters,\n                })),\n                objects: mergeObjectsDepth2(state.objects, action.payload.response.entities),\n            };\n        case selectCluster.type:\n            const clusterID = action.payload;\n            const clusterData = state.objects.clusters[clusterID];\n            return {\n                ...state,\n                search: search(state.search, makeInputPlaceholder(clusterData.params.query)),\n                clusters: clusters(state.clusters, makeClusterSelected(clusterID)),\n                entities: entities(state.entities, setEntities(clusterData.entities)),\n                controls: controls(state.controls, setProperties(clusterData.properties))\n            };\n        case toggleEntitySelection.type:\n            const itemID = action.payload;\n            let newSelectedItems = [];\n            const selectedItems = state.entities.selectedItems;\n            if (!state.entities.selectionMode) {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = []\n                else\n                    newSelectedItems = [itemID];\n            } else {\n                if (selectedItems.includes(itemID))\n                    newSelectedItems = selectedItems.filter(item => item !== itemID);\n                else\n                    newSelectedItems = [...selectedItems, itemID];\n            }\n\n            const newAction = selectEntities(newSelectedItems);\n            return {\n                ...state,\n                entities: entities(state.entities, newAction),\n                controls: controls(state.controls, newAction)\n            };\n        default:\n            return {\n                ...state,\n                clusters: clusters(state.clusters, action),\n                entities: entities(state.entities, action),\n                controls: controls(state.controls, action),\n                search: search(state.search, action),\n                version: version\n            }\n\n    }\n};\n\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {loadState, saveState} from \"./localStorage\";\nimport {workSpace} from \"./workSpaceReducer\";\nimport { reducer as formReducer } from 'redux-form'\n\nconst reducers = combineReducers({\n    workSpace,\n    form: formReducer\n});\n\nconst persistedState = loadState();\nconsole.log('STATE LOADED FROM LOCAL STORAGE', persistedState);\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(\n    reducers,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => {\n    saveState(store.getState());\n});\n\nwindow.store = store;\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// export const store = createStore(reducers, composeEnhancers(\n//     applyMiddleware(thunk)\n// ));\n\n\n\n","import React, { Component } from \"react\";\nimport { Button, Dimmer, Form, Header, Grid, Segment } from \"semantic-ui-react\";\n\nexport default class Authorizing extends Component {\n  render() {\n    return (\n      <Dimmer active={true} onClickOutside={this.props.handleClose} page>\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n          <Grid.Column style={{ maxWidth: 450, minWidth: 360 }}>\n            <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n              Войти в аккаунт\n            </Header>\n            <Form size=\"large\">\n              <Segment stacked>\n                <Form.Input\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Логин или почта\"\n                />\n                <Form.Input\n                  fluid\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Пароль\"\n                  type=\"password\"\n                />\n\n                <Button color=\"teal\" fluid size=\"large\">\n                  Войти\n                </Button>\n              </Segment>\n            </Form>\n            <Button\n              style={{ marginTop: \"15px\" }}\n              inverted\n              color=\"teal\"\n              fluid\n              size=\"large\"\n            >\n              Зарегистрироваться\n            </Button>\n          </Grid.Column>\n        </Grid>\n      </Dimmer>\n    );\n  }\n}\n","import React from 'react';\nimport style from './uiStyle.less';\nimport {Segment} from \"semantic-ui-react\";\n\nfunction getBrightness(hexcolor) {\n    if(hexcolor[0] !== '#')\n        return null;\n    var r = parseInt(hexcolor.substr(1, 2), 16);\n    var g = parseInt(hexcolor.substr(3, 2), 16);\n    var b = parseInt(hexcolor.substr(4, 2), 16);\n    var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    // Return new color if to dark, else return the original\n    return yiq;\n}\n\n\nexport const Button = (props) => {\n    let {text, onClick, style, compact, basic, primary, ...otherProps} = props;\n    let padding = '10px 30px';\n    if (!onClick)\n        onClick = () => {\n        };\n\n    const additionClasses = [];\n    if (props.compact) {\n        padding = '5px 10px'\n    }\n    if(props.primary){\n        additionClasses.push('customButtonPrimary')\n    }else if(props.basic){\n            additionClasses.push('customButtonBasic')\n    }\n\n    if(props.color){\n        const brightness = getBrightness(props.color);\n        let textColor = 'black';\n        if (brightness && brightness < 100)\n            textColor = 'white';\n        style = {...style, backgroundColor: props.color, color: textColor}\n    }\n\n    style = {\n        padding: padding,\n        ...style\n    };\n    return (\n        <button\n            className={'customButton ' + additionClasses.join(' ')}\n            style={style}\n            onClick={e => {\n                e.preventDefault();\n                onClick(e)\n            }}\n            {...otherProps}\n        >{text}</button>\n    )\n};\n\nexport const UIGroup = (props) => {\n    return (\n        <div className={'UIGroup'}>\n            {\n                props.children\n            }\n        </div>\n    )\n};\n\n\nexport const UISegment = props => {\n    return <Segment {...props}/>\n};\n","import React, {useState} from 'react';\nimport {Modal} from \"semantic-ui-react\";\n\n\nconst CustomModal = (props) => {\n    const {handleClose} = props;\n    return (\n        <Modal\n            open\n            closeIcon\n            onClose={handleClose}\n        >\n            {\n                props.children\n            }\n        </Modal>\n    )\n};\n\nexport default CustomModal;\n","import React from \"react\";\nimport {Form, Rating} from \"semantic-ui-react\";\n\n\nexport const formInputComponent = (props) => {\n    props = {...props};\n    const submit = props.submitIcon;\n    delete props['submitIcon'];\n    const canSubmit = (props.input.value && submit);\n    const searchIcon = {\n        name: 'search', link: true, onClick: e => {\n            e.preventDefault();\n            submit()\n        }\n    };\n    return (\n        <Form.Input\n            onKeyDown={e => {\n                if (e.keyCode === 13) {\n                    submit()\n                }\n            }}\n            icon={canSubmit ? searchIcon : undefined}\n\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    if (!data)\n                        return props.input.onChange(e);\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRadioComponent = (props) => {\n    return (\n        <Form.Radio\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, {checked}) => props.input.onChange(props.input.value)\n            }}\n        />\n    )\n};\n\nexport const formTextComponent = (props) => {\n    props = {...props};\n    return (\n        <Form.TextArea\n            {...{\n                ...props,\n                ...props.input,\n                error: props.meta.error,\n                onChange: (e, data) => {\n                    return props.input.onChange(data.value)\n                }\n            }}\n        />\n    )\n};\n\nexport const formRatingComponent = (props) => {\n    props = {...props};\n    console.log('RATING', props);\n    return (\n        <Rating\n            style={{marginBottom: '1rem'}}\n            onRate={(e, data) => {\n                e.preventDefault();\n                props.input.onChange(data.rating)\n            }}\n            clearable\n            maxRating={5}\n\n            {...{\n                ...props,\n                ...props.input,\n            }}\n        />\n    )\n};\n\nconst formComponentGenerator = (TargetComponent, submit) => {\n    return (\n        props => {\n            // console.log('Form Wrapper props', props);\n            let valueName = 'value';\n            if (typeof props.input.value === 'boolean')\n                valueName = 'checked';\n            const canSubmit = (props.input.value && submit);\n            const searchIcon = {\n                name: 'search', link: true, onClick: e => {\n                    e.preventDefault();\n                    submit()\n                }\n            };\n            return (\n                <TargetComponent\n                    onKeyDown={e => {\n                        if (e.keyCode === 13) {\n                            submit()\n                        }\n                    }}\n                    icon={canSubmit ? searchIcon : undefined}\n\n                    {...{\n                        ...props,\n                        ...props.input,\n                        value: undefined,\n                        [valueName]: props.input.value,\n                        error: props.meta.error,\n                        onChange: (e, data) => {\n                            if (!data)\n                                return props.input.onChange(e);\n                            return props.input.onChange(data[valueName])\n                        }\n                    }}\n                />\n            )\n        }\n    )\n};\n\n\nexport default formComponentGenerator;","import {SubmissionError} from \"redux-form\";\nimport {executeQuery, showMessage} from \"./searchReducer\";\nimport {download, getSelectedClusterID} from \"./utils\";\nimport {saveState} from \"./localStorage\";\nimport {removeClusters, selectCluster} from \"./clustersReducer\";\nimport {queryCreator} from \"../api/queryStringCreators\";\nimport {\n    getActiveClusterID,\n    getClusterParent,\n    getClusters,\n    getClustersData, getClustersIDS, getCurrentClusterData, getCurrentClusterPrefix,\n    getCurrentClusterQuery,\n    getEntitiesItemsIDS, getSelectedItemsIDS\n} from \"./selectors\";\nimport {getWorkingEnvironmentSettings, sendAlarmerMessage} from \"../utils\";\nimport {executeFeedbackQuery} from \"../api/api\";\nimport {clearAll, setReduxState} from \"./workSpaceReducer\";\nimport {version} from '../config'\n\nconst keyWords = new Set(['group', 'feed', 'news', 'music', 'edit', 'settings', 'im', 'friends', 'groups', 'video', 'apps', 'vkpay', 'market', 'docs', 'blog', 'dev', \"biz\", \"about\", \"jobs\", \"legal\", \"data_protection\", \"safety\", \"exilemusic\", \"exilemusic\", \"verify\", \"exile_music\"]);\n\nexport const extractFromString = (values) => {\n    return (dispatch, getState) => {\n        const text = values.text;\n        if (!text) {\n            throw new SubmissionError({text: 'Пустое поле'});\n        }\n        const regex = /href=\"\\/(\\w+)\"/g;\n        let match = regex.exec(text);\n        if (!match) {\n            throw new SubmissionError({text: 'Не найдено полезных данных'});\n        }\n        let matches = new Set();\n        while (match) {\n            matches.add(match[1]);\n            match = regex.exec(text);\n        }\n        matches = [...matches.difference(keyWords)];\n        const queryString = queryCreator('vk.users', matches);\n        dispatch(executeQuery(queryString));\n    }\n};\n\nexport const downloadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const filename = `NTrail workspace (${getState().workSpace.clusters.items.length} clusters) version ${getState().workSpace.version}`;\n        download(JSON.stringify(getState()), filename, '')\n    }\n};\n\nexport const uploadWorkSpace = () => {\n    return (dispatch, getState) => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.onchange = e => {\n            const file = e.target.files[0];\n\n            const reader = new FileReader();\n            reader.readAsText(file, 'UTF-8');\n\n            reader.onload = readerEvent => {\n                const content = readerEvent.target.result;\n                console.log('File loaded');\n                try {\n                    const state = JSON.parse(content);\n                    if (Number(state.workSpace.version.split('.')[0]) !== Number(version.split('.')[0])) {\n                        alert('Вы выбрали файл с устаревшей версией рабочего пространства. Возможно возникнут непредвиденные ошибки');\n                    }\n                    saveState(state);\n\n                } catch (e) {\n                    alert('Не корректный файл данных NTrail пространства! (Загружать можно только файлы, ранее сохраненные с помощью опции \"Сохранить рабочее пространство\") Попробуйте выбрать другой файл')\n                }\n                window.location.reload(true);\n            }\n        };\n        input.click();\n    }\n};\n\nconst transformEntities = (dispatch, getState, setTransformFunc) => {\n    const state = getState();\n    const selectedClusters = state.workSpace.clusters.highlightedClusters;\n    if (selectedClusters.length >= 2) {\n        const selectedClustersEntities = selectedClusters.map(\n            id => state.workSpace.objects.clusters[id].entities\n        );\n        let resultEntities = new Set(selectedClustersEntities[0]);\n        for (let entities of selectedClustersEntities.slice(1)) {\n            resultEntities = resultEntities[setTransformFunc](new Set(entities));\n        }\n        const entitiesID = [...resultEntities];\n        if (entitiesID.length === 0) {\n            dispatch(showMessage('Результат операции', 'Получен пустой кластер', false, true))\n        } else {\n            const queryString = queryCreator('vk.users', entitiesID);\n            dispatch(executeQuery(queryString));\n        }\n    }\n};\n\nexport const intersectClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'intersect')\n    }\n};\n\nexport const unionClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'union')\n    }\n};\n\nexport const subtractClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'difference')\n    }\n};\n\nexport const symDiffClusters = () => {\n    return (dispatch, getState) => {\n        transformEntities(dispatch, getState, 'symmetricDifference')\n    }\n};\n\nexport const pickOutToCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const selectedEntities = state.workSpace.entities.selectedItems;\n        if (selectedEntities.length > 0) {\n            const queryString = queryCreator(getCurrentClusterPrefix(state), selectedEntities);\n            dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n        }\n    }\n};\n\nexport const deleteFromCluster = () => (dispatch, getState) => {\n    const state = getState();\n    const selectedEntities = state.workSpace.entities.selectedItems;\n    const allEntities = state.workSpace.entities.items;\n    const subtractedEntities = [...new Set(allEntities).difference(new Set(selectedEntities))];\n    if (selectedEntities.length > 0) {\n        const queryString = queryCreator('vk.users', subtractedEntities);\n        dispatch(executeQuery(queryString));\n    }\n};\nconst getClustersChildren = (state, ids) => {\n    if (ids.length === 0)\n        return [];\n    const children = getClusters(state).filter(cluster => ids.includes(getClusterParent(cluster))).map(cluster => cluster.id).flat();\n    console.log('children-', children)\n    return children.concat(getClustersChildren(state, children));\n};\nexport const deleteSelectedCluster = () => {\n    return (dispatch, getState) => {\n        const state = getState();\n        let selectedClusters = [state.workSpace.clusters.selectedClusterID];\n        if (state.workSpace.clusters.highlightedClusters.length > 0)\n            selectedClusters = state.workSpace.clusters.highlightedClusters;\n        console.log('selectedClusters', selectedClusters);\n        let clustersToDelete = selectedClusters;\n        if (selectedClusters.length === 1) {\n            console.log('1 selected cluster')\n            const childrenClusters = getClustersChildren(state, selectedClusters);\n            console.log('childrenClusters', childrenClusters)\n\n            if (childrenClusters.length > 0)\n                clustersToDelete = childrenClusters;\n\n\n        }\n        console.log(clustersToDelete.length, clustersToDelete);\n        dispatch(removeClusters(clustersToDelete));\n        if (clustersToDelete.includes(getActiveClusterID(state))) {\n            const remainClusters = getClustersIDS(state).filter(id => !clustersToDelete.includes(id));\n            if (remainClusters.length === 0)\n                dispatch(clearAll());\n            else\n                dispatch(selectCluster(getClustersIDS(state).filter(id => !clustersToDelete.includes(id))[0]));\n        }\n    }\n};\n\n\nexport const submitFeedback = (values) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        const feedbackData = {\n            values: values,\n            env: getWorkingEnvironmentSettings(state)\n        };\n\n        console.log('FeedBack', values);\n        const alarmerMessage = `NTrail feedback:%0Atype: ${values.messageType}%0Acontact: ${values.contact}%0Arate: ${values.rating}%0Amessage: ${values.message}`;\n        sendAlarmerMessage(alarmerMessage);\n        executeFeedbackQuery(feedbackData);\n    }\n};\n\nexport const executeClusterAction = (action) => {\n    return (dispatch, getState) => {\n        const state = getState();\n        console.log('EXECUTE CLUSTER ACTION', action);\n        const currPrefix = getCurrentClusterPrefix(state);\n        console.log('currPrefix', currPrefix);\n        let entitiesIDS = getSelectedItemsIDS(state);\n        let queryString;\n        if(entitiesIDS.length > 0) {\n            queryString = queryCreator(currPrefix, entitiesIDS, action.value);\n        }else {\n            queryString = getCurrentClusterQuery(state) + ' ' + action.value;\n        }\n\n        dispatch(executeQuery(queryString, getSelectedClusterID(state)));\n    }\n};\n","import React, {useState} from 'react';\nimport {Form, Header, Icon, Message, Radio, Rating} from \"semantic-ui-react\";\nimport {Button} from \"../utils/UI\";\nimport {Field, formValueSelector, reduxForm, SubmissionError} from \"redux-form\";\nimport CustomModal from \"../utils/Modal\";\nimport formComponentGenerator, {\n    formInputComponent,\n    formRadioComponent, formRatingComponent,\n    formTextComponent\n} from \"../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFeedback} from \"../../store/actions\";\n\nconst messageTypes = [\n    {\n        name: 'review',\n        text: 'Написать отзыв'\n    },\n    {\n        name: 'question',\n        text: 'Задать вопрос'\n    },\n    {\n        name: 'critical',\n        text: 'Сообщить о критической проблеме'\n    },\n    {\n        name: 'warning',\n        text: 'Предупредить о небольшой ошибке'\n    },\n    {\n        name: 'idea',\n        text: 'Предложить идею / интересную фичу / новый функционал'\n    },\n    {\n        name: 'offer',\n        text: 'Сотрудничество / работа'\n    },\n];\n\n\nconst submitValidate = (values) => {\n    let error = null;\n    if (!values.messageType)\n        error = 'Выберите тип обращения';\n\n    if (values.messageType === 'question' && !values.contact)\n        error = 'Укажите контакт, чтобы мы могли вам ответить';\n\n    if (values.messageType === 'offer' && !values.contact)\n        error = 'Укажите контакт, чтобы мы смогли с вами связаться';\n\n    if (!values.message)\n        error = 'Поле с сообщением не заполнено';\n\n    if (error)\n        throw new SubmissionError({\n            _error: error\n        });\n};\n\n\nconst AlertModal = (props) => {\n    const {handleClose, header, text} = props;\n\n    return (\n        <CustomModal handleClose={handleClose}>\n            <Header>{header}</Header>\n            <div style={{margin: '20px'}}>\n                <p style={{fontSize: '1.2rem'}}>{text}</p>\n                <Button basic style={{float: 'right', marginBottom: '10px'}} text={'Закрыть'} onClick={handleClose}/>\n            </div>\n        </CustomModal>\n    )\n};\n\n\nconst Feedback = (props) => {\n    let {handleSubmit, handleClose} = props;\n    console.log('props', props);\n    const [visibleAlert, setVisibleAlert] = useState(false);\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const onSubmit = (values) => {\n        submitValidate(values);\n        setVisibleAlert(true);\n        let message = 'Спасибо за обращение!';\n\n        if (values.messageType === 'question')\n            message = 'Мы постараемся ответить в ближайшее время!';\n        if (values.messageType === 'review')\n            message = 'Спасибо за отзыв!';\n        if (values.messageType === 'warning')\n            message = 'Постараемся исправить баг как можно быстрее!';\n        if (values.messageType === 'critical')\n            message = 'Вся команда уже взялась за исправление ошибки!';\n        if (values.messageType === 'offer')\n            message = 'Мы с вами свяжемся в ближайшее время!';\n        if (values.messageType === 'idea')\n            message = 'Спасибо за ваше предложение. Самые лучшие идеи будут воплащены в ближайшее время!';\n\n        props.onSubmit(values);\n        setSuccessMessage(message);\n    };\n\n    handleSubmit = handleSubmit(onSubmit);\n    return (\n        <>\n            {\n                visibleAlert ?\n                    <AlertModal handleClose={handleClose}\n                                header={'Сообщение отправлено'}\n                                text={successMessage}/> :\n                    <CustomModal handleClose={handleClose}>\n                        <Header>Написать разработчикам</Header>\n                        {\n                            props.error &&\n                            <Message\n                                style={{margin: '10px'}}\n                                error\n                            >{props.error}</Message>\n                        }\n                        <div style={{margin: '30px'}}>\n                            <Form>\n                                <Form.Field>\n                                    <label>Цель обращения</label>\n                                </Form.Field>\n                                {\n                                    messageTypes.map(messType => (\n                                        <Field\n                                            name={'messageType'}\n                                            key={messType.name}\n                                            type={'radio'}\n                                            component={formRadioComponent}\n                                            label={messType.text}\n                                            value={messType.name}\n                                        />\n                                    ))\n                                }\n                                <Field component={formInputComponent}\n                                       label={'Можете указать свой контакт для ответа'}\n                                       name={'contact'}\n                                       placeholder={'Иван Иванович example@gmail.com'}\n                                />\n                                {\n                                    props.messageType === 'review' &&\n                                    <>\n                                        <Form.Field>\n                                            <label>Оцените сервис</label>\n                                        </Form.Field>\n                                        <Field\n                                            name={'rating'}\n                                            component={formRatingComponent}\n                                        />\n                                    </>\n                                }\n\n                                <Field\n                                    name={'message'}\n                                    component={formTextComponent}\n                                    label={'Ваше сообщение'}\n                                />\n                                <Button onClick={handleSubmit} basic text={'Отправить'}/>\n                            </Form>\n                        </div>\n                    </CustomModal>\n            }\n        </>\n    )\n};\n\nconst mapDispatchToProps = ({\n    onSubmit: submitFeedback\n});\n\nconst selector = formValueSelector('Feedback');\n\nconst mapStateToProps = state => {\n    return {\n        messageType: selector(state, 'messageType')\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'Feedback',\n            forceUnregisterOnUnmount: true\n        }\n    )(Feedback));\n","import React, {Component} from \"react\";\nimport {Header, Menu} from \"semantic-ui-react\";\nimport Authorizing from \"./Authorizing/Authorizing\";\nimport {Button} from \"../utils/UI\";\nimport Feedback from \"./Feedback\";\n\nexport default class PageHeader extends Component {\n    state = {\n        status: \"base\"\n    };\n\n    render() {\n        return (\n            <div>\n                <Menu secondary>\n                    <Menu.Item style={{padding: 0}}>\n                        <Header as=\"h1\">NTrail</Header>\n                    </Menu.Item>\n\n                    <Menu.Item position=\"right\" style={{padding: 0}}>\n                        <Button basic style={{marginRight: \"0.5em\"}} onClick={() => this.setState({status: 'feedback'})}\n                                text={'Обратная связь'}/>\n                        {/*<Button basic style={{marginRight: \"0.5em\"}} text={'Как пользоваться?'}/>*/}\n                        {/*<Button primary onClick={() => this.setState({status: \"auth\"})} text={'Войти'}/>*/}\n                        {this.state.status === \"auth\" && (\n                            <Authorizing\n                                handleClose={() => this.setState({status: \"base\"})}\n                            />\n                        )}\n                        {\n                            this.state.status === 'feedback' &&\n                            <Feedback handleClose={() => this.setState({status: \"base\"})}/>\n                        }\n                    </Menu.Item>\n                </Menu>\n                <p style={{fontSize: \"1.23em\"}}>Ваш проводник по миру соцсетей</p>\n            </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { Table, Icon, Popup } from \"semantic-ui-react\";\nimport \"./style.less\";\n\nfunction Confidence({ level }) {\n  const maxFilled = 5;\n  const filled = level * maxFilled;\n  const items = Array(maxFilled)\n    .fill()\n    .map((_, i) => (\n      <div\n        key={i}\n        className={\n          \"confidenceLevel \" + (maxFilled - i <= filled ? \"levelFilled\" : \"\")\n        }\n      />\n    ));\n\n  return <div>{items}</div>;\n}\n\nconst actionButtonsData = {\n  doNotHaveProperty: {\n    popupText: \"Показать людей, не обладающих этим свойством\",\n    iconName: \"arrow alternate circle left outline\"\n  },\n  haveProperty: {\n    popupText: \"Показать только людей с данным свойством\",\n    iconName: \"arrow alternate circle right outline\"\n  },\n  decreaseOrder: {\n    popupText: \"Отсортировать в порядке убывания\",\n    iconName: \"angle double right\"\n  },\n  increaseOrder: {\n    popupText: \"Отсортировать в порядке возрастания\",\n    iconName: \"angle double left\"\n  }\n};\n\nexport default class InterestingProperty extends Component {\n  state = {\n    active: false\n  };\n  render() {\n    const propertyItem = this.props.propertyItem;\n    let actionNames = [];\n    if (propertyItem.type === \"show\")\n      actionNames = [\"haveProperty\", \"doNotHaveProperty\"];\n    else if (propertyItem.type === \"order\")\n      actionNames = [\"decreaseOrder\", \"increaseOrder\"];\n    const actionButtons = actionNames.map(actionName => (\n      <Popup\n        key={actionName}\n        mouseEnterDelay={500}\n        position=\"top right\"\n        content={actionButtonsData[actionName].popupText}\n        trigger={\n          <Icon\n            color=\"grey\"\n            className=\"actionButton\"\n            name={actionButtonsData[actionName].iconName}\n          />\n        }\n      />\n    ));\n    const moveToAllProperties = (allPropID) => {\n      this.props.moveToAll(allPropID);\n    };\n    return (\n      <Table.Row\n        onMouseOver={() => this.setState({ active: true })}\n        onMouseLeave={() => this.setState({ active: false })}\n        onClick={()=>moveToAllProperties(propertyItem.id.split('.')[0])}\n        className=\"property\"\n      >\n        <Table.Cell width=\"10\">{propertyItem.name}</Table.Cell>\n        <Table.Cell width=\"5\" style={{ wordWrap: \"break-word\" }}>\n          {propertyItem.value}\n        </Table.Cell>\n        <Table.Cell width=\"2\" className=\"confidenceCell\">\n          {this.state.active\n            ? actionButtons\n            : \"confidence\" in propertyItem && (\n                <Confidence level={propertyItem.confidence} />\n              )}\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n","import React from 'react';\nimport {Icon, Table} from \"semantic-ui-react\";\nimport {round} from \"../../../utils\";\nimport {setEntitiesItemsList} from \"../../../store/entitiesReducer\";\nimport {connect} from \"react-redux\";\n\n\nconst generatePropertyNameFromDict = (value) => {\n    // console.log(value);\n    let name = value.value;\n    if(value.percent)\n        name += ` (${round(value.percent, 0)} %)`;\n\n    return name;\n};\n\n\nconst SingleProperty = (props) => {\n    const {id, value, name, ids} = props.propertyDict;\n    return (\n        <Table.Row\n            onClick={() => props.onClick ? props.onClick(id) : null}\n            key={id}>\n            <Table.Cell width=\"10\">{name}</Table.Cell>\n            <Table.Cell width=\"5\">{generatePropertyNameFromDict(value)}</Table.Cell>\n            <Table.Cell width=\"2\">\n                {\n                    ids &&\n                    <Icon link\n                          name=\"eye\"\n                          color=\"grey\"\n                          onClick={\n                              (e) => {\n                                  e.stopPropagation();\n                                  props.setEntitiesItemsList(ids)\n                              }\n                          }\n                    />\n                }\n            </Table.Cell>\n        </Table.Row>\n    )\n};\n\nconst mapDispatchToState = ({\n    setEntitiesItemsList\n});\n\nexport default connect(undefined, mapDispatchToState)(SingleProperty);\n","import React from 'react';\nimport {Button, Header, Icon} from \"semantic-ui-react\";\nimport iconCircleSum from '../../../media/SVG/circles black and grey/SVG/2.svg'\nimport iconCircleDiff from '../../../media/SVG/circles black and grey/SVG/4.svg'\nimport iconCircleSymDiff from '../../../media/SVG/circles black and grey/SVG/3.svg'\nimport iconCircleUnion from '../../../media/SVG/circles black and grey/SVG/1.svg'\nimport {connect} from \"react-redux\";\nimport {\n    deleteFromCluster, deleteSelectedCluster,\n    downloadWorkSpace, executeClusterAction,\n    intersectClusters, pickOutToCluster,\n    subtractClusters, symDiffClusters,\n    unionClusters,\n    uploadWorkSpace\n} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\nimport ActiveActions from \"./ActiveActions\";\n\n\nexport const ActionPanelButton = (props) => {\n    const style = {\n        display: 'flex',\n        alignItems: 'center',\n    };\n    const imgSize = '1.5rem';\n    const iconStyle = {\n        display: 'inline-block',\n        marginRight: '5px',\n        width: imgSize,\n        height: 'auto'\n    };\n    const icon = typeof props.icon === 'object' ? props.icon : <img src={props.icon} alt={'afs'} style={iconStyle}/>;\n    return (\n        <Button basic onClick={props.onClick}>\n            <div style={style}>\n                {/*<div style={{width: '1rem'}}>{icon}</div>*/}\n                <div style={{margin: 'auto'}}>{props.text}</div>\n            </div>\n        </Button>\n    )\n};\n\n\nconst ActionsPanel = (props) => {\n    const headerMargin = '0.2rem';\n    // console.log('ActionsPanel', props);\n    return <div>\n        <Header size={'small'} style={{marginLeft: headerMargin, marginTop: '1rem'}}>Холст</Header>\n        <Button.Group vertical basic style={{width: '100%'}}>\n            {\n                props.haveClusters &&\n                <ActionPanelButton onClick={props.downloadWorkSpace} text={'Сохранить рабочее пространсто'}\n                                   icon={<Icon name={'download'}/>}/>\n            }\n            <ActionPanelButton onClick={props.uploadWorkSpace} text={'Загрузить рабочее пространство'}\n                               icon={<Icon name={'upload'}/>}/>\n        </Button.Group>\n        <ActiveActions header={true} headerMargin={headerMargin}/>\n        {/*{*/}\n        {/*    props.selectedEntitiesCount > 0 &&*/}\n        {/*    <>*/}\n        {/*        <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные объекты</Header>*/}\n        {/*        <Button.Group vertical basic style={{width: '100%'}}>*/}\n        {/*            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}*/}\n        {/*                               icon={<Icon name={'dot circle outline'}/>}/>*/}\n        {/*            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}*/}\n        {/*                               icon={<Icon name={'remove circle'}/>}/>*/}\n        {/*            {*/}\n        {/*                props.entitiesActions &&*/}\n        {/*                props.entitiesActions.map(*/}\n        {/*                    action => (*/}\n        {/*                        <ActionPanelButton key={action.id} onClick={() => props.executeClusterAction(action)}*/}\n        {/*                                           text={action.name}*/}\n        {/*                                           icon={<Icon name={'circle outline'}/>}*/}\n        {/*                        />*/}\n        {/*                    )*/}\n        {/*                )*/}\n        {/*            }*/}\n\n        {/*        </Button.Group>*/}\n        {/*    </>*/}\n        {/*}*/}\n\n        {\n            props.selectedClustersCount > 0 &&\n            <>\n                <Header size={'small'} style={{marginLeft: headerMargin}}>Выделенные кластеры</Header>\n                <Button.Group basic compact vertical style={{width: '100%'}}>\n                    {/*{*/}\n                    {/*    props.selectedClustersCount === 2 &&*/}\n                    {/*    <ActionPanelButton text={'Сравнить'} icon={<Icon name={'sun outline'}/>}/>*/}\n                    {/*}*/}\n                    {\n                        props.selectedClustersCount >= 2 &&\n                        <>\n                            <ActionPanelButton onClick={props.intersectClusters} text={'Пересечение'}\n                                               icon={iconCircleUnion}/>\n                            <ActionPanelButton onClick={props.unionClusters} text={'Объединение'} icon={iconCircleSum}/>\n                            <ActionPanelButton onClick={props.subtractClusters} text={'Разность'}\n                                               icon={iconCircleDiff}/>\n                            <ActionPanelButton onClick={props.symDiffClusters} text={'Симметрическая разность'}\n                                               icon={iconCircleSymDiff}/>\n                        </>\n                    }\n                    <ActionPanelButton onClick={props.deleteSelectedClusters} text={'Удалить выделенные'}\n                                       icon={<Icon name={'trash alternate outline'}/>}/>\n                </Button.Group>\n            </>\n        }\n\n\n    </div>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        clusterActions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = {\n    executeClusterAction,\n    downloadWorkSpace,\n    uploadWorkSpace,\n    intersectClusters,\n    unionClusters,\n    subtractClusters,\n    symDiffClusters,\n    pickOutToCluster,\n    deleteSelectedCluster,\n    deleteFromCluster\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionsPanel)","import {Button, Header, Icon} from \"semantic-ui-react\";\nimport React from \"react\";\nimport {ActionPanelButton} from \"./ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {deleteFromCluster, executeClusterAction, pickOutToCluster} from \"../../../store/actions\";\nimport {\n    getActiveClusterID,\n    getCurrentClusterData,\n    getEntitiesItemsIDS\n} from \"../../../store/selectors\";\n\nconst ActiveActions = props => {\n    if(!props.actions)\n        return <></>;\n    let header = props.header;\n    let selectedEntities = props.selectedEntitiesCount;\n    if (!selectedEntities)\n        selectedEntities = props.currentClusterEntitiesCount;\n\n\n    let actions = [];\n    for (let action of props.actions) {\n        const selectionTarget = action.target;\n        if (!selectionTarget || selectionTarget === 'any')\n            actions.push(action);\n        else if (selectedEntities === 1 && selectionTarget === 'one')\n            actions.push(action);\n        else if (selectedEntities > 1 && selectionTarget === 'many')\n            actions.push(action);\n        else if (props.selectedEntitiesCount === 0 && selectionTarget === 'cluster')\n            actions.push(action);\n    }\n    return <>\n        {\n            (actions.length > 0 || props.selectedEntitiesCount > 0) &&\n            <>{\n                header &&\n                <Header size={'small'} style={{marginLeft: props.headerMargin}}>Активный кластер</Header>\n\n            }{\n                actions.length > 0 &&\n                <Button.Group vertical basic style={{width: '100%', marginBottom: '1rem'}}>\n                    {\n                        actions.map(action => (\n\n                            <ActionPanelButton key={action.id}\n                                               onClick={() => props.executeClusterAction(action)} text={action.name}\n                                               icon={<Icon name={'object ungroup outline'}/>}/>\n                        ))\n                    }\n                    {\n                        props.selectedEntitiesCount > 0 && props.selectedEntitiesCount !== props.currentClusterEntitiesCount &&\n                        <>\n                            <ActionPanelButton onClick={props.pickOutToCluster} text={'Выделить в отдельный кластер'}\n                                               icon={<Icon name={'dot circle outline'}/>}/>\n                            <ActionPanelButton onClick={props.deleteFromCluster} text={'Удалить из кластера'}\n                                               icon={<Icon name={'remove circle'}/>}/>\n                        </>\n                    }\n                </Button.Group>\n            }\n            </>\n        }\n    </>\n};\n\nconst mapStateToProps = state => {\n    return {\n        selectedClustersCount: state.workSpace.clusters.highlightedClusters.length,\n        selectedEntitiesCount: state.workSpace.entities.selectedItems.length,\n        haveClusters: state.workSpace.clusters.items.length > 0,\n        currentClusterEntitiesCount: getEntitiesItemsIDS(state).length,\n        actions: getActiveClusterID(state) && getCurrentClusterData(state).actions,\n    }\n};\nconst mapDispatchToProps = ({\n    executeClusterAction,\n    pickOutToCluster,\n    deleteFromCluster\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveActions)","import React from \"react\";\nimport {Table, TextArea} from \"semantic-ui-react\";\nimport \"./style.less\";\n\nimport InterestingProperty from \"./InterestingProperty\";\nimport {connect} from \"react-redux\";\nimport SingleProperty from \"../SingleProperty\";\nimport ActiveActions from \"../../ActionsPanel/ActiveActions\";\n\n\nconst InterestingProperties = (props) => {\n    return (\n        <div style={{maxHeight: '65vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n            {/*<Table columns={props.importantProperties.length}>*/}\n            {/*    <Table.Header>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.HeaderCell*/}\n            {/*                    key={item.name}*/}\n            {/*                    className=\"propertyTableHeader\"*/}\n            {/*                >*/}\n            {/*                    {item.name}*/}\n            {/*                </Table.HeaderCell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Header>*/}\n            {/*    <Table.Body>*/}\n            {/*        <Table.Row>*/}\n            {/*            {props.importantProperties.map(item => (*/}\n            {/*                <Table.Cell key={item.id}>{item.value}</Table.Cell>*/}\n            {/*            ))}*/}\n            {/*        </Table.Row>*/}\n            {/*    </Table.Body>*/}\n            {/*</Table>*/}\n            <ActiveActions header={false}/>\n            {\n                props.description.length > 0 &&\n                <div style={{marginRight: '0.5rem', marginLeft: '0.5rem'}}>\n                    {\n                        props.description\n                    }\n                </div>\n            }\n            <Table selectable fixed>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={10}>\n                            Название\n                        </Table.HeaderCell>\n                        <Table.HeaderCell className=\"propertyTableHeader\" width={5}>\n                            Значение\n                        </Table.HeaderCell>\n                        <Table.HeaderCell width={2}/>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {props.interestingProperties.map((propertyItem) => (\n                        <SingleProperty key={propertyItem.id} propertyDict={propertyItem} onClick={props.moveToAll}/>\n                    ))}\n                </Table.Body>\n            </Table>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n        importantProperties: state.workSpace.controls.properties.important,\n        description: state.workSpace.controls.properties.description,\n        interestingProperties: state.workSpace.controls.properties.interesting\n    }\n);\n\nexport default connect(mapStateToProps)(InterestingProperties)\n","import {Icon} from \"semantic-ui-react\";\nimport React from \"react\";\n\nconst SearchIcon = ({isInputStringEmpty, onClose, onSearch}) => {\n    if (onClose === undefined) onClose = () => {\n    };\n    if (onSearch === undefined) onSearch = () => {\n    };\n    return <Icon\n        name={isInputStringEmpty ? 'search' : 'close'}\n        onClick={\n            () => {\n                isInputStringEmpty ? onSearch() : onClose()\n            }\n        }\n        link\n    />\n};\n\nexport default SearchIcon;","import React, {useState} from 'react';\nimport {\n    CartesianGrid,\n    Cell,\n    Line,\n    LineChart,\n    Pie,\n    PieChart,\n    Tooltip,\n    XAxis,\n    YAxis,\n} from 'recharts';\nimport './style.less';\nimport {Checkbox, Popup} from \"semantic-ui-react\";\nimport {round} from \"../../utils\";\n\nfunction getBaseLog(x, y) {\n    return round(Math.log(y) / Math.log(x), 2);\n}\n\nconst CircularPlot = ({onSelectItem, width, height, data}) => {\n    return (\n        <PieChart width={width} height={height}>\n            <Pie onClick={onSelectItem} data={data} fill=\"#8884d8\" label={entry => entry.name}>\n                {\n                    data.map((entry, index) => <Cell key={`cell-${index}`}\n                                                     fill={entry.color ? entry.color : '#000000'}/>)\n                }\n            </Pie>\n            <Tooltip/>\n        </PieChart>\n    )\n};\n\nconst LinePlot = ({width, height, data, onSelectItem}) => {\n\n    const [isLogMode, setLogMode] = useState(false);\n\n    const logModeChange = (e, data) => {\n        setLogMode(data.checked)\n    };\n\n    if (isLogMode) {\n        data = data.map(item => ({...item, value: getBaseLog(1.1,item.value + 1)}))\n    }\n\n    return (\n        <>\n            <LineChart\n                onClick={onSelectItem}\n                width={width}\n                height={height}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 10, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <YAxis/>\n                <XAxis hide dataKey={'name'}/>\n                <Tooltip/>\n                <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" activeDot={{r: 8}}/>\n            </LineChart>\n            <Checkbox onChange={logModeChange} checked={isLogMode} label={'Логорифмический режим'}/>\n        </>\n    )\n};\n\nconst Plot = ({type, data, onSelectNode}) => {\n\n    const onSelectItem = (event) => {\n        console.log(event);\n        if (event && event.activePayload)\n            onSelectNode(event.activePayload[0].payload);\n        else if (event && event.payload && event.payload.payload)\n            onSelectNode(event.payload.payload);\n\n    };\n\n    const width = 500;\n    const height = 300;\n    const plotProps = {\n        width,\n        height,\n        data,\n        onSelectItem\n    };\n    return (\n        <div className={'plotWidget'} onClick={e => e.stopPropagation()}>\n            {\n                type === 'line' &&\n                <LinePlot {...plotProps}/>\n            }\n            {\n                type === 'circular' &&\n                <CircularPlot {...plotProps}/>\n            }\n        </div>\n    );\n};\n\n\nexport const PlotPopup = (props) => {\n\n    return (\n        <Popup pinned\n               basic\n               trigger={props.trigger} on={'click'}\n               flowing\n               position={'top right'}>\n            <div style={{textAlign: 'center', marginBottom: '0.5rem'}}>{props.header}</div>\n            <Plot {...props}/>\n        </Popup>\n    )\n};\n\nexport default Plot;","import React, {useEffect, useState} from \"react\";\nimport {Accordion, Icon, Input, Table} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport SearchIcon from \"../../../utils/SearchIcon\";\nimport {PlotPopup} from \"../../../Plot/Plot\";\nimport {setEntitiesItemsList} from \"../../../../store/entitiesReducer\";\nimport SingleProperty from \"../SingleProperty\";\n\nconst AllProperties = (props) => {\n    const [searchValue, setInputValue] = useState('');\n    const [activeIDS, setActiveIDS] = useState([]);\n    const [properties, setProperties] = useState(props.allProperties);\n\n    const toggleProperty = (e, titleProps) => {\n        const itemId = titleProps.index;\n\n        if (activeIDS.includes(itemId))\n            setActiveIDS(activeIDS.filter(item => item !== itemId));\n        else\n            setActiveIDS([...activeIDS, itemId])\n    };\n\n    const searchStringChange = (value) => {\n        const newProperties = [];\n        for (let property of props.allProperties) {\n            const {name} = property;\n            if (name.toLowerCase().indexOf(value.toLowerCase()) !== -1) {\n                newProperties.push(property);\n            }\n        }\n        setInputValue(value);\n        if (!value) {\n            setProperties(props.allProperties);\n            setActiveIDS([]);\n        } else {\n            setProperties(newProperties);\n            if (newProperties.length)\n                setActiveIDS([newProperties[0].id]);\n        }\n    };\n    useEffect(() => {\n        if (props.allProperties !== properties) {\n            console.log('properties effect')\n\n            searchStringChange(searchValue)\n        }\n        if (props.openedPropID) {\n            const openedID = props.openedPropID;\n            setActiveIDS([props.openedPropID]);\n            const newProps = [...props.allProperties];\n            newProps.sort((a, b) => (b.id === openedID ? 1 : -1));\n            setProperties(newProps);\n        }\n    }, [props.allProperties, props.openedPropID]);\n    return (\n        <>\n            <Input fluid\n                   icon={<SearchIcon isInputStringEmpty={!searchValue.length} onClose={() => searchStringChange('')}/>}\n                   value={searchValue}\n                   placeholder={'Грамотность, 12, школа, общественные статус'}\n                   onChange={(e, data) => {\n                       searchStringChange(data.value)\n                   }}\n            />\n            <Accordion style={{maxHeight: '61.5vh', overflow: 'auto', scrollbarWidth: 'none'}}>\n                {properties.map((property) => {\n                    return (\n                        <Accordion.Accordion key={property.id}>\n                            <Accordion.Title\n                                index={property.id}\n                                active={activeIDS.includes(property.id)}\n                                onClick={toggleProperty}\n                            >\n                                <Icon name=\"dropdown\"/>\n                                {props.activePropertyId === property.id ? <b>{property.name}</b> : property.name}\n                                {\n                                    property.plot &&\n                                    <PlotPopup data={property.plot.data}\n                                               type={property.plot.type}\n                                               onSelectNode={(node) => props.setEntitiesItemsList(node.ids)}\n                                               header={property.name}\n                                               trigger={<Icon\n                                                   link\n                                                   onClick={e => e.stopPropagation()}\n                                                   circular\n                                                   style={{float: \"right\"}}\n                                                   name=\"chart line\"\n                                               />}/>\n                                }\n                            </Accordion.Title>\n                            <Accordion.Content active={activeIDS.includes(property.id)}>\n                                <Table selectable>\n                                    <Table.Body>\n                                        {property.values.map(subProperty => (\n                                            <SingleProperty key={subProperty.id} propertyDict={subProperty}/>\n                                        ))}\n                                    </Table.Body>\n                                </Table>\n                            </Accordion.Content>\n                        </Accordion.Accordion>\n                    )\n                })}\n            </Accordion>\n        </>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    allProperties: state.workSpace.controls.properties.all,\n});\n\nconst mapDispatchToProps = ({\n    setEntitiesItemsList\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AllProperties)\n","import React, {Component} from \"react\";\nimport {Menu} from \"semantic-ui-react\";\n\nimport InterestingProperties from \"./InterestingProperties/InterestingProperties\";\nimport AllProperties from \"./AllProperties/AllProperties\";\n\nexport default class PropertiesPanel extends Component {\n    state = {\n        activeItem: \"interesting\",\n        openedPropID: null\n    };\n    clickMenu = (e, {name}) => {\n        this.setState({activeItem: name});\n    };\n\n    openAllMenuWithProp = (propID) => {\n        console.log(propID);\n        const arr = propID.split('.');\n        arr.pop();\n        this.setState({\n            activeItem: 'all',\n            openedPropID: arr.join('.')\n        })\n    };\n\n    render() {\n        const {activeItem} = this.state;\n        return (\n            <div>\n                <Menu secondary size=\"tiny\">\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"interesting\"}\n                        name=\"interesting\"\n                        content=\"Интересные свойства\"\n                    />\n                    <Menu.Item\n                        onClick={this.clickMenu}\n                        active={activeItem === \"all\"}\n                        name=\"all\"\n                        content=\"Все свойства\"\n                    />\n                </Menu>\n                {activeItem === \"interesting\" ? (\n                    <InterestingProperties moveToAll={this.openAllMenuWithProp}/>\n                ) : (\n                    <AllProperties openedPropID={this.state.openedPropID}/>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Button, Form} from \"semantic-ui-react\";\nimport formComponentGenerator from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {extractFromString} from \"../../../store/actions\";\n\n\nconst StringSearch = props => {\n    return (\n        <Form onSubmit={props.handleSubmit(props.extractFromString)}>\n            <p>Можете сделать <b>поиск</b> с помощью вк, нажать правой кнопкой мыши на странице, затем <b>Page\n                source</b>, скопировать весь текст и вставить сюда (или просто ctrl + U)</p>\n            <Field name={'text'}\n                   component={formComponentGenerator(Form.TextArea)}\n            />\n            <Button type={'submit'} content={'Извлечь'}\n                    style={{marginTop: '0.2rem'}} fluid basic/>\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    extractFromString\n});\nexport default connect(() => ({}), mapDispatchToProps)(reduxForm(\n    {\n        form: 'StringSearch',\n    }\n)(StringSearch));\n","import React, {useState} from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Accordion, Form, Icon} from \"semantic-ui-react\";\nimport formComponentGenerator, {formInputComponent} from \"../../utils/ReduxFormComponentWrapper\";\nimport {connect} from \"react-redux\";\nimport {submitFilterSearch} from \"../../../store/controlsReducer\";\n\n\nconst maxAmount1000Validation = (value) => Number(value) > 1000 ? 'Максимальное значение: 1000' : undefined;\n\nconst ServerSearch = ({handleSubmit, ...props}) => {\n    handleSubmit = handleSubmit(props.submitFilterSearch);\n    const [activeItem, setActiveItem] = useState('vk');\n    const toggleActiveItem = (value) => {\n        setActiveItem(activeItem === value ? '' : value)\n    };\n    return (\n        <Form autoComplete={'off'}>\n            {/*<Field*/}\n            {/*    name={'limit'}*/}\n            {/*    normalize={(value, previousValue) => {*/}\n            {/*        if (Number(value))*/}\n            {/*            return Number(value).toString();*/}\n            {/*        if(!value)*/}\n            {/*            return '0';*/}\n            {/*        return previousValue;*/}\n            {/*    }}*/}\n            {/*    component={formComponentGenerator(Form.Input)}*/}\n            {/*    validate={maxAmount1000Validation}*/}\n            {/*    label={'Максимальное количество объектов'}*/}\n            {/*/>*/}\n            <Field component={formInputComponent}\n                   name={'commonQueryString'}\n                   submitIcon={handleSubmit}\n                   label={'Универсальная поисковая строка'}\n                   placeholder={'https://vk.com/durov, nagibator666'}/>\n\n            {/*<Accordion>*/}\n            {/*    <Accordion.Accordion>*/}\n            {/*        <Accordion.Title onClick={() => toggleActiveItem('vk')} active={activeItem === 'vk'}>*/}\n            {/*            <Icon name=\"dropdown\"/>*/}\n            {/*            ВК*/}\n            {/*        </Accordion.Title>*/}\n            {/*        <Accordion.Content active={activeItem === 'vk'}>*/}\n            {/*            <Field component={formInputComponent}*/}\n            {/*                   submitIcon={handleSubmit}*/}\n            {/*                   name={'vkSearchQuery'}*/}\n            {/*                   label={'Поиск в социальной сети ВКонтакте'}*/}\n            {/*                   placeholder={'Иван Иванов, artur97, мемы'}/>*/}\n            {/*            <Form.Group>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkUsersInclude'}*/}\n            {/*                       label={'Люди'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkGroupsInclude'}*/}\n            {/*                       label={'Группы'}/>*/}\n            {/*                <Field component={formComponentGenerator(Form.Checkbox)}*/}\n            {/*                       name={'vkPostsInclude'}*/}\n            {/*                       label={'Посты'}/>*/}\n            {/*            </Form.Group>*/}\n            {/*        </Accordion.Content>*/}\n            {/*    </Accordion.Accordion>*/}\n            {/*</Accordion>*/}\n        </Form>\n    )\n};\n\nconst mapDispatchToProps = ({\n    submitFilterSearch\n});\n\nexport default connect(null, mapDispatchToProps)(\n    reduxForm(\n        {\n            form: 'ServerSearch',\n            initialValues: {\n                limit: 1000,\n                vkUsersInclude: true,\n                vkGroupsInclude: false,\n                vkPostsInclude: false\n            },\n        }\n    )(ServerSearch));\n","import React from \"react\";\nimport {Dropdown} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport StringSearch from \"./StringSearch\";\nimport {changeFilterMode} from \"../../../store/controlsReducer\";\nimport ServerSearch from \"./ServerSearch\";\n\n\nconst PageSearch = props => {\n    return (\n        <></>\n    )\n};\n\n\nconst FilterPanel = ({searchMode, ...props}) => {\n    const searchModeOptions = [\n        {key: 'net', text: 'Из интернета (обращаться к API различных сервисов)', value: 'net'},\n        // {key: 'cache', text: 'Из баз данных NTrail (закешированные запросы)', value: 'cache'},\n        // {key: 'page', text: 'С данной страницы (уже полученное с сервера)', value: 'page'},\n        {key: 'text', text: 'Извлечь данные из строки', value: 'text'},\n    ];\n    return (\n        <div\n            style={{marginTop: '1rem'}}>\n            <b>Откуда брать информацию</b>\n            <Dropdown\n                value={searchMode}\n                onChange={(e, data) => props.changeFilterMode(data.value)}\n                fluid selection\n                options={searchModeOptions}\n                style={{marginBottom: '1rem'}}\n            />\n            {\n                searchMode === 'text' &&\n                <StringSearch/>\n            }\n            {\n                (searchMode === 'net' || searchMode === 'cache') &&\n                <ServerSearch/>\n            }\n            {\n                (searchMode === 'page') &&\n                <PageSearch/>\n            }\n        </div>\n    );\n};\n\nconst mapStateToProps = state => {\n    return {\n        searchMode: state.workSpace.controls.filterMode\n    }\n};\nconst mapDispatchToProps = ({\n    changeFilterMode\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterPanel)\n","import React from 'react';\nimport {Form} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport {getSelectedEntitiesURLS} from \"../../../store/selectors\";\n\nconst CopyPasteInput = ({value, label, component, condition}) => {\n    if (condition === undefined)\n        condition = true;\n    if (!value || !condition)\n        return <></>;\n    let Component = Form.Input;\n    if (component)\n        Component = component;\n\n    return <Component value={value} label={label}/>;\n};\n\n\nconst ParamsPanel = (props) => {\n    return (\n        <Form style={{marginTop: '1rem'}}>\n            <CopyPasteInput label={'Текущая версия'} value={props.version}/>\n            <CopyPasteInput label={'ID текущего кластера'} value={props.clusterID}/>\n            <CopyPasteInput component={Form.TextArea} label={'ID выделенных кластеров'}\n                            value={props.selectedClustersID.join('\\n')}/>\n\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'Количество Кластеров'} value={props.clustersCount}/>\n                <CopyPasteInput label={'Размер текущего кластера'} value={props.entitiesCount}/>\n            </Form.Group>\n            <Form.Group widths={'2'}>\n                <CopyPasteInput label={'ID выбранных сущностей'} value={props.selectedEntitiesID.join(', ')}/>\n                <CopyPasteInput label={'К-во выбранных сущностей'} value={props.selectedEntitiesID.length}/>\n            </Form.Group>\n\n\n            <CopyPasteInput component={Form.TextArea}\n                            label={'Ссылки на выбранные сущности'}\n                            value={props.selectedEntitiesURLS.join('\\n')}/>\n        </Form>\n    )\n};\n\nconst mapStateToProps = state => {\n    return {\n        clusterID: state.workSpace.clusters.selectedClusterID,\n        version: state.workSpace.version,\n        selectedEntitiesID: state.workSpace.entities.selectedItems,\n        selectedEntitiesURLS: getSelectedEntitiesURLS(state),\n        clustersCount: state.workSpace.clusters.items.length,\n        entitiesCount: state.workSpace.entities.items.length,\n        selectedClustersID: state.workSpace.clusters.highlightedClusters\n    }\n};\n\nexport default connect(mapStateToProps)(ParamsPanel);\n","import React from \"react\";\nimport {Segment, Menu} from \"semantic-ui-react\";\nimport './style.less'\n\nimport PropertiesMenu from \"./PropertiesMenu/PropertiesMenu\";\nimport FilterPanel from \"./FilterPanel/FilterPanel\";\nimport ActionsPanel from \"./ActionsPanel/ActionsPanel\";\nimport {connect} from \"react-redux\";\nimport {selectMenu} from \"../../store/controlsReducer\";\nimport ParamsPanel from \"./ParamsPanel/ParamsPanel\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ControlPanel = (props) => {\n    const {activeItem} = props;\n    let menu = <PropertiesMenu/>;\n    if (activeItem === 'actions')\n        menu = <ActionsPanel/>;\n    else if (activeItem === 'filter')\n        menu = <FilterPanel/>;\n    else if (activeItem === 'params')\n        menu = <ParamsPanel/>;\n    return (\n        <UISegment>\n            <Menu secondary\n                  widths={props.haveClusters ? 4 : 3}\n                  style={{marginBottom: \"0.2rem\"}}\n            >\n                {\n                    props.haveClusters &&\n                    <Menu.Item\n                        active={activeItem === \"properties\"}\n                        name=\"properties\"\n                        content='Главное'\n                        onClick={() => props.selectMenu('properties')}\n                    />\n                }\n                <Menu.Item\n                    onClick={() => props.selectMenu('filter')}\n                    active={activeItem === \"filter\"}\n                    name=\"filter\"\n                    className={'controlMenu'}\n                    content=\"Фильтр\"\n                />\n                <Menu.Item\n                    onClick={() => props.selectMenu('actions')}\n                    active={activeItem === \"actions\"}\n                    name=\"actions\"\n                    content=\"Действия\"\n                />\n                {\n                    <Menu.Item\n                        onClick={() => props.selectMenu('params')}\n                        active={activeItem === \"params\"}\n                        name=\"params\"\n                        content=\"Параметры\"\n                    />\n                }\n\n            </Menu>\n            {menu}\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => ({\n    activeItem: state.workSpace.controls.activeItem,\n    haveClusters: state.workSpace.clusters.items.length > 0\n});\nconst mapDispatchToProps = {\n    selectMenu\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel)\n","import React from \"react\";\nimport { Popup, Icon } from \"semantic-ui-react\";\n\nexport default ({ text, position }) => {\n  return (\n    <Popup\n      position={position}\n      content={text}\n      trigger={<Icon color=\"grey\" name=\"question circle\" />}\n    />\n  );\n};\n","import React from 'react';\nimport QuestionPopup from \"./QuestionPopup\";\n\n\nconst NoContent = (props) => {\n    let minHeight = 300;\n    if (props.height)\n        minHeight = props.height;\n    const noContentCss = {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        minHeight: minHeight + \"px\",\n        width: '100%'\n    };\n    return (\n        <div style={noContentCss}>\n            <div style={{float: \"left\"}}>{props.text}</div>\n            &nbsp;&nbsp;\n            <QuestionPopup\n                text={props.popup}\n            />\n        </div>\n    );\n}\n\nexport default NoContent;\n","import React from \"react\";\n\n\nfunction ClusterImages(props) {\n    const photos = props.photos;\n    const calculatePhotoCSS = (size, idx) => {\n        const css = {\n            zIndex: -idx + 100\n        };\n        if (size === 1)\n            return css;\n        if (size === 2)\n            return {...css, left: 10 + 60 / size * idx + '%'};\n        return {...css, left: 75 / size * idx + '%'};\n    };\n\n\n    return (\n        <div className=\"imagesContainer\">\n            {photos.map((url, idx) => (\n                <img\n                    key={idx}\n                    style={calculatePhotoCSS(photos.length, idx)}\n                    className=\"previewClusterImage\"\n                    src={url}\n                    alt=\"\"\n                />\n            ))}\n        </div>\n    )\n}\n\nexport default ClusterImages;","import React, {useLayoutEffect, useRef, useState} from \"react\";\nimport \"./style.less\";\nimport {Checkbox} from \"semantic-ui-react\";\nimport ClusterImages from \"./ImagesGroup\";\n\n\nconst Cluster = ({clusterData, chooseCluster, selected, x, y, dragCluster, ...props}) => {\n    const {photos} = clusterData;\n    const [dimensions, setDimensions] = useState({width: 0, height: 0});\n\n    const clusterCss = {\n        // transition: 'left 0.07s, top 0.07s',\n        zIndex: selected ? 100 : 0,\n        left: x - dimensions['width'] / 2 + 'px',\n        top: y - dimensions['height'] / 2 + 'px',\n        width: clusterData.size + \"rem\",\n    };\n    const targetRef = useRef();\n\n    useLayoutEffect(() => {\n        if (targetRef.current) {\n            setDimensions({\n                width: targetRef.current.offsetWidth,\n                height: targetRef.current.offsetHeight\n            });\n        }\n    }, []);\n\n    const clusterContainerClasses = [\n        'clusterObject',\n        selected && 'selectedCluster',\n        props.isOverlay && 'overlayCluster'\n    ];\n    return (\n        <div\n            ref={targetRef}\n            onMouseDown={(e) => {\n                e.preventDefault();\n                chooseCluster(clusterData.id)\n            }}\n            style={clusterCss} className={clusterContainerClasses.join(' ')}>\n            {(selected || props.showCheckbox) &&\n            <Checkbox checked={props.highlighted}\n                      onMouseDown={e => e.stopPropagation()}\n                      onClick={e => e.stopPropagation()}\n                      onChange={(e) => {\n                          props.toggleClusterHighlight(clusterData.id)\n                      }}\n                      style={{zIndex: '103', position: 'absolute', right: '0.5rem', top: '0.5rem'}}/>}\n            <ClusterImages\n                photos={photos}/>\n\n            <div style={{display: 'flex', justifyContent: 'center', textAlign: 'center', alignItems: 'center'}}>\n                <div>{clusterData.name} </div>\n\n            </div>\n\n        </div>\n    );\n\n}\nexport default Cluster\n","import React from 'react';\n\n\nconst Arrow = ({x1, x2, y1, y2, shorten}) => {\n    // shorten - значение, на которое надо сократить срелку с обеих сторон\n    const shiftX = x2 - x1;\n    const shiftY = y2 - y1;\n    if (!shorten) shorten = 0;\n    const lineLength = Math.sqrt(shiftX*shiftX + shiftY*shiftY);\n    const newLength = lineLength - shorten * 2;\n    const minLength = 20;\n    if(shorten && (lineLength < minLength || newLength < minLength)){\n        return <line/>\n    }\n    const lengthFraction = newLength / lineLength;\n    const newShiftX = shiftX * lengthFraction;\n    const newShiftY = shiftY * lengthFraction;\n    x1 += (shiftX - newShiftX) / 2;\n    y1 += (shiftY - newShiftY) / 2;\n    x2 = x1 + newShiftX;\n    y2 = y1 + newShiftY;\n\n    // debugger\n    return (\n        <line x1={x1 + 'px'} y1={y1 + 'px'} x2={x2 + 'px'} y2={y2 + 'px'} stroke=\"black\"/>\n    )\n}\n\nexport default Arrow;\n","import React from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\n\n\nconst ClustersGraph = (props) => {\n    const {sizes: {width, height}, graph} = props;\n    if (!graph)\n        return null;\n    return (\n        <div\n            onMouseMove={(e) => {\n                e.preventDefault();\n                props.dragCluster(e.movementX, e.movementY)\n            }}\n            onMouseUp={() => props.stopDrag()}\n            onMouseLeave={() => {\n                props.stopDrag()\n            }}\n            className={'clustersAnimationsContainer'}>\n            <div className=\"clustersField\" style={{height: height, width: width}}>\n                {graph.nodes.map(node => (\n                    <Cluster\n                        chooseCluster={() => props.selectCluster(node.id)}\n                        selected={props.selectedClusterID === node.id}\n                        highlighted={props.highlightedClusters.includes(node.id)}\n                        x={node.pos.x}\n                        y={node.pos.y}\n                        key={node.id}\n                        clusterData={node.data}\n                        isOverlay={node.id === props.overlayClusterID}\n                        toggleClusterHighlight={props.toggleClusterHighlight}\n                        showCheckbox={props.highlightedClusters.length > 0}\n                    />\n                ))}\n            </div>\n            <svg width={width} height={height}>\n                {\n                    graph.edges.map(item => {\n                            let x1, x2, y1, y2;\n                            x1 = item.from.pos.x;\n                            y1 = item.from.pos.y;\n                            x2 = item.to.pos.x;\n                            y2 = item.to.pos.y;\n\n                            return (\n                                <Arrow\n                                    key={item.from.id + '__' + item.to.id}\n                                    x1={x1}\n                                    y1={y1}\n                                    x2={x2}\n                                    y2={y2}\n                                    shorten={50}\n                                />\n                            )\n                        }\n                    )\n                }\n            </svg>\n        </div>\n    )\n};\n\n\nexport default ClustersGraph;\n\n","const repulsionForce = [-2.4, 1, 10, 80, 25];\nconst attractionForce = [2, 0, 4, 2, 2];\nconst borderRepulsionForce = [-1, 0.5, 10, 20, 0.1];\nconst centralAttractionForce = [1, 1, 2, 2, 0.01 * 0];\n\nconst moveStrength = 5;\n\nclass Vector {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    copy() {\n        return new Vector(this.x, this.y);\n    }\n\n    add(other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    }\n\n    mult(value) {\n        this.x *= value;\n        this.y *= value;\n        return this;\n    }\n\n    div(value) {\n        return this.mult(1 / value);\n    }\n\n    sub(other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this\n    }\n\n    mag() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n}\n\nconst createVector = (x, y) => {\n    return new Vector(x, y);\n};\n\nconst min = (...values) => Math.min(...values);\nconst max = (...values) => Math.max(...values);\n\nexport const getDist = (x, y) => {\n    return Math.sqrt(x*x + y*y);\n};\n\nconst map = (value, currLower, currUpper, targetLower, targetUpper, needBound = false) => {\n    if (needBound)\n        value = min(max(value, currLower), currUpper);\n    value -= currLower;\n    value /= (currUpper - currLower);\n    value *= (targetUpper - targetLower);\n    value += targetLower;\n    return value;\n};\n\n\nclass Node {\n    constructor(node, sizes) {\n        this.id = node.id;\n        this.data = node;\n        this.sizes = sizes;\n        this.maxSize = max(sizes.width, sizes.height);\n        let x, y;\n        if (node['__exist']) {\n            x = node.pos.x;\n            y = node.pos.y;\n        } else {\n            x = Math.random() * sizes.width;\n            y = Math.random() * sizes.height;\n        }\n        this.pos = createVector(x, y);\n        this.velocity = createVector(0, 0);\n        this.lastShift = null;\n        this.lockedPosition = false\n    }\n\n    getData() {\n        return {\n            ...this.data,\n            __exist: true,\n            pos: {\n                x: this.pos.x,\n                y: this.pos.y\n            }\n        }\n    }\n\n    getDistanceWith(x, y) {\n        return createVector(x - this.pos.x, y - this.pos.y).mag()\n    }\n\n    shiftBy(x, y) {\n        this.pos.add(createVector(x, y))\n    }\n\n    moveTo(x, y) {\n        this.pos = createVector(x, y)\n    }\n\n    lockMovement() {\n        this.lockedPosition = true\n    }\n\n    unlockMovement() {\n        this.lockedPosition = false\n    }\n\n    toForceVector(distVector, parameters, direction = 1) {\n        let [pow, lowerBorder, upperBorder, minValue, coef] = parameters;\n\n        let dist = distVector.mag();\n        distVector.div(dist);\n\n        dist = map(dist, minValue, this.maxSize, lowerBorder, upperBorder, true);\n\n        let forceFactor = Math.pow(dist, pow);\n        return distVector.mult(forceFactor * coef * direction)\n    }\n\n    calculateForceWith(other, connected) {\n        let dir = other.pos.copy().sub(this.pos);\n\n        let move = this.toForceVector(dir.copy(), repulsionForce, -1);\n        if (connected)\n            return this.toForceVector(dir, attractionForce).add(move);\n\n        return move\n    }\n\n    calculateForceWithBorders() {\n        let top = createVector(0, max(1, this.pos.y));\n        let left = createVector(max(1, this.pos.x), 0);\n        let bottom = createVector(0, min(-1, this.pos.y - this.sizes.height));\n        let right = createVector(min(-1, this.pos.x - this.sizes.width), 0);\n\n        let center = createVector(this.sizes.width / 2 - this.pos.x, this.sizes.height / 2 - this.pos.y);\n\n        let sum = this.toForceVector(center, centralAttractionForce);\n        sum.add(this.toForceVector(top, borderRepulsionForce));\n        sum.add(this.toForceVector(left, borderRepulsionForce));\n        sum.add(this.toForceVector(bottom, borderRepulsionForce));\n        sum.add(this.toForceVector(right, borderRepulsionForce));\n        return sum;\n    }\n\n    normalizePosition() {\n        const normalizeCoordinate = (value, maxValue) => {\n            return max(min(value, maxValue), 0)\n        };\n\n        this.pos = createVector(\n            normalizeCoordinate(this.pos.x, this.sizes.width),\n            normalizeCoordinate(this.pos.y, this.sizes.height)\n        );\n    }\n\n    applyForce(forceVector) {\n        if (this.lockedPosition)\n            return;\n\n        forceVector.mult(moveStrength);\n\n        this.lastShift = forceVector;\n        this.pos.add(forceVector);\n\n        this.normalizePosition()\n    }\n}\n\n\nexport class Graph {\n    constructor(nodes, edges, sizes) {\n        this.nodes = nodes.map(node => new Node(node, sizes));\n        const nodesDict = {};\n        for (const node of this.nodes)\n            nodesDict[node.id] = node;\n\n        this.nodesDict = nodesDict;\n        this.edges = edges.map(edge => ({from: nodesDict[edge.from], to: nodesDict[edge.to]}));\n        this.sizes = sizes;\n        const edgesDict = {};\n        for (let node of this.nodes)\n            edgesDict[node.id] = [];\n\n        for (let edge of this.edges) {\n            let id1 = edge.from.id;\n            let id2 = edge.to.id;\n            edgesDict[id1].push(id2);\n            edgesDict[id2].push(id1);\n        }\n        this.edgesDict = edgesDict;\n        this.wasUpdated = false;\n    }\n\n    getNearestNode(x, y) {\n        let minDist = 9999999;\n        let bestNode = this.nodes[0];\n        for (let node of this.nodes) {\n            let dist = node.getDistanceWith(x, y);\n            if (dist < minDist) {\n                minDist = dist;\n                bestNode = node;\n            }\n        }\n        return bestNode\n    }\n\n    wornToChange(){\n        this.wasUpdated = false\n    }\n\n    getCompletePercents() {\n        if (!this.wasUpdated){\n            return 0;\n        }\n        let res = 0;\n        for (let node of this.nodes) {\n            res += node.lastShift.mag();\n        }\n        res /= this.nodes.length;\n        res = Math.pow(res, 0.5);\n        return 100 - map(res, 0, 3, 0, 100, true)\n    }\n\n    calculateForces() {\n        let forces = {};\n        for (let node1 of this.nodes) {\n            let id1 = node1.id;\n            let nodeBorderForce = node1.calculateForceWithBorders();\n\n            forces[id1] = createVector(0, 0);\n\n            for (let node2 of this.nodes) {\n                let id2 = node2.id;\n                if (id1 === id2)\n                    continue;\n\n                let connected = false;\n\n                if (this.edgesDict[id1].includes(id2))\n                    connected = true;\n\n                forces[id1].add(node1.calculateForceWith(node2, connected));\n            }\n\n            forces[id1].div(this.nodes.length).add(nodeBorderForce)\n        }\n        return forces;\n    }\n\n    applyForces() {\n        let forces = this.calculateForces();\n        for (let node of this.nodes) {\n            node.applyForce(forces[node.id])\n        }\n        this.wasUpdated = true;\n    }\n}","import React, {createRef} from 'react';\nimport Cluster from \"./Cluster\";\nimport Arrow from \"./Arrow\";\nimport {rand} from '../../utils'\nimport ClustersGraph from \"./ClustersGraph\";\nimport {getDist, Graph} from \"./graphLogic\";\n\n\nconst makeGraphIteration = (graph) => {\n    if (!graph)\n        return;\n    graph.applyForces();\n    return graph\n};\n\nconst updateGraphWith = (graph, clusters, connections, sizes) => {\n    let existingNodesDict = {};\n    if (graph)\n        existingNodesDict = graph.nodesDict;\n\n    const newClustersIDS = clusters.map(item => item.id);\n\n    const newNodes = clusters.map(\n        cluster => (cluster.id in existingNodesDict) ? existingNodesDict[cluster.id].getData() : cluster\n    ).filter(node => newClustersIDS.includes(node.id));\n    return new Graph(newNodes, connections, sizes)\n};\n\n\nconst updateClustersPositionsTimeout = 25;\nconst stopUpdateGraphCutoff = 90;\n\nclass ClustersAnimate extends React.Component {\n    state = {\n        graph: null,\n        sizes: {\n            width: 0,\n            height: 0\n        },\n        overlayClusterID: null,\n        selectedCluster: null,\n        mousePressed: false,\n        liveUpdate: false,\n        selectedClusterObject: null,\n        trajectory: 0\n    };\n\n    updateGraphFrame() {\n        this.setState({\n            graph: makeGraphIteration(this.state.graph)\n        });\n    }\n\n    calculateHeight(){\n        return (this.props.clusters.length - this.props.connections.length / 2 + 5) * 40;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.clustersID !== this.props.clustersID) {\n            const width = this.containerRef.current.offsetWidth;\n            const height = this.calculateHeight();\n            this.setState({\n                    sizes: {\n                        width, height\n                    },\n                    liveUpdate: true,\n                    mousePressed: false,\n                    overlayClusterID: false,\n                    selectedCluster: this.props.selectedClusterID,\n                    graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height})\n                }\n            )\n        } else if (this.state.liveUpdate) {\n            if (this.state.graph.getCompletePercents() >= stopUpdateGraphCutoff)\n                this.setState({liveUpdate: false});\n            else\n                setTimeout(this.updateGraphFrame.bind(this), updateClustersPositionsTimeout);\n        }\n    }\n\n    componentDidMount() {\n        const width = this.containerRef.current.offsetWidth;\n        const height = this.calculateHeight();\n        this.setState({\n            sizes: {width, height},\n            graph: updateGraphWith(this.state.graph, this.props.clusters, this.props.connections, {width, height}),\n            liveUpdate: true\n        });\n    }\n\n    selectCluster(id) {\n        let nearestNode = this.state.graph.nodesDict[id];\n        nearestNode.lockMovement();\n        this.state.graph.wornToChange();\n        this.setState({\n            mousePressed: true,\n            selectedCluster: id,\n            selectedClusterObject: nearestNode,\n            trajectory: 0\n        });\n    }\n\n    stopDrag() {\n        if(this.state.selectedClusterObject){\n            if(this.state.trajectory < 5){\n                this.props.selectCluster(this.state.selectedCluster)\n            }\n            this.state.selectedClusterObject.unlockMovement();\n            this.setState({\n                mousePressed: false,\n                selectedClusterObject: null,\n                liveUpdate: true\n            });\n        }\n    }\n\n    dragCluster(x, y){\n        if (this.state.selectedClusterObject) {\n            this.state.selectedClusterObject.shiftBy(x, y);\n            this.setState({\n                graph: this.state.graph,\n                trajectory: this.state.trajectory + getDist(x, y)\n            })\n        }\n    }\n\n    toggleClusterHighlight(id) {\n        if (!this.props.highlightedClusters.includes(id))\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters,\n                id\n            ]);\n        else\n            this.props.setHighlightedClusters([\n                ...this.props.highlightedClusters.filter(item => item !== id)\n            ]);\n    }\n\n    render() {\n        this.containerRef = createRef();\n        return (\n            <div ref={this.containerRef} style={{margin: '35px'}}>\n                <ClustersGraph\n                    graph={this.state.graph}\n                    sizes={this.state.sizes}\n                    dragCluster={this.dragCluster.bind(this)}\n                    stopDrag={this.stopDrag.bind(this)}\n                    selectCluster={this.selectCluster.bind(this)}\n                    selectedClusterID={this.props.selectedClusterID}\n                    highlightedClusters={this.props.highlightedClusters}\n                    toggleClusterHighlight={this.toggleClusterHighlight.bind(this)}\n                />\n            </div>\n        )\n    }\n}\n\nexport default ClustersAnimate;\n","import React from 'react';\nimport ClusterImages from \"./ImagesGroup\";\nimport {Icon} from \"semantic-ui-react\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {connect} from \"react-redux\";\nimport {getEntitiesColors, getSelectedItemsIDS} from \"../../store/selectors\";\n\n\nconst ClusterLine = (props) => {\n    const {toggleOpen, cluster, opened, haveChildren, selected, selectCluster, indent} = props;\n    const {name, count, photos, id} = cluster;\n    let containerClasses = ['clusterLine'];\n    if(props.selectedEntities.map(id=>props.entitiesColors[id].id).includes(id))\n        containerClasses.push('highlightedClusterLine');\n    if(selected)\n        containerClasses.push('selectedClusterLine');\n    return (\n        <div\n            style={{marginLeft: indent * 10 + 'px'}}\n            className={containerClasses.join(' ')}\n            onClick={e => {\n                e.stopPropagation();\n                selectCluster(cluster.id)\n            }}\n        >\n            {\n                haveChildren ?\n                    <Icon style={{marginLeft: 'auto'}} onClick={e => {\n                        e.stopPropagation();\n                        toggleOpen()\n                    }} link name={opened ? 'caret down' : 'caret right'}/>\n                    : <div/>\n            }\n            <div className={'clusterName'}>{name}</div>\n            <ClusterImages photos={photos}/>\n            <div style={{margin: 'auto'}}>{count}</div>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    selectedEntities: getSelectedItemsIDS(state),\n    entitiesColors: getEntitiesColors(state)\n});\n\nexport default connect(mapStateToProps)(ClusterLine);\n","import React, {useEffect, useState} from 'react';\nimport ClusterLine from \"./ClusterLine\";\nimport {connect} from \"react-redux\";\nimport {getClusterParent, getClustersTreeDict} from \"../../store/selectors\";\n\nconst getAllChildrenIDS = (clustersTree, parentID, withParent = false) => {\n    if (!(parentID in clustersTree)) {\n        if (withParent)\n            return [parentID];\n        return [];\n    }\n\n    return clustersTree[parentID].map(child => getAllChildrenIDS(clustersTree, child.id, true)).flat();\n};\n\nconst ClustersTree = (props) => {\n    let {clusters, clustersID, parentID, level, selectedClusterID, selectCluster, clustersTree} = props;\n    if (!level)\n        level = 0;\n    let currLevelClusters = clustersTree[parentID];\n\n    const [openedClusters, setOpenedClusters] = useState(currLevelClusters.map(item=>item.id));\n\n\n    const toggleOpen = (clusterID) => {\n        if (openedClusters.includes(clusterID))\n            setOpenedClusters(openedClusters.filter(item => item !== clusterID));\n        else\n            setOpenedClusters([...openedClusters, clusterID]);\n    };\n\n    return (\n        <div>\n            {\n                currLevelClusters.map(cluster => (\n                    <div key={cluster.id}>\n                        <ClusterLine\n                            indent={level}\n                            selectCluster={selectCluster}\n                            cluster={cluster}\n                            selected={cluster.id === selectedClusterID}\n                            opened={openedClusters.includes(cluster.id)}\n                            toggleOpen={() => toggleOpen(cluster.id)}\n                            haveChildren={clusters.filter(child => getClusterParent(child) === cluster.id).length > 0}\n                        />\n                        {\n                            openedClusters.includes(cluster.id) && clustersTree[cluster.id] &&\n                            <ClustersTree\n                                {...props} level={level + 1}\n                                parentID={cluster.id}\n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n};\n\n\n\n\nconst ClustersTreeWrapper = (props) => {\n\n    return (\n        <div style={{maxHeight: '70vh', overflow: 'auto', padding: '3px'}}>\n            <ClustersTree {...props} parentID={null}/>\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state, props) => {\n\n    return {\n        clustersTree: getClustersTreeDict(state)\n    }\n};\n\nconst mapDispatchToProps = ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersTreeWrapper);\n","import React from \"react\";\nimport {Button, Segment} from \"semantic-ui-react\";\nimport {connect} from \"react-redux\";\nimport NoContent from \"../utils/NoContent\";\nimport {deleteCluster, reloadCluster, selectCluster, setHighlightedClusters} from \"../../store/clustersReducer\";\nimport {clearAll} from \"../../store/workSpaceReducer\";\nimport ClustersAnimate from \"./ClustersAnimate\";\nimport {shuffle} from \"../../utils\";\nimport ClustersTree from \"./ClustersTree\";\nimport {getClusters, getClustersIDS} from \"../../store/selectors\";\nimport {deleteSelectedCluster} from \"../../store/actions\";\nimport {UISegment} from \"../utils/UI\";\n\nconst ClustersPanel = (props) => {\n    const noContent = <NoContent\n        popup={\"Создайте объект в рабочем поле (центральное), чтобы добавить кластер\"}\n        text={'Кластеров пока нет'}\n    />;\n\n    return (\n        <UISegment className={'clustersPanel'}\n\n        >{\n            props.haveControlButtons &&\n            (<Button.Group compact size={'tiny'} widths='3' style={{marginBottom: '1rem'}}>\n                <Button onClick={props.clearAll} basic color={'red'} icon={'delete'} content={'Очистить'}/>\n                <Button onClick={props.deleteCluster} basic color={'orange'} icon={'trash alternate outline'}\n                        content={'Удалить'}/>\n                <Button onClick={props.reloadCluster} basic color={'blue'} icon={'sync alternate'}\n                        content={'Обновить'}/>\n            </Button.Group>)\n        }\n\n            {props.clusters.length === 0\n                ? noContent\n                : <ClustersTree {...props}/>\n            }\n            {\n                props.haveSelectionActions &&\n                (<Button.Group compact size={'tiny'} widths='2' style={{marginBottom: '0rem'}}>\n                    <Button onClick={() => props.setHighlightedClusters([])} color={'grey'} basic\n                            icon={'circle outline'}\n                            content={'Снять выделение'}/>\n                    <Button onClick={() => props.setHighlightedClusters(props.clustersID)} color={'grey'} basic\n                            icon={'circle'}\n                            content={'Выделить все'}/>\n                </Button.Group>)\n            }\n        </UISegment>\n    );\n};\n\nconst mapStateToProps = (state) => {\n\n    return {\n        clusters: getClusters(state),\n        clustersID: getClustersIDS(state),\n        connections: state.workSpace.clusters.connections,\n        selectedClusterID: state.workSpace.clusters.selectedClusterID,\n        haveControlButtons: state.workSpace.clusters.items.length > 0,\n        highlightedClusters: state.workSpace.clusters.highlightedClusters,\n        haveSelectionActions: state.workSpace.clusters.highlightedClusters.length > 0\n    }\n};\n\nconst mapDispatchToProps = {\n    selectCluster,\n    deleteCluster: deleteSelectedCluster,\n    reloadCluster,\n    clearAll,\n    setHighlightedClusters\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClustersPanel)","import React from 'react';\nimport style from './style.less'\n\n\nconst Link = (props) => {\n    const {text, url, style} = props;\n    return (\n        <a\n            style={style}\n            onMouseDown={e=>e.stopPropagation()}\n            onClick={e=>e.stopPropagation()}\n            className=\"customLink\"\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n        >\n            <div>{text}</div>\n        </a>\n    )\n};\n\nexport default Link;\n","import React, {useEffect, useState} from 'react';\nimport {\n    Sigma,\n    RandomizeNodePositions,\n    ForceAtlas2, SigmaEnableWebGL\n} from 'react-sigma';\nimport {connect} from \"react-redux\";\nimport {colorByNumber, listHash} from \"../../utils\";\nimport {getEntities, getEntitiesColors} from \"../../store/selectors\";\nimport {Icon, Image} from \"semantic-ui-react\";\nimport Link from \"../utils/Link\";\nimport {selectCluster} from \"../../store/clustersReducer\";\nimport {Button, UIGroup} from \"../utils/UI\";\n\nconst getNodeColorAndSize = (entity, selectedEntities, visibleEntities, entitiesColors) => {\n    let size = 5;\n    if (selectedEntities.includes(entity.id))\n        size = 8;\n    return {\n        size: size,\n        color: colorByNumber(entitiesColors[entity.id].id)\n    };\n    let color = entity.properties.sex === 1 ? '#ff5555' : '#5555ff';\n    if (!entity.valid)\n        color = '#aaa';\n    if (!visibleEntities.includes(entity.id)) {\n        // color = LightenDarkenColor(color, -40);\n        color = '#777';\n        size = 4\n    }\n    if (selectedEntities.includes(entity.id)) {\n        color = '#0a0';\n    }\n\n    return {\n        color: color,\n        size: size\n    };\n};\n\nclass UpdateNodeProps extends React.Component {\n\n    componentWillReceiveProps({sigma, selectedEntities, visibleEntities, entitiesColors}) {\n\n        sigma.graph.nodes().forEach(n => {\n            const updateNode = {\n                ...getNodeColorAndSize(n.entity, selectedEntities, visibleEntities, entitiesColors),\n            };\n            Object.assign(n, updateNode)\n        });\n        sigma.refresh();\n\n    }\n\n    render = () => null\n}\n\n\nconst GraphActiveHint = (props) => {\n    const {x, y, entity, onClick} = props;\n\n    const style = {\n        left: x - 55,\n        top: y - 150\n    };\n    return (\n        <div className={'graphActiveEntity'} style={style} onClick={e => {\n            e.stopPropagation();\n            onClick(entity)\n        }}>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link text={entity.name} url={entity.url}/>\n        </div>\n    )\n};\n\nconst GraphSelectedEntity = (props) => {\n    const {entity, setSelectedEntity, highlightColor, selectCluster} = props;\n\n    if (!entity) return null;\n    return (\n        <div className={'graphActiveEntity'} style={{position: 'absolute', left: 10, top: 10}}>\n            <Icon onClick={() => setSelectedEntity(null)} link style={{position: 'absolute', top: 0, right: 20}}\n                  name={'close'}/>\n            <Image src={entity.img} size='tiny' circular style={{marginBottom: '0.5rem'}}/>\n            <Link style={{marginBottom: '1rem'}} text={entity.name} url={entity.url}/>\n            <UIGroup>\n                <Button color={colorByNumber(entity.colorCluster.id)}\n                        onClick={() => selectCluster(entity.colorCluster.id)}\n                        text={'Перейти'}/>\n                <Button color={colorByNumber(entity.colorCluster.id)} onClick={() => highlightColor(entity.id)}\n                        text={'Выделить цвет'}/>\n            </UIGroup>\n        </div>\n\n    )\n};\n\n\nconst EntitiesGraph = (props) => {\n    const {selectedEntities, connections, toggleItemSelection, entities, entitiesColors} = props;\n    const visibleEntitiesIDS = props.visibleEntities.map(item => item.id);\n    const [activeEntity, setActiveEntity] = useState(null);\n    const [activeEntityPos, setActiveEntityPos] = useState({});\n    const [selectedEntity, setSelectedEntity] = useState(null);\n\n    useEffect(() => {\n        setActiveEntity(null);\n        setSelectedEntity(null);\n    }, [listHash(entities)]);\n\n    const generateGraph = () => {\n        return {\n            nodes: entities.map(entity => ({\n                id: entity.id,\n                // label: entity.name,\n                ...getNodeColorAndSize(entity, selectedEntities, visibleEntitiesIDS, entitiesColors),\n                entity: {...entity, colorCluster: entitiesColors[entity.id]}\n            }))\n            ,\n            edges: Object.entries(connections).map(([firstID, connectedIDS]) =>\n                connectedIDS.map(secondID => ({\n                    id: firstID + secondID,\n                    source: firstID,\n                    target: secondID,\n                }))).flat()\n        }\n    };\n\n    const highlightColor = (id) => {\n        const color = entitiesColors[id];\n        const sameColorEntities = entities.filter(entity => entitiesColors[entity.id] === color).map(item => item.id);\n        props.selectEntities(sameColorEntities);\n    };\n\n    const graphSettings = {\n        defaultNodeColor: '#ec5148',\n        defaultEdgeColor: '#ccc',\n        edgeColor: 'default',\n        drawEdges: true,\n        labelThreshold: 100,\n        minNodeSize: 0,\n        maxNodeSize: 0\n    };\n\n    const graphStyle = {\n        height: '700px'\n    };\n\n    const selectNode = entity => {\n        if (!entity) {\n            setActiveEntity(null);\n            setSelectedEntity(null);\n            return;\n        }\n        setSelectedEntity(entity);\n        toggleItemSelection(entity.id);\n    };\n\n    const onClickNode = (node) => {\n        selectNode(node.entity);\n    };\n\n    const onOverNode = (node) => {\n        setActiveEntityPos({x: node['cam0:x'], y: node['cam0:y']});\n        setActiveEntity(node.entity)\n    };\n\n    const onOutNode = (node) => {\n        setActiveEntity(null)\n    };\n\n    const graphID = entities.reduce((acc, val) => acc + val.id, '').hashCode();\n\n    return (\n        <div\n            key={graphID}\n        >\n            <Sigma\n                renderer=\"webgl\"\n                graph={generateGraph()}\n                settings={graphSettings}\n                style={graphStyle}\n                onClickNode={(e) => {\n                    onClickNode(e.data.node)\n                }}\n                onOverNode={(e) => onOverNode(e.data.node)}\n                onOutNode={(e) => onOutNode(e.data.node)}\n            >\n                <SigmaEnableWebGL/>\n                <RandomizeNodePositions>\n                    <ForceAtlas2 worker\n                                 scalingRatio={1}\n                                 slowDown={10}\n                                 linLogMode={false}\n                                 iterationsPerRender={1}\n                                 timeout={entities.length / 100 * 1000}\n                    />\n\n                    <UpdateNodeProps entitiesColors={entitiesColors}\n                                     visibleEntities={visibleEntitiesIDS}\n                                     selectedEntities={selectedEntities}/>\n                </RandomizeNodePositions>\n            </Sigma>\n            {\n                activeEntityPos && activeEntity &&\n                <GraphActiveHint x={activeEntityPos.x} y={activeEntityPos.y} entity={activeEntity}\n                                 onClick={onClickNode}/>\n            }\n            {\n                selectedEntity &&\n                <GraphSelectedEntity\n                    highlightColor={highlightColor}\n                    setSelectedEntity={selectNode}\n                    selectCluster={props.selectCluster}\n                    entity={selectedEntity}/>\n            }\n        </div>\n    )\n};\n\n\nconst mapStateToProps = (state) => {\n    return {\n        connections: state.workSpace.entities.connections,\n        entities: getEntities(state),\n        entitiesColors: getEntitiesColors(state)\n    }\n};\n\nconst mapDispatchToProps = ({\n    selectCluster\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesGraph);\n","import {Visibility, Image, Placeholder} from 'semantic-ui-react'\nimport React from 'react';\nimport defaultImg from '../../media/defaultAvatar.png'\n\nexport default class LazyImage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            src: defaultImg\n        };\n        this.ref = React.createRef();\n    }\n\n    showImage = () => {\n        this.setState({\n            show: true,\n        })\n    };\n\n    // checkImageOnScreen() {\n    //     const inRange = (value, min, max) => {\n    //         return (value >= min) && (value <= max);\n    //     };\n    //     const {x, y} = this.ref.current.getBoundingClientRect();\n    //     if (inRange(x, 0, window.screen.width) && inRange(y, 0, window.screen.height)) {\n    //         console.log('show avatar');\n    //\n    //         this.setState({show: true})\n    //     }\n    // }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.ref.current)\n            this.ref.current.update()\n    }\n\n    render() {\n        const {src} = this.props;\n        if (!this.state.show) {\n            return (\n                <div>\n                    <Visibility ref={this.ref} fireOnMount onOnScreen={this.showImage}>\n                        <Placeholder style={{height: 100, width: 90}}>\n                            <Placeholder.Image/>\n                        </Placeholder>\n                    </Visibility>\n                </div>\n            )\n        }\n        return <Image {...this.props} src={this.state.src} onLoad={() => this.setState({src})}/>\n    }\n}","import React from \"react\";\nimport \"./style.less\";\nimport lockImg from \"./lock.png\";\nimport verifyImg from \"../../../media/vkverified.svg\";\nimport LazyImage from \"../../utils/LazyImage\";\nimport Link from \"../../utils/Link\";\n\nexport default function EntityItem(props) {\n    const entity = props.entity;\n    let baseClasses = [\"userContainer \"];\n    if (props.selected) baseClasses.push(\"choosed\");\n    let properties = {};\n    if(entity.properties)\n        properties = entity.properties;\n    const borderColor = properties.color;\n    const lockIcon = <img src={lockImg} className=\"lock\" alt=\"lock\"/>;\n    const verifyIcon = <img src={verifyImg} className=\"verified\" alt=\"verified\"/>;\n    let name = entity.name;\n    const maxNameLength = 16;\n    if(name.length > maxNameLength){\n        name = name.slice(0, maxNameLength);\n        name += '...'\n    }\n    return (\n        <div\n            onClick={props.toggleSelection}\n            onContextMenu={\n                e => {\n                    e.preventDefault();\n                    props.toggleSelection();\n                }\n            }\n            className={baseClasses.join(\" \")}>\n            <LazyImage\n                onMouseMove={e => e.preventDefault()}\n                onMouseDown={e => e.preventDefault()}\n                style={{borderColor: borderColor}}\n                size={'tiny'}\n                circular\n                bordered={false}\n                centered\n                className=\"avatar\"\n                title={entity.name}\n                src={entity.img}\n                alt=\"\"\n            />\n            {entity.private === 1 && lockIcon}\n            {entity.verified === 1 && verifyIcon}\n            <Link url={entity.url} text={name}/>\n\n        </div>\n    );\n}\n","import React, {useEffect, useState} from 'react';\nimport EntityItem from \"./EntityAvatar/Entity\";\nimport {listHash} from \"../../utils\";\n\nconst baseRenderedItemsCount = 40;\n\nconst EntitiesList = ({visibleEntities, toggleItemSelection, ...props}) => {\n    const [visibleItemsCount, setVisibleItemsCount] = useState(baseRenderedItemsCount);\n    console.log('DRAW ENTITIES');\n    const onScroll = (percents) => {\n        if (percents > 0.7) {\n            if (visibleEntities.length > visibleItemsCount) {\n                console.log(percents);\n                setVisibleItemsCount(Math.max(visibleItemsCount + 15, parseInt(visibleItemsCount * 1.2)))\n            }\n        }\n    };\n    useEffect(() => {\n        setVisibleItemsCount(baseRenderedItemsCount);\n    }, [listHash(visibleEntities)]);\n\n    const entitiesToShow = visibleEntities.slice(0, visibleItemsCount);\n    return (\n        <div className=\"entitiesContainer\" style={{maxHeight: '70vh', overflow: 'auto'}}\n             onMouseMove={e => e.preventDefault()}\n             onScroll={(e) => onScroll(e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight))}>\n\n\n            {entitiesToShow.map((obj) => (\n                <EntityItem\n                    entity={obj}\n                    key={obj.id}\n                    selected={props.selectedEntities.includes(obj.id)}\n                    toggleSelection={() => toggleItemSelection(obj.id)}\n                />\n            ))}\n        </div>\n    )\n};\n\nexport default EntitiesList;\n","import React from 'react';\n\n\nconst Scrolling = (props) => {\n\n    return (\n        <div style={{maxHeight: '70vh', overflow: 'auto'}}>\n            {\n                props.children\n            }\n        </div>\n    )\n};\n\nexport default Scrolling;\n","import React from 'react';\nimport EntityItem from \"./EntityAvatar/Entity\";\nimport {connect} from \"react-redux\";\nimport Scrolling from \"../utils/Scrolling\";\n\n\nconst ConnectionItem = props => {\n    const entity = props.entity;\n    const first = entity.items[0];\n    const second = entity.items[1];\n    return (\n        <>\n            <div className={'entityConnectionItem'}>\n            <EntityItem entity={first} toggleSelection={() => props.toggleItemSelection(first.id)}\n                        selected={props.selectedEntities.includes(first.id)}/>\n            <EntityItem entity={second} toggleSelection={() => props.toggleItemSelection(second.id)}\n                        selected={props.selectedEntities.includes(second.id)}\n            />\n            </div>\n        </>\n    )\n};\n\n\nconst EntitiesConnections = (props) => {\n    const visibleEntities = props.visibleEntities;\n    return (\n        <Scrolling>\n        {\n            visibleEntities.map(item => (\n                <ConnectionItem entity={item} {...props}/>\n            ))\n        }\n        </Scrolling>\n    )\n};\n\n\nexport default EntitiesConnections;\n","import React, {useEffect, useState} from \"react\";\nimport {Checkbox, Dimmer, Input, Loader, Radio, Segment} from \"semantic-ui-react\";\n\nimport {connect} from \"react-redux\";\nimport './style.less'\nimport NoContent from \"../utils/NoContent\";\nimport {\n    selectEntities,\n    setEntitiesSearchValue,\n    setSelectionMode,\n    toggleEntitySelection\n} from \"../../store/entitiesReducer\";\nimport SearchIcon from \"../utils/SearchIcon\";\nimport EntitiesGraph from \"./EntitiesGraph\";\nimport EntitiesList from \"./EntitiesList\";\nimport {getCurrentClusterData, getEntities} from \"../../store/selectors\";\nimport {Button, UISegment} from \"../utils/UI\";\nimport EntitiesConnections from \"./EntitiesConnections\";\n\n\nconst SelectionComponent = ({buttonAction}) => {\n    const [activeButton, setActiveButton] = useState(false);\n    return (\n        <>{\n            activeButton ?\n                <Button onClick={buttonAction}\n                        onMouseLeave={() => setActiveButton(false)}\n                        text={'Обычный режим'} compact basic/> :\n                <div onMouseEnter={() => setActiveButton(true)}>{'Выделение'}</div>\n        }\n\n        </>\n    )\n};\n\n\nconst EntitiesPanel = ({searchValue, selectEntities, entitiesIDS, entities, isLoading, setSearchValue, ...props}) => {\n    const noContent = <NoContent height={500} text={'Тут будут пользователи, группы, посты или прочая медиа информация'}\n                                 popup={'Введите запрос в поисковую строку сверху'}/>;\n    const selectedEntities = props.selectedEntities;\n    const [isNotValidHidden, changeNotValidHiddenMode] = useState(true);\n    const [isGraphView, setGraphView] = useState(false);\n    const [currClusterID, setCurrClusterID] = useState(props.clusterID);\n    let representType = undefined;\n    if (props.clusterData) representType = props.clusterData.params.representType;\n\n    const isEntityVisible = (entity) => {\n        const fitToSearch = (search, value) => {\n            if (!search)\n                return true;\n            if (!value)\n                return false;\n            return String(value).toLowerCase().includes(search.toLowerCase());\n        };\n        const ids = searchValue.split(', ');\n        if (ids.length > 1) {\n            return (!isNotValidHidden || entity.valid) && ids.includes(entity.id);\n        }\n        return (!isNotValidHidden || entity.valid) && (\n            fitToSearch(searchValue, entity.name) ||\n            fitToSearch(searchValue, entity.username) ||\n            fitToSearch(searchValue, entity.id)\n        );\n    };\n\n    const selectEntity = (entityID) => {\n        props.toggleEntitySelection(entityID);\n    };\n    useEffect(() => {\n        if (currClusterID !== props.clusterID) {\n            setCurrClusterID(props.clusterID);\n            setGraphView(false);\n        }\n    }, [props.clusterID])\n\n\n    const visibleEntities = entities.filter(item => isEntityVisible(item));\n\n    // if (!visibleEntities.length && isNotValidHidden)\n    //     changeNotValidHiddenMode(false);\n\n    const menuItemStyle = {display: 'flex', alignItems: 'center'};\n    return (\n        <Dimmer.Dimmable blurring as={UISegment} clearing dimmed={false}\n                         style={{display: 'flex', flexDirection: 'column', maxHeight: '100%'}}>\n            {\n                entities.length > 0 ?\n                    <>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            marginBottom: '1rem',\n                            marginLeft: '0.5rem',\n                            marginRight: '0.5rem',\n                            justifyContent: 'space-between'\n                        }}>\n                            <Input value={searchValue}\n                                   onChange={(e, data) => setSearchValue(data.value)}\n                                   size={'mini'}\n                                   icon={<SearchIcon isInputStringEmpty={!searchValue.length}\n                                                     onClose={() => setSearchValue('')}/>}\n                            />\n                            <div style={menuItemStyle}>\n                                {\n                                    !props.selectionMode ?\n                                        <Button text={'Режим выделения'} onClick={() => props.setSelectionMode(true)}\n                                                compact\n                                                basic/> :\n                                        <>\n                                            <SelectionComponent buttonAction={() => props.setSelectionMode(false)}/>\n                                            <Checkbox\n                                                style={{marginLeft: '0.5rem'}}\n                                                indeterminate={\n                                                    selectedEntities.length > 0 && (visibleEntities.length !== selectedEntities.length)\n                                                }\n                                                checked={visibleEntities.length === selectedEntities.length}\n                                                onChange={(e, data) => {\n                                                    const selected = data.checked;\n                                                    if (selected)\n                                                        selectEntities(visibleEntities.map(item => item.id));\n                                                    else\n                                                        selectEntities([]);\n                                                }}\n                                            />\n                                        </>\n                                }\n                            </div>\n                            <div style={menuItemStyle}>\n                                <div style={{paddingRight: '0.5rem'}}>Скрыть невалид</div>\n                                <Checkbox onClick={((e, data) => changeNotValidHiddenMode(data.checked))}\n                                          checked={isNotValidHidden}\n                                />\n                            </div>\n                            <div style={menuItemStyle}>\n\n                                <div style={{marginRight: '1rem'}}>Список</div>\n                                <Radio checked={isGraphView}\n                                       onChange={(e, data) => setGraphView(data.checked)} toggle/>\n                                <div style={{marginLeft: '1rem'}}>Граф</div>\n                            </div>\n                            <Dimmer inverted active={isLoading}>\n                                <Loader style={{top: '150px'}} active/>\n                            </Dimmer>\n\n                        </div>\n                        {\n                            !representType &&\n                            <>\n                                {\n                                    isGraphView ?\n                                        <EntitiesGraph\n                                            visibleEntities={visibleEntities} toggleItemSelection={selectEntity}\n                                            selectedEntities={selectedEntities}\n                                            selectEntities={selectEntities}\n                                        /> :\n                                        <EntitiesList visibleEntities={visibleEntities}\n                                                      toggleItemSelection={selectEntity}\n                                                      selectedEntities={selectedEntities}/>\n                                }\n                            </>\n                        }\n                        {\n                            representType === 'connections' &&\n                            <EntitiesConnections\n                                visibleEntities={visibleEntities} toggleItemSelection={selectEntity}\n                                selectedEntities={selectedEntities}\n                                selectEntities={selectEntities}\n                            />\n                        }\n\n                    </> : noContent\n            }\n\n        </Dimmer.Dimmable>\n    )\n\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        entitiesIDS: state.workSpace.entities.items,\n        entities: getEntities(state),\n        isLoading: state.workSpace.entities.isLoading,\n        selectedEntities: state.workSpace.entities.selectedItems,\n        searchValue: state.workSpace.entities.searchValue,\n        selectionMode: state.workSpace.entities.selectionMode,\n        clusterID: state.workSpace.clusters.selectedClusterID,\n        clusterData: getCurrentClusterData(state)\n    }\n};\n\nconst mapDispatchToProps = {\n    setSelectionMode,\n    selectEntities,\n    toggleEntitySelection,\n    setSearchValue: setEntitiesSearchValue\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EntitiesPanel);\n","import React, {Component} from \"react\";\nimport \"./style.less\";\n\n\nexport default class Hints extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeIndex: 0\n        };\n        document.onkeydown = e => {\n            switch (e.keyCode) {\n                case 13:\n                    this.props.chooseElement(this.props.values[this.state.activeIndex]);\n                    break;\n                case 27:\n                    this.props.unmountHints();\n                    break;\n                case 38:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.max(this.state.activeIndex - 1, 0)\n                    });\n                    break;\n                case 40:\n                    e.preventDefault();\n                    this.setState({\n                        activeIndex: Math.min(\n                            this.state.activeIndex + 1,\n                            this.props.values.length - 1\n                        )\n                    });\n                    break;\n                default:\n                    break;\n            }\n        };\n    }\n\n    componentWillUnmount() {\n        document.onkeydown = undefined;\n    }\n\n    render() {\n        const {values} = this.props;\n        return (\n            <div\n                style={{marginLeft: this.props.marginLeftSymbols * 7 + \"px\"}}\n                id=\"hintsList\"\n            >\n                {values.map((name, idx) => (\n                    <div\n                        onMouseDown={e => {\n                            this.props.chooseElement(\n                                this.props.values[Number(e.target.getAttribute(\"index\"))]\n                            );\n                        }}\n                        key={name}\n                        index={idx}\n                        className={\n                            \"hintsListItem \" +\n                            (this.state.activeIndex === idx && \"activeHint\")\n                        }\n                    >\n                        {name}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport {Segment, Input, Message, Icon} from \"semantic-ui-react\";\nimport \"./style.less\";\nimport {connect} from \"react-redux\";\nimport {\n    closeMessage,\n    executeMainScreenQuery,\n    executeQuery,\n    removeHints,\n    selectHint,\n    typeSymbol\n} from \"../../store/searchReducer\";\nimport Hints from \"./SearchHints\";\n\nconst SearchPanel = (props) => {\n    const [focused, setFocus] = React.useState(false);\n    const value = (focused && !props.placeholder.startsWith('Введите') && !props.value.length) ?\n        props.placeholder :\n        props.value;\n    const beginExecuteQueryString = (query) => {\n        if(!props.error){\n            props.executeQuery(query);\n        }\n    };\n    return (\n        <Segment basic style={{marginBottom: \"1rem\", padding: 0}}>\n            {\n                props.message.draw &&\n                <Message\n                    error={props.message.error}\n                    warning={props.message.warning}\n                >\n                    <Icon onClick={props.closeMessage} name='close'/>\n                    <Message.Header>{props.message.header}</Message.Header>\n                    <p>\n                        {props.message.body}\n                    </p>\n                </Message>\n            }\n            <Input\n                onChange={(e, data) => props.typeSymbol(data.value)}\n                fluid\n                onFocus={(e) => {\n                    setFocus(true)\n                }}\n                onBlur={() => {\n                    props.removeHints();\n                    setFocus(false);\n                }}\n                loading={props.loading}\n                error={props.error}\n                value={value}\n                icon={{\n                    name: \"search\",\n                    link: true,\n                    onClick: e => beginExecuteQueryString(props.value)\n                }}\n                placeholder={props.placeholder}\n                onKeyDown={e => {\n                    if (e.keyCode === 13 && !props.hints.length) {\n                        beginExecuteQueryString(value)\n                    }\n                }}\n            />\n            {props.hints.length > 0 && (\n                <Hints\n                    marginLeftSymbols={props.value.length}\n                    chooseElement={props.selectHint}\n                    unmountHints={props.removeHints}\n                    values={props.hints}\n                />\n            )}\n        </Segment>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    hints: state.workSpace.search.currentHints,\n    value: state.workSpace.search.queryString,\n    loading: state.workSpace.search.isLoading,\n    placeholder: state.workSpace.search.placeholder,\n    error: state.workSpace.search.isError,\n    warning: state.workSpace.search.isWarning,\n    message: state.workSpace.search.message,\n});\nconst mapDispatchToProps = {\n    executeQuery: executeMainScreenQuery,\n    typeSymbol,\n    selectHint,\n    removeHints,\n    closeMessage\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchPanel)\n","import React from \"react\";\nimport {clearLocalStorage, loadState} from \"./store/localStorage\";\nimport {Button} from \"./components/utils/UI\";\nimport {clearAll} from \"./store/workSpaceReducer\";\nimport {connect} from \"react-redux\";\n\nclass ErrorHandler extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false};\n    }\n\n    static getDerivedStateFromError(error) {\n        // Обновить состояние с тем, чтобы следующий рендер показал запасной UI.\n\n        return {hasError: true};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Можно также сохранить информацию об ошибке в соответствующую службу журнала ошибок\n        console.log('FRONT ERROR has occurred!')\n        // this.setState({hasError: true})\n    }\n\n    clickReturn() {\n        this.setState({hasError: false});\n        this.props.clearAll();\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // Можно отрендерить запасной UI произвольного вида\n            return <>\n                <div style={{margin: '3rem'}}>\n                    <h1>Что-то пошло не так!</h1>\n                    <h2> Опишите пожалуйста сценарий, который привел к данной ошибке (что вы делали в этот момент) в\n                        сообщении обратной связи (кнопка справа сверху на сайте), это поможет предотвратить появление\n                        данной ошибки впредь.</h2>\n                    <Button text={'Вернуться на сайт'} onClick={this.clickReturn.bind(this)}/>\n                    <h3>Внимание! После нажатия на кнопку все данные на сайте будут сброшены. Это никак не повлияет на\n                        ваш\n                        аккаунт</h3>\n                    <h3>Нужно будет заново зарегистрироваться или ввести все запросы по новой (если вы не\n                        авторизованы)</h3>\n                </div>\n            </>;\n        }\n\n        return this.props.children;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n\n    }\n};\n\nconst mapDispatchToProps = ({\n    clearAll\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorHandler);","import React from \"react\";\nimport \"./_variables.less\";\nimport \"semantic-ui-less/semantic.less\";\nimport './utils'\n\nimport {Container, Grid} from \"semantic-ui-react\";\n\nimport PageHeader from \"./components/PageHeader/PageHeader\";\nimport ControlPanel from \"./components/ControlPanel/ControlPanel\";\nimport ClustersPanel from \"./components/ClustersPanel/ClustersPanel\";\nimport EntitiesPanel from \"./components/EntitiesPanel/EntitiesPanel\";\nimport SearchPanel from \"./components/SearchPanel/SearchPanel\";\nimport ErrorHandler from \"./ErrorHandler\";\n\n\nfunction DesktopInterface() {\n    return (\n        <ErrorHandler>\n            <Container\n                style={{padding: \"3rem\", width: '90vw', height: '100vh', display: 'flex', flexDirection: 'column'}}>\n                <PageHeader/>\n                <SearchPanel/>\n\n                <Grid columns=\"equal\" style={{flexGrow: '1'}}>\n                    <Grid.Column width={4}>\n                        <ClustersPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={7}>\n                        <EntitiesPanel/>\n                    </Grid.Column>\n\n                    <Grid.Column width={5}>\n                        <ControlPanel/>\n                    </Grid.Column>\n                </Grid>\n            </Container>\n        </ErrorHandler>\n    );\n}\n\nexport default DesktopInterface;\n","import React from 'react';\nimport mobilePicture from './mobile.jpg'\n\nconst MobileInterface = (props) => {\n\n    return (\n        <div className={'mobileScreen'}>\n            <h3>NTrail</h3>\n            <div >К сожалению сайт пока не имеет мобильной версии. Зайтиде с компа...</div>\n            <img style={{margin:'1rem'}} src={mobilePicture} alt={''}/>\n        </div>\n    )\n};\n\nexport default MobileInterface;\n","import React from \"react\";\n\nimport {\n    BrowserView,\n    MobileView,\n    isBrowser,\n    isMobile\n} from \"react-device-detect\";\nimport DesktopInterface from \"./desktop\";\nimport MobileInterface from \"./mobile\";\nimport style from './style.less'\n\nfunction App() {\n    return (\n        <>\n           <BrowserView>\n               <DesktopInterface/>\n           </BrowserView>\n            <MobileView>\n                <MobileInterface/>\n            </MobileView>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {store} from './store/store.js'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}